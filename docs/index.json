[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/client/js/app.js",
    "content": "/**\r\n * App.js is responsible for connecting the UI with the game functionality.\r\n * Most of the functionality is used for the main menu and connecting/disconnecting behavior.\r\n */\r\n'use strict'\r\nimport { GLOBAL } from './global.js'\r\nimport * as cookies from './lib/cookies.js'\r\nimport { BLUEPRINTS, TOOLTIPS } from './obj/blueprints.js'\r\nimport { beginConnection, disconnect, teamColors } from './socket.js'\r\nimport { player, setIngame, startGame, mouseUpHandler, mouseDownHandler } from './pixigame.js'\r\nimport swal from 'sweetalert'\r\nimport VirtualJoystick from './lib/mobilejoystick.js'\r\n\r\n// Array containing all inputs which require cookies, and their values\r\nexport const cookieInputs = GLOBAL.COOKIES.map(val => document.getElementById(val))\r\n\r\n// Array containing the four chosen blueprints\r\nexport var selectedBlueprints = new Array(GLOBAL.BP_MAX)\r\n\r\nconst nickErrorText = document.getElementById('nickErrorText')\r\n\r\n// Mouse position - used for tooltips\r\nexport let mouseX, mouseY\r\n\r\n// Currently selected blueprint slot\r\nexport let selectedCompound = 0\r\n\r\nlet selectedSlot\r\n\r\nexport let music\r\n\r\nexport let sfx\r\n\r\nlet errorSound = new Sound('assets/sfx/error.mp3')\r\n\r\nexport let joystick = new VirtualJoystick()\r\n\r\n// Starts the game if the name is valid.\r\nfunction joinGame() {\r\n\tif (!allBlueprintsSelected()) {\r\n\t\tswal('Blueprint(s) not selected', 'Make sure all your blueprint slots are filled before joining a game!', 'error')\r\n\t}\r\n\t// check if the nick is valid\r\n\telse if (validNick()) {\r\n\t\t// Set cookies for inputs\r\n\t\tfor (let i = 0; i < GLOBAL.INPUT_COUNT; i++) {\r\n\t\t\tcookies.setCookie(GLOBAL.COOKIES[i], cookieInputs[i].value, GLOBAL.COOKIE_DAYS)\r\n\t\t}\r\n\r\n\t\t// Use cookies to set the ingame blueprint slot values\r\n\t\tfor (let i = 1; i <= GLOBAL.BP_MAX; i++) {\r\n\t\t\tselectedBlueprints[i - 1] = BLUEPRINTS[cookies.getCookie(GLOBAL.COOKIES[i - 1 + GLOBAL.INPUT_COUNT])]\r\n\r\n\t\t\t// Check whether blueprint is selected!\r\n\t\t\tdocument.getElementById('bp-ingame-' + i).innerHTML = selectedBlueprints[i - 1].name + ' (' + getCompoundFormula(selectedBlueprints[i - 1]) + ')'\r\n\t\t}\r\n\r\n\t\t// Show game window\r\n\t\tshowElement('gameAreaWrapper')\r\n\t\thideElement('startMenuWrapper')\r\n\r\n\t\t// Show loading screen\r\n\t\tshowElement('loading')\r\n\r\n\t\t// Cookie Inputs: 0=player, 1=room, 2=team\r\n\r\n\t\t// Connect to server\r\n\t\tbeginConnection()\r\n\t}\r\n\telse {\r\n\t\tnickErrorText.style.display = 'inline'\r\n\t}\r\n}\r\n\r\n/** check if nick is valid alphanumeric characters (and underscores)\r\n * @returns true if the nickname is valid, false otherwise\r\n */\r\nfunction validNick() {\r\n\tconst regex = /^(\\w|_|-| |!|\\.|\\?){2,16}$/\r\n\tfor (let i = 0; i < GLOBAL.INPUT_COUNT; i++) {\r\n\t\tif (regex.exec(cookieInputs[i].value) === null && !(i === 1 && cookieInputs[7].value !== 'private')) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\treturn true\r\n}\r\n\r\n/**\r\n * Returns true if all four blueprint slots are filled.\r\n */\r\nfunction allBlueprintsSelected() {\r\n\tfor (let i = GLOBAL.INPUT_COUNT - 1; i < GLOBAL.INPUT_COUNT + GLOBAL.BP_MAX; i++) {\r\n\t\tif (cookieInputs[i].innerHTML.substring(0, 1) === '-') {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\treturn true\r\n}\r\n\r\n/**\r\n * Onload function. Initializes the menu screen, creates click events, and loads cookies.\r\n */\r\nwindow.onload = () => {\r\n\t// Patch logo for firefox\r\n\tif (typeof InstallTrigger !== 'undefined') { document.getElementById('logo').innerHTML = `<img src=\"assets/logos/logo.svg\" id=\"logo-firefox\">`; } // eslint-disable-line\r\n\r\n\t// Cookie loading - create array of all cookie values\r\n\tlet cookieValues = GLOBAL.COOKIES.map(val => cookies.getCookie(val))\r\n\r\n\t// Continue loading cookies only if it exists\r\n\tlet i = 0\r\n\tfor (let cookie of cookieValues) {\r\n\t\tif (cookie !== null && cookie.length > 0) {\r\n\t\t\tif (cookieInputs[i].tagName === 'INPUT' || cookieInputs[i].tagName === 'SELECT') {\r\n\t\t\t\tcookieInputs[i].value = cookie\r\n\t\t\t}\r\n\t\t\telse if (cookieInputs[i].tagName === 'BUTTON' && BLUEPRINTS[cookie] !== undefined) {\r\n\t\t\t\tcookieInputs[i].innerHTML = BLUEPRINTS[cookie].name\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\t// Add listeners to start game to enter key and button click\r\n\r\n\tdocument.addEventListener('pointerdown', mouseUpHandler)\r\n\tdocument.addEventListener('pointerup', mouseDownHandler)\r\n\r\n\tbindHandler('startButton', function () {\r\n\t\tjoinGame()\r\n\t})\r\n\r\n\tbindHandler('quitButton', function () {\r\n\t\tquitGame('You have left the game.', false)\r\n\t})\r\n\r\n\tbindHandler('exitButton', function () {\r\n\t\tquitGame('The game has ended.', false)\r\n\t\thideElement('winner-panel')\r\n\t})\r\n\r\n\tbindHandler('resumeButton', function () {\r\n\t\thideElement('menubox')\r\n\t})\r\n\r\n\tbindHandler('optionsButton', function () {\r\n\t\terrorSound.play()\r\n\t\tswal('', 'This feature is not implemented.', 'info')\r\n\t})\r\n\r\n\tbindHandler('controlsButton', function () {\r\n\t\terrorSound.play()\r\n\t\tswal('', 'This feature is not implemented.', 'info')\r\n\t})\r\n\r\n\tbindHandler('creditsButton', function () {\r\n\t\tswal('', 'Created by BananiumLabs.com', 'info')\r\n\t})\r\n\r\n\tbindHandler('btn-start-game', function () {\r\n\t\tconsole.log('starting game')\r\n\t\tstartGame(true)\r\n\t})\r\n\r\n\tbindHandler('newsBox', function () {\r\n\t\tswal('', 'hello world', 'info')\r\n\t})\r\n\r\n\t// document.getElementById('gameView', onClick, false);\r\n\r\n\tfor (let i = 0; i < selectedBlueprints.length; i++) {\r\n\t\tbindHandler('bp-ingame-' + (i + 1), function () {\r\n\t\t\tselectedCompound = i\r\n\t\t\tupdateCompoundButtons()\r\n\t\t})\r\n\t}\r\n\r\n\t// Set up the blueprint slot buttons\r\n\tfor (let i = 1; i <= GLOBAL.BP_MAX; i++) {\r\n\t\tdocument.getElementById('bp-slot-' + i).onclick = () => {\r\n\t\t\tshowElement('bp-select')\r\n\t\t\tdocument.getElementById('bp-select-header').innerHTML = GLOBAL.BP_SELECT + i\r\n\t\t\tselectedSlot = i\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.getElementById('btn-close').onclick = () => {\r\n\t\thideElement('bp-select')\r\n\t}\r\n\r\n\t// Set up blueprint selection buttons\r\n\tfor (let blueprint in BLUEPRINTS) {\r\n\t\tif (BLUEPRINTS[blueprint].unlocked) {\r\n\t\t\tlet bp = BLUEPRINTS[blueprint]\r\n\r\n\t\t\tdocument.getElementById('blueprint-wrapper').innerHTML +=\r\n\t\t\t\t`\r\n\t\t\t\t<button onmouseenter=\"tooltipFollow(this)\" class=\"button width-override col-6 col-12-sm btn-blueprint blueprint-${bp.type}\" id=\"btn-blueprint-${blueprint}\">\r\n\t\t\t\t\t<p>${bp.name}</p>\r\n\t\t\t\t\t<h6>-${getCompoundFormula(bp)} (${bp.type.charAt(0).toUpperCase() + bp.type.slice(1)})-</h6>\r\n\t\t\t\t\t<img src=\"${GLOBAL.COMPOUND_DIR + bp.texture}\">\r\n\t\t\t\t\t<span class=\"tooltip\">${bp.tooltip}</span>\r\n\t\t\t\t</button>\r\n\t\t\t\t`\r\n\t\t}\r\n\t}\r\n\t// Blueprint Slots\r\n\tfor (let btn of document.getElementsByClassName('btn-blueprint')) {\r\n\t\tbtn.onclick = () => {\r\n\t\t\tlet blueprint = btn.id.substring(14) // Name of the blueprint, the first 14 characters are 'btn-blueprint-'\r\n\t\t\tconsole.log(blueprint + ' selected in slot ' + selectedSlot)\r\n\t\t\tdocument.getElementById('bp-slot-' + selectedSlot).innerHTML = BLUEPRINTS[blueprint].name\r\n\t\t\thideElement('bp-select')\r\n\t\t\tcookies.setCookie(GLOBAL.COOKIES[selectedSlot + GLOBAL.INPUT_COUNT - 1], blueprint, GLOBAL.COOKIE_DAYS)\r\n\t\t}\r\n\t}\r\n\r\n\t// Add enter listeners for all inputs\r\n\tfor (let i = 0; i < GLOBAL.INPUT_COUNT; i++) {\r\n\t\tcookieInputs[i].addEventListener('keypress', e => {\r\n\t\t\tconst key = e.which || e.keyCode\r\n\r\n\t\t\tif (key === GLOBAL.KEY_ENTER) {\r\n\t\t\t\tjoinGame()\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// Behavior when room type is changed\r\n\tif (cookieInputs[7].value !== 'private') {\r\n\t\thideElement('room')\r\n\t}\r\n\telse {\r\n\t\tshowElement('room')\r\n\t}\r\n\r\n\tcookieInputs[7].onchange = () => {\r\n\t\tif (cookieInputs[7].value === 'private') {\r\n\t\t\tshowElement('room')\r\n\t\t}\r\n\t\telse {\r\n\t\t\thideElement('room')\r\n\t\t}\r\n\r\n\t\tcookies.setCookie(GLOBAL.COOKIES[7], cookieInputs[7].value, GLOBAL.COOKIE_DAYS)\r\n\t}\r\n\r\n\t// Server changed\r\n\tcookieInputs[8].onchange = () => {\r\n\t\tcookies.setCookie(GLOBAL.COOKIES[8], cookieInputs[8].value, GLOBAL.COOKIE_DAYS)\r\n\t}\r\n\r\n\tdocument.getElementById('team-option').onchange = document.getElementById('solo').onchange = () => {\r\n\t\tconsole.log('change')\r\n\t\tif (document.querySelector('input[name=\"queue-type\"]:checked').id === 'team-option') {\r\n\t\t\tshowElement('team')\r\n\t\t}\r\n\t\telse {\r\n\t\t\thideElement('team')\r\n\t\t}\r\n\t}\r\n\r\n\tplayMusic()\r\n}\r\n\r\n/**\r\n * Sets mouse positions for tooltip\r\n */\r\nwindow.onmousemove = (e) => {\r\n\tmouseX = e.clientX\r\n\tmouseY = e.clientY\r\n}\r\n\r\n/**\r\n * Loop main menu music\r\n */\r\nfunction playMusic() {\r\n\tmusic = document.createElement('audio')\r\n\tHTMLElement.prototype.randomSelectMM = function () {\r\n\t\tmusic.src = GLOBAL.MAINMENU_MUSICLIST[Math.floor(Math.random() * GLOBAL.MAINMENU_MUSICLIST.length)]\r\n\t}\r\n\tmusic.randomSelectMM()\r\n\tmusic.style.display = 'none'\t// fix ios device\r\n\t// music.autoplay = true\r\n\tmusic.type = 'audio/mpeg'\r\n\tmusic.id = 'mainmenu'\r\n\r\n\tmusic.onended = function () {\r\n\t\tmusic.randomSelectMM()\r\n\t\tmusic.play()\r\n\t}\r\n\t// music.loop = true\r\n\t// audio.onended = function() {\r\n\t// \taudio.remove()\r\n\t// };\r\n\tdocument.body.appendChild(music)\r\n\tlet audioPlay = document.getElementById('mainmenu').play()\r\n\r\n\tif (audioPlay !== undefined) {\r\n\t\taudioPlay.then(_ => {\r\n\t\t\tconsole.log('Music started')\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.warn(error)\r\n\t\t\tconsole.log('Music start prevented. Starting Bypass method.')\r\n\t\t\t// How this works is that the iframe with audio\r\n\t\t\tlet bypassElement = document.createElement('iframe')\r\n\t\t\tbypassElement.src = 'assets/sfx/silence.mp3'\r\n\t\t\tbypassElement.allow = 'autoplay'\r\n\t\t\tbypassElement.type = 'audio/mpeg'\r\n\t\t\tbypassElement.id = 'bypassaudio'\r\n\t\t\tdocument.body.appendChild(bypassElement)\r\n\t\t\tdocument.getElementById('bypassaudio').addEventListener('load', function () {\r\n\t\t\t\tdocument.getElementById('mainmenu').play()\r\n\t\t\t\tdocument.getElementById('bypassaudio').remove()\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction Sound(src) {\r\n\tthis.sound = document.createElement('audio')\r\n\tthis.sound.src = src\r\n\tthis.sound.setAttribute('preload', 'auto')\r\n\tthis.sound.setAttribute('controls', 'none')\r\n\tthis.sound.style.display = 'none'\r\n\tdocument.body.appendChild(this.sound)\r\n\tthis.play = function () {\r\n\t\tthis.sound.currentTime = 0\r\n\t\tthis.sound.play()\r\n\t}\r\n\tthis.stop = function () {\r\n\t\tthis.sound.pause()\r\n\t}\r\n}\r\n\r\n/**\r\n * Transitions from in-game displays to the main menu.\r\n * @param {string} msg The message to be displayed in the menu after disconnect.\r\n * @param {boolean} isError True if the game quit was due to an error; false otherwise.\r\n */\r\nexport function quitGame(msg, isError) {\r\n\t// Disconnect from server\r\n\tdisconnect()\r\n\r\n\t// Set status of ingame\r\n\tsetIngame(false)\r\n\r\n\t// menu\r\n\thideElement('gameAreaWrapper')\r\n\thideElement('hud')\r\n\thideElement('menubox')\r\n\tshowElement('startMenuWrapper')\r\n\thideElement('lobby')\r\n\thideElement('winner-panel')\r\n\tswal('Disconnected from Game', msg, (isError) ? 'error' : 'info')\r\n}\r\n\r\n/**\r\n * Binds handlerMethod to onclick event for element id.\r\n * @param {string} id\r\n * @param {function} handlerMethod\r\n */\r\nexport function bindHandler(id, handlerMethod) {\r\n\tdocument.getElementById(id).onclick = handlerMethod\r\n}\r\n\r\n/**\r\n * Displays a hidden element\r\n * @param {string} el The id of the element to show\r\n */\r\nexport function showElement(el) {\r\n\tdocument.getElementById(el).style.display = 'block'\r\n\tif (el === 'startMenuWrapper') {\r\n\t\tmusic.randomSelectMM()\r\n\t\tmusic.currentTime = 0\r\n\t\tmusic.play()\r\n\t}\r\n\telse if (el === 'lobby') {\t// In lobby\r\n\t\tmusic.pause()\t// Pause main menu music\r\n\t\t// music.currentTime = 9999\r\n\t}\r\n\telse if (el === 'gameAreaWrapper') {\t// In game\r\n\t\tmusic.pause()\t// Pause main menu music\r\n\t\t// music.currentTime = 9999\r\n\t}\r\n}\r\n\r\n/**\r\n * Hides a visible element\r\n * @param {string} el The id of the element to hide\r\n */\r\nexport function hideElement(el) {\r\n\tdocument.getElementById(el).style.display = 'none'\r\n}\r\n\r\n/**\r\n * Makes tooltip follow the mouse. Call when a button is hovered.\r\n * @param {HTMLElement} button The element reference for the button currently being hovered.\r\n */\r\nwindow.tooltipFollow = (button) => {\r\n\tlet tooltip = button.getElementsByClassName('tooltip')[0]\r\n\ttooltip.style.top = (mouseY - 150) + 'px'\r\n\ttooltip.style.left = (mouseX - 150) + 'px'\r\n}\r\n\r\n// Toggle compound stats and info tooltips\r\nlet compoundStats = false\r\n\r\nwindow.onkeydown = (e) => {\r\n\t// Only detect if the blueprint select screen is up\r\n\tif (document.getElementById('bp-select').style.display === 'block' && e.key === 'Shift') {\r\n\t\tcompoundStats = !compoundStats\r\n\t\t// Iterate through all compound buttons\r\n\t\tfor (let button of document.getElementsByClassName('btn-blueprint')) {\r\n\t\t\t// Get blueprint from BLUEPRINTS\r\n\t\t\tlet blueprint = Object.values(BLUEPRINTS).filter((obj) => {\r\n\t\t\t\treturn obj.name === button.getElementsByTagName('p')[0].innerHTML\r\n\t\t\t})\r\n\t\t\tblueprint = blueprint[0]\r\n\r\n\t\t\tif (compoundStats) {\r\n\t\t\t\tlet newTooltip = TOOLTIPS[blueprint.type] + '<br><br>'\r\n\t\t\t\tfor (let param in blueprint.params) {\r\n\t\t\t\t\tif (!GLOBAL.BP_TOOLTIP_BLACKLIST.includes(param)) {\r\n\t\t\t\t\t\tlet line = ('' + param).replace(/([A-Z])/g, ' $1').replace(/^./, (str) => {\r\n\t\t\t\t\t\t\treturn str.toUpperCase()\r\n\t\t\t\t\t\t}) + ': ' + blueprint.params[param] + '<br>'\r\n\t\t\t\t\t\tnewTooltip += line\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbutton.getElementsByClassName('tooltip')[0].innerHTML = newTooltip\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbutton.getElementsByClassName('tooltip')[0].innerHTML = blueprint.tooltip\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Updates the list of atoms that the player holds.\r\n * Only updates the entry for the particular ID given.\r\n * @param {string} atomID The ID of the atom to update.\r\n */\r\nexport function updateAtomList(atomID) {\r\n\tlet list = document.getElementById('atom-count')\r\n\r\n\tif (document.getElementById('atom-list-' + atomID) === null) {\r\n\t\tlet newEntry = document.createElement('li')\r\n\t\tnewEntry.setAttribute('id', 'atom-list-' + atomID)\r\n\t\tlist.appendChild(newEntry)\r\n\t}\r\n\r\n\ttry {\r\n\t\tdocument.getElementById('atom-list-' + atomID).innerHTML = '' + atomID.charAt(0).toUpperCase() + atomID.substr(1) + ': ' + player.atomList[atomID]\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.warn('Atom ' + atomID + ' could not be updated on the list!')\r\n\t}\r\n\r\n\tupdateCompoundButtons() // No need to update selection\r\n}\r\n\r\n/**\r\n *\r\n * @param {number} selectedSlot The index of the selected slot. 0-3\r\n */\r\nexport function updateCompoundButtons(selectedSlot) {\r\n\tif (selectedSlot === undefined) {\r\n\t\tselectedSlot = selectedCompound\r\n\t}\r\n\telse {\r\n\t\tselectedCompound = parseInt(selectedSlot)\r\n\t}\r\n\r\n\tfor (let i = 0; i < selectedBlueprints.length; i++) {\r\n\t\tif (selectedCompound !== i) {\r\n\t\t\tif (canCraft(selectedBlueprints[i])) {\r\n\t\t\t\tdocument.getElementById('bp-ingame-' + (i + 1)).style.background = '#2ecc71'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdocument.getElementById('bp-ingame-' + (i + 1)).style.background = '#C8C8C8'\r\n\t\t\t}\r\n\t\t}\r\n\t\telse { // is selected\r\n\t\t\tif (canCraft(selectedBlueprints[i])) {\r\n\t\t\t\tdocument.getElementById('bp-ingame-' + (i + 1)).style.background = '#003CA8'\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdocument.getElementById('bp-ingame-' + (i + 1)).style.background = '#3D66D1'\r\n\t\t\t}\r\n\t\t\tdocument.getElementById('bp-select-label').innerHTML = 'Selected Compound: ' + selectedBlueprints[i].name\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Updates the team scoreboard on screen.\r\n */\r\nexport function updateScores(teamSlot, increment) {\r\n\tdocument.getElementById('team-score-' + teamSlot).innerHTML = parseInt(document.getElementById('team-score-' + teamSlot).innerHTML) + increment\r\n}\r\n\r\n/**\r\n * Run on new player join to sync lobby information\r\n * @param {*} data The data transferred from server\r\n */\r\nexport function updateLobby(data) {\r\n\t// Wipe innerHTML first\r\n\tlet lobby = document.getElementById('team-display')\r\n\tlobby.innerHTML = ''\r\n\tfor (let player in data.players) {\r\n\t\tif (document.getElementById(data.players[player].team) === null || document.getElementById(data.players[player].team) === undefined) {\r\n\t\t\tlobby.innerHTML += `\r\n            <div class=\"col-3\">\r\n                <h3 style=\"color: #${GLOBAL.TEAM_COLORS[teamColors[data.players[player].team]]}\">` + data.players[player].team + `</h3>\r\n                <ul id=\"` + data.players[player].team + `\">\r\n                </ul>\r\n            </div>\r\n            `\r\n\t\t}\r\n\t\tlet listItem = document.createElement('LI')\r\n\t\tlistItem.appendChild(document.createTextNode(data.players[player].name))\r\n\t\tdocument.getElementById(data.players[player].team).appendChild(listItem)\r\n\t}\r\n\r\n\t// Check if room is startable\r\n\tif (data.canStart) {\r\n\t\tdocument.getElementById('btn-start-game').innerHTML = 'Start Game'\r\n\t\tdocument.getElementById('btn-start-game').disabled = false\r\n\t}\r\n\telse {\r\n\t\tdocument.getElementById('btn-start-game').innerHTML = 'Waiting for Players...'\r\n\t\tdocument.getElementById('btn-start-game').disabled = true\r\n\t}\r\n}\r\n\r\n/**\r\n * Displays the winner panel after a game has concluded.\r\n * @param {*} data Server sent data, including name and score of winning team.\r\n */\r\nexport function displayWinner(data) {\r\n\t// console.log(data);\r\n\tdocument.getElementById('winner-name').innerHTML = data.winner + ' has won!'\r\n\tshowElement('winner-panel')\r\n}\r\n\r\n/**\r\n * Gets the formatted formula of a compound (e.g. C6H12O6).\r\n * @param {*} blueprint The blueprint object as defined in blueprints.js\r\n * @returns {string} The formula of the compound\r\n */\r\nfunction getCompoundFormula(blueprint) {\r\n\tlet formula = ''\r\n\tfor (let atom in blueprint.atoms) {\r\n\t\tformula += atom.toUpperCase() + ((blueprint.atoms[atom] > 1) ? blueprint.atoms[atom] : '')\r\n\t}\r\n\r\n\treturn formula\r\n}\r\n\r\n/**\r\n * Returns true if the player has the materials necessary to create a particular blueprint.\r\n * ONLY USE FOR BUTTON GRAPHICS!!! True checking is done serverside.\r\n * @param {string} blueprint The name of the blueprint to check.\r\n */\r\nfunction canCraft(blueprint) {\r\n\tif (blueprint === undefined) {\r\n\t\treturn false\r\n\t}\r\n\tfor (let atom in blueprint.atoms) {\r\n\t\tif (player.atomList[atom] === undefined || player.atomList[atom] < blueprint.atoms[atom]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\treturn true\r\n}\r\n// Anti debugger on non-debug builds\r\nif (!GLOBAL.DEBUG) {\r\n\tconsole.log = function () {\r\n\t\tconsole.info('Log disabled. Non-Debug build.')\r\n\t}\r\n\t// while (true) {\r\n\t// \tsetTimeout(function () {\r\n\t// \t\teval('debugger')\r\n\t// \t}, 200)\r\n\t// }\r\n\tsetInterval(function () {\r\n\t\tvar startTime = performance.now(); var check; var diff\r\n\t\tfor (check = 0; check < 1000; check++) {\r\n\t\t\tconsole.log(check)\r\n\t\t\tconsole.clear()\r\n\t\t}\r\n\t\tdiff = performance.now() - startTime\r\n\t\tif (diff > 200) {\r\n\t\t\t// window.close()\r\n\t\t\t//   alert('Debugger detected!')\r\n\r\n\t\t\tdocument.body.innerHTML = '<h1 style=\"color:red\">A critical error has been detected. Please contact the developer with the following information.<br>Error: Production build sec violation.</b></h1>'\r\n\t\t\terrorSound.play()\r\n\t\t\tlet counter = 0\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tdocument.body.innerHTML = '<div style=\"--a:1px;--b:calc(var(--a) + var(--a));--c:calc(var(--b) + var(--b));--d:calc(var(--c) + var(--c));--e:calc(var(--d) + var(--d));--f:calc(var(--e) + var(--e));--g:calc(var(--f) + var(--f));--h:calc(var(--g) + var(--g));--i:calc(var(--h) + var(--h));--j:calc(var(--i) + var(--i));--k:calc(var(--j) + var(--j));--l:calc(var(--k) + var(--k));--m:calc(var(--l) + var(--l));--n:calc(var(--m) + var(--m));--o:calc(var(--n) + var(--n));--p:calc(var(--o) + var(--o));--q:calc(var(--p) + var(--p));--r:calc(var(--q) + var(--q));--s:calc(var(--r) + var(--r));--t:calc(var(--s) + var(--s));--u:calc(var(--t) + var(--t));--v:calc(var(--u) + var(--u));--w:calc(var(--v) + var(--v));--x:calc(var(--w) + var(--w));--y:calc(var(--x) + var(--x));--z:calc(var(--y) + var(--y));--vf:calc(var(--z) + 1px);border-width:var(--vf);border-style:solid;\">error</div>'\r\n\t\t\t\tdocument.body.style.cssText = null\r\n\t\t\t\tlet buffer = 'nohax'\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tbuffer = buffer += buffer\r\n\t\t\t\t\t// for (;;);\r\n\t\t\t\t\tif (counter % 10 === 0) {\r\n\t\t\t\t\t\tdebugger\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 100)\r\n\t\t}\r\n\t}, 500)\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/app.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "cookieInputs",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~cookieInputs",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{cookieInputs}",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 50,
    "kind": "variable",
    "name": "selectedBlueprints",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~selectedBlueprints",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{selectedBlueprints}",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 51,
    "kind": "variable",
    "name": "nickErrorText",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~nickErrorText",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 52,
    "kind": "variable",
    "name": "selectedCompound",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~selectedCompound",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{selectedCompound}",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 53,
    "kind": "variable",
    "name": "errorSound",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~errorSound",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 54,
    "kind": "variable",
    "name": "joystick",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~joystick",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{joystick}",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "type": {
      "types": [
        "src/client/js/lib/mobilejoystick.js~VirtualJoystick"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "function",
    "name": "joinGame",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~joinGame",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 56,
    "kind": "function",
    "name": "validNick",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~validNick",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": "check if nick is valid alphanumeric characters (and underscores)",
    "lineNumber": 78,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "true if the nickname is valid, false otherwise"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "true if the nickname is valid, false otherwise"
    },
    "params": [],
    "ignore": true
  },
  {
    "__docId__": 57,
    "kind": "function",
    "name": "allBlueprintsSelected",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~allBlueprintsSelected",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": "Returns true if all four blueprint slots are filled.",
    "lineNumber": 92,
    "params": [],
    "return": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 58,
    "kind": "function",
    "name": "playMusic",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~playMusic",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": "Loop main menu music",
    "lineNumber": 278,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 59,
    "kind": "function",
    "name": "Sound",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~Sound",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 321,
    "undocument": true,
    "params": [
      {
        "name": "src",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "function",
    "name": "quitGame",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~quitGame",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{quitGame}",
    "description": "Transitions from in-game displays to the main menu.",
    "lineNumber": 342,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "msg",
        "description": "The message to be displayed in the menu after disconnect."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "isError",
        "description": "True if the game quit was due to an error; false otherwise."
      }
    ],
    "return": null
  },
  {
    "__docId__": 61,
    "kind": "function",
    "name": "bindHandler",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~bindHandler",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{bindHandler}",
    "description": "Binds handlerMethod to onclick event for element id.",
    "lineNumber": 364,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "handlerMethod",
        "description": ""
      }
    ],
    "return": null
  },
  {
    "__docId__": 62,
    "kind": "function",
    "name": "showElement",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~showElement",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{showElement}",
    "description": "Displays a hidden element",
    "lineNumber": 372,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "el",
        "description": "The id of the element to show"
      }
    ],
    "return": null
  },
  {
    "__docId__": 63,
    "kind": "function",
    "name": "hideElement",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~hideElement",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{hideElement}",
    "description": "Hides a visible element",
    "lineNumber": 393,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "el",
        "description": "The id of the element to hide"
      }
    ],
    "return": null
  },
  {
    "__docId__": 64,
    "kind": "variable",
    "name": "compoundStats",
    "memberof": "src/client/js/app.js",
    "static": true,
    "longname": "src/client/js/app.js~compoundStats",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 408,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 65,
    "kind": "function",
    "name": "updateAtomList",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~updateAtomList",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{updateAtomList}",
    "description": "Updates the list of atoms that the player holds.\nOnly updates the entry for the particular ID given.",
    "lineNumber": 446,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "atomID",
        "description": "The ID of the atom to update."
      }
    ],
    "return": null
  },
  {
    "__docId__": 66,
    "kind": "function",
    "name": "updateCompoundButtons",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~updateCompoundButtons",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{updateCompoundButtons}",
    "description": "",
    "lineNumber": 469,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "selectedSlot",
        "description": "The index of the selected slot. 0-3"
      }
    ],
    "return": null
  },
  {
    "__docId__": 67,
    "kind": "function",
    "name": "updateScores",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~updateScores",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{updateScores}",
    "description": "Updates the team scoreboard on screen.",
    "lineNumber": 501,
    "params": [
      {
        "name": "teamSlot",
        "types": [
          "*"
        ]
      },
      {
        "name": "increment",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 68,
    "kind": "function",
    "name": "updateLobby",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~updateLobby",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{updateLobby}",
    "description": "Run on new player join to sync lobby information",
    "lineNumber": 509,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data transferred from server"
      }
    ],
    "return": null
  },
  {
    "__docId__": 69,
    "kind": "function",
    "name": "displayWinner",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~displayWinner",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": "{displayWinner}",
    "description": "Displays the winner panel after a game has concluded.",
    "lineNumber": 543,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Server sent data, including name and score of winning team."
      }
    ],
    "return": null
  },
  {
    "__docId__": 70,
    "kind": "function",
    "name": "getCompoundFormula",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~getCompoundFormula",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": "Gets the formatted formula of a compound (e.g. C6H12O6).",
    "lineNumber": 554,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string} The formula of the compound"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "blueprint",
        "description": "The blueprint object as defined in blueprints.js"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "The formula of the compound"
    },
    "ignore": true
  },
  {
    "__docId__": 71,
    "kind": "function",
    "name": "canCraft",
    "memberof": "src/client/js/app.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/app.js~canCraft",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/app.js",
    "importStyle": null,
    "description": "Returns true if the player has the materials necessary to create a particular blueprint.\nONLY USE FOR BUTTON GRAPHICS!!! True checking is done serverside.",
    "lineNumber": 568,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "blueprint",
        "description": "The name of the blueprint to check."
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 72,
    "kind": "file",
    "name": "src/client/js/app.test.js",
    "content": "test('Placeholder test', () => {\r\n\texpect()\r\n})\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/app.test.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 73,
    "kind": "file",
    "name": "src/client/js/global.js",
    "content": "import { MAP_LAYOUT } from './obj/tiles'\r\n\r\n// Contains all global constants and functions for both the client and server.\r\nexport const GLOBAL = {\r\n\r\n\tDEBUG: true, // REMEMBER to toggle this lmao if you dont want your entire pc crashing\r\n\tVERBOSE_SOCKET: false, // true = debug clientside socket -> log if any socket method has been called\r\n\t// Keys and other mathematical constants\r\n\tKEY_ESC: 27,\r\n\tKEY_ENTER: 13,\r\n\tKEY_W: 87,\r\n\tKEY_A: 65,\r\n\tKEY_S: 83,\r\n\tKEY_D: 68,\r\n\tKEY_1: 49,\r\n\tKEY_2: 50,\r\n\tKEY_3: 51,\r\n\tKEY_4: 52,\r\n\tKEY_SPACE: 32,\r\n\r\n\t// Blueprints\r\n\tBP_SELECT: 'Blueprint Select - Slot ', // Text for blueprint select header\r\n\tBP_MAX: 4, // Maximum number of blueprints a player can have in one game at a time\r\n\t// Params that will not display on tooltip\r\n\tBP_TOOLTIP_BLACKLIST: [\r\n\t\t'evaporate',\r\n\t\t'splashImage'\r\n\t],\r\n\r\n\t// Main menu\r\n\tINPUT_COUNT: 3, // Number of input boxes on main menu\r\n\r\n\t// Chat\r\n\tPLACEHOLDER_NAME: 'Unnamed Player',\r\n\tMAX_CHATS: 50, // Max number of chats to be displayed before deleting\r\n\r\n\t// Server\r\n\tSERVER_IP: 'atomblast.bananiumlabs.com:12002', // Change during production!!!!!\r\n\tLOCAL_HOST: 'localhost:12002',\r\n\tTEST_IP: 'https://iogame-test.herokuapp.com/',\r\n\tNO_ROOM_IDENTIFIER: '$_NOROOM', // Pass to server if matchmaking is required\r\n\tNO_TEAM_IDENTIFIER: '$_NOTEAM', // Pass to server if matchmaking is required\r\n\tROOM_DELETE_DELAY: 30000, // Time, in ms, between winning and room closing\r\n\r\n\t// Cookies\r\n\tCOOKIES: [\r\n\t\t'name', // 0\r\n\t\t'room', // 1\r\n\t\t'team', // 2\r\n\t\t'bp-slot-1', // 3\r\n\t\t'bp-slot-2', // 4\r\n\t\t'bp-slot-3', // 5\r\n\t\t'bp-slot-4', // 6\r\n\t\t'room-type', // 7\r\n\t\t'server' // 8\r\n\t],\r\n\tCOOKIE_DAYS: 14, // Cookie lifetime\r\n\r\n\t// Player Movement\r\n\tMAX_SPEED: 6,\r\n\tPLAYER_RADIUS: 100,\r\n\tVELOCITY_STEP: 0.85, // speed multiplier when player is gliding to a stop\r\n\tLERP_VALUE: 0.2,\r\n\tDEADZONE: 0.1,\r\n\tMAX_HEALTH: 100, // Starting health of players\r\n\tPLAYER_ROTATION: 0.05,\r\n\tPLAYER_EXPEDITED_ROTATION: 0.1,\r\n\r\n\t// Atoms\r\n\tATOM_RADIUS: 30, // size of spawned atoms\r\n\tMIN_POWERUPS: 150, // minimum number of powerups to be spawned (TEMPORARY)\r\n\tMAX_POWERUPS: 300, // maximum number of powerups to be spawned (TEMPORARY)\r\n\tATTRACTION_RADIUS: 150, // Max distance for powerup to be attracted to player\r\n\tATTRACTION_COEFFICIENT: 100, // Multiplier for attraction strength\r\n\tATOM_SPAWN_SPEED: 15, // Speed that atom travels away from spawner\r\n\tATOM_SPAWN_DELAY: 3000, // Atom spawn delay, in milliseconds\r\n\tATOM_COLLECT_THRESHOLD: 100, // Distance away from center of player that the atom must be before being collected\r\n\r\n\t// Map and Tiles\r\n\tMAP_SIZE: 2000,\r\n\tSPAWN_POINTS: [\r\n\t\t{ x: 0, y: 0 },\r\n\t\t{ x: 6, y: 6 },\r\n\t\t{ x: 0, y: 6 },\r\n\t\t{ x: 6, y: 0 }\r\n\t], // Spawn points for different teams\r\n\tMAX_SPAWNER_HEALTH: 100,\r\n\tMAX_STRONGHOLD_HEALTH: 200,\r\n\tMAX_NUCLEUS_HEALTH: 300,\r\n\tSTRONGHOLD_RADIUS: 100,\r\n\tSTRONGHOLD_DEFENSE: 5,\r\n\r\n\t// Drawing\r\n\tDRAW_RADIUS: 1000, // Radius around player in which to draw other objects\r\n\tGRID_SPACING: 200, // space between each line on the grid\r\n\tGRID_LINE_STROKE: 1,\r\n\tFRAME_RATE: 60,\r\n\r\n\t// Colors\r\n\tTEAM_COLORS: [ // Purple, Green, Orange, Red. No prefixes\r\n\t\t'673ab7',\r\n\t\t'2e7d32',\r\n\t\t'ff8f00',\r\n\t\t'f44336'\r\n\t],\r\n\r\n\tIGNITE_SPRITE: 'placeholder_ignited.png',\r\n\r\n\t// Atoms: ID's and Sprites. ATOM_SPRITES[id] returns the texture location of atom of that id.\r\n\tATOM_IDS: [\r\n\t\t'h',\r\n\t\t'he',\r\n\t\t'c',\r\n\t\t'cl',\r\n\t\t'n',\r\n\t\t'o'\r\n\t],\r\n\tATOM_SPRITES: [\r\n\t\t'atom_hydrogen.png',\r\n\t\t'atom_helium.png',\r\n\t\t'atom_carbon.png',\r\n\t\t'testplayer2.png',\r\n\t\t'atom_nitrogen.png',\r\n\t\t'atom_oxygen.png'\r\n\t],\r\n\r\n\t// Location of spritesheet relative to pixigame\r\n\tSPRITESHEET_DIR: '../assets/spritesheet.json',\r\n\r\n\t// Used for main menu textures\r\n\tCOMPOUND_DIR: '../assets/spritesheet/compounds/',\r\n\r\n\t// Each Value corresponds with the above event\r\n\tEXPERIENCE_VALUES: {\r\n\t\tCRAFT: 10,\r\n\t\tKILL: 124\r\n\t},\r\n\r\n\t// The cutoffs for each level. Index 0 = level 1, 1 = level 2, etc\r\n\tEXPERIENCE_LEVELS: [\r\n\t\t0,\r\n\t\t10,\r\n\t\t20,\r\n\t\t40,\r\n\t\t100,\r\n\t\t140,\r\n\t\t160\r\n\t],\r\n\tMAINMENU_MUSICLIST: [\r\n\t\t'assets/sfx/mainmenu/placeholder1.mp3',\r\n\t\t'assets/sfx/mainmenu/placeholder2.mp3',\r\n\t\t'assets/sfx/mainmenu/placeholder3.mp3'\r\n\t\t// 'assets/sfx/mainmenu/placeholder4.mp3'\r\n\t],\r\n\tLOBBY_MUSICLIST: [\r\n\r\n\t],\r\n\tINGAME_MUSICLIST: [\r\n\r\n\t],\r\n\r\n\t// Deaths\r\n\tKILL_SCORE: 6, // How many points are awarded to the player/team who dealt the most damage to the player\r\n\tASSIST_SCORE: 2, // How many points are awarded to all players who assist in killing the player\r\n\tWINNING_SCORE: 20, // How many points are required to win the game per team. TODO increase\r\n\tCAPTURE_SCORE: 5, // How many points are awarded to the team who captured a stronghold/vent\r\n\tMAX_DEATH_ATOMS: 100 // How many atoms of each type can be ejected on death at maximum. Prevents testers from ejecting thousands of atoms at a time.\r\n}\r\n\r\n/**\r\n * Returns the distance between two objects.\r\n * Both objects must be GameObjects\r\n * @param {GameObject} obj1 First object\r\n * @param {GameObject} obj2 Second object\r\n */\r\nexport function distanceBetween (obj1, obj2) {\r\n\treturn Math.sqrt(Math.pow(obj1.posX - obj2.posX, 2) + Math.pow(obj1.posY - obj2.posY, 2))\r\n}\r\n\r\n/**\r\n * Returns true if the object parameter is within the map boundaries.\r\n * @param {GameObject} obj The object to test\r\n * @return true if the object parameter is within the map boundaries\r\n */\r\nexport function isInBounds (obj) {\r\n\treturn obj.posX > 0 && obj.posY > -GLOBAL.GRID_SPACING * 2 && obj.posX < MAP_LAYOUT[0].length * GLOBAL.GRID_SPACING * 2 && obj.posY < (MAP_LAYOUT.length - 1) * GLOBAL.GRID_SPACING * 2\r\n}\r\n\r\n/**\r\n * Gets the tile directly underneath any object.\r\n * @param {*} obj Any valid GameObject.\r\n * @returns {string} one-letter ID of current tile.\r\n */\r\nexport function getCurrTile (obj) {\r\n\tlet pos = getGlobalLocation(obj)\r\n\r\n\ttry {\r\n\t\treturn MAP_LAYOUT[pos.globalY][pos.globalX]\r\n\t}\r\n\tcatch (error) {\r\n\t\treturn 'E'\r\n\t}\r\n}\r\n\r\n/**\r\n * Gets the coordinates of the tile directly underneath the object.\r\n * @param {*} obj Any valid GameObject.\r\n */\r\nexport function getGlobalLocation (obj) {\r\n\treturn {\r\n\t\tglobalY: Math.floor(obj.posY / (GLOBAL.GRID_SPACING * 2)) + 1,\r\n\t\tglobalX: Math.floor(obj.posX / (GLOBAL.GRID_SPACING * 2))\r\n\t}\r\n}\r\n\r\n/**\r\n* Returns a random number between between 10000000 and 99999999, inclusive.\r\n* TODO Make every ID guaranteed unique\r\n* @returns random id between 10000000 and 99999999\r\n*/\r\nexport function generateID() {\r\n\treturn Math.floor(Math.random() * 90000000) + 10000000\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/global.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 74,
    "kind": "variable",
    "name": "GLOBAL",
    "memberof": "src/client/js/global.js",
    "static": true,
    "longname": "src/client/js/global.js~GLOBAL",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{GLOBAL}",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "{\"DEBUG\": boolean, \"VERBOSE_SOCKET\": *, \"KEY_ESC\": number, \"KEY_ENTER\": number, \"KEY_W\": number, \"KEY_A\": number, \"KEY_S\": number, \"KEY_D\": number, \"KEY_1\": number, \"KEY_2\": number, \"KEY_3\": number, \"KEY_4\": number, \"KEY_SPACE\": number, \"BP_SELECT\": string, \"BP_MAX\": number, \"BP_TOOLTIP_BLACKLIST\": *, \"INPUT_COUNT\": number, \"PLACEHOLDER_NAME\": string, \"MAX_CHATS\": number, \"SERVER_IP\": string, \"LOCAL_HOST\": string, \"TEST_IP\": string, \"NO_ROOM_IDENTIFIER\": string, \"NO_TEAM_IDENTIFIER\": string, \"ROOM_DELETE_DELAY\": number, \"COOKIES\": *, \"COOKIE_DAYS\": number, \"MAX_SPEED\": number, \"PLAYER_RADIUS\": number, \"VELOCITY_STEP\": number, \"LERP_VALUE\": number, \"DEADZONE\": number, \"MAX_HEALTH\": number, \"PLAYER_ROTATION\": number, \"PLAYER_EXPEDITED_ROTATION\": number, \"ATOM_RADIUS\": number, \"MIN_POWERUPS\": number, \"MAX_POWERUPS\": number, \"ATTRACTION_RADIUS\": number, \"ATTRACTION_COEFFICIENT\": number, \"ATOM_SPAWN_SPEED\": number, \"ATOM_SPAWN_DELAY\": number, \"ATOM_COLLECT_THRESHOLD\": number, \"MAP_SIZE\": number, \"SPAWN_POINTS\": *, \"MAX_SPAWNER_HEALTH\": number, \"MAX_STRONGHOLD_HEALTH\": number, \"MAX_NUCLEUS_HEALTH\": number, \"STRONGHOLD_RADIUS\": number, \"STRONGHOLD_DEFENSE\": number, \"DRAW_RADIUS\": number, \"GRID_SPACING\": number, \"GRID_LINE_STROKE\": number, \"FRAME_RATE\": number, \"TEAM_COLORS\": *, \"IGNITE_SPRITE\": string, \"ATOM_IDS\": *, \"ATOM_SPRITES\": *, \"SPRITESHEET_DIR\": string, \"COMPOUND_DIR\": string, \"EXPERIENCE_VALUES\": *, \"EXPERIENCE_LEVELS\": *, \"MAINMENU_MUSICLIST\": *, \"LOBBY_MUSICLIST\": *, \"INGAME_MUSICLIST\": *, \"KILL_SCORE\": number, \"ASSIST_SCORE\": number, \"WINNING_SCORE\": number, \"CAPTURE_SCORE\": number, \"MAX_DEATH_ATOMS\": number}"
      ]
    }
  },
  {
    "__docId__": 75,
    "kind": "function",
    "name": "distanceBetween",
    "memberof": "src/client/js/global.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/global.js~distanceBetween",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{distanceBetween}",
    "description": null,
    "lineNumber": 176,
    "undocument": true,
    "params": [
      {
        "name": "obj1",
        "types": [
          "*"
        ]
      },
      {
        "name": "obj2",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 76,
    "kind": "function",
    "name": "isInBounds",
    "memberof": "src/client/js/global.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/global.js~isInBounds",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{isInBounds}",
    "description": "Returns true if the object parameter is within the map boundaries.",
    "lineNumber": 185,
    "params": [
      {
        "nullable": null,
        "types": [
          "GameObject"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "The object to test"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "true if the object parameter is within the map boundaries"
    }
  },
  {
    "__docId__": 77,
    "kind": "function",
    "name": "getCurrTile",
    "memberof": "src/client/js/global.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/global.js~getCurrTile",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{getCurrTile}",
    "description": "Gets the tile directly underneath any object.",
    "lineNumber": 194,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{string} one-letter ID of current tile."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "Any valid GameObject."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "one-letter ID of current tile."
    }
  },
  {
    "__docId__": 78,
    "kind": "function",
    "name": "getGlobalLocation",
    "memberof": "src/client/js/global.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/global.js~getGlobalLocation",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{getGlobalLocation}",
    "description": "Gets the coordinates of the tile directly underneath the object.",
    "lineNumber": 209,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "Any valid GameObject."
      }
    ],
    "return": {
      "types": [
        "{\"globalY\": *, \"globalX\": *}"
      ]
    }
  },
  {
    "__docId__": 79,
    "kind": "function",
    "name": "generateID",
    "memberof": "src/client/js/global.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/global.js~generateID",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/global.js",
    "importStyle": "{generateID}",
    "description": "Returns a random number between between 10000000 and 99999999, inclusive.\nTODO Make every ID guaranteed unique",
    "lineNumber": 221,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "random id between 10000000 and 99999999"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "random id between 10000000 and 99999999"
    },
    "params": []
  },
  {
    "__docId__": 80,
    "kind": "file",
    "name": "src/client/js/lib/chat-client.js",
    "content": "/** \r\n * Client-side chat window connection, adapted for use from agario-clone (https://github.com/huytd/agar.io-clone/) by Ben Cuan\r\n * Created 17 April 2018\r\n */\r\n\r\nimport {GLOBAL} from '../global.js';\r\nimport { socket, teamColors } from '../socket.js';\r\nimport { updateCompoundButtons } from '../app.js';\r\n\r\nlet player, room, team;\r\nexport default class ChatClient {\r\n\r\n    // Use this constructor during init to connect ChatClient to the server\r\n    constructor(params) {\r\n        // this.canvas = params.canvas;\r\n        // this.mobile = params.mobile;\r\n        this.player = params.player;\r\n        this.team = params.team;\r\n        const self = this;\r\n        this.commands = {};\r\n        this.commandPrefix = \"-\";\r\n        let input = document.getElementById('chatInput');\r\n        input.addEventListener('keypress', key => {this.sendChat(key);}); //This works WTF\r\n        input.addEventListener('keyup', key => {\r\n            input = document.getElementById('chatInput');\r\n            key = key.which || key.keyCode;\r\n            if (key === global.KEY_ESC) {\r\n                input.value = '';\r\n                // self.canvas.cv.focus();\r\n            }\r\n        });\r\n    }\r\n\r\n    /** \r\n    * Defines all commands and their behaviors.\r\n    */\r\n    registerFunctions() {\r\n        const self = this;\r\n\r\n        this.registerCommand('help', 'Information about the chat commands.', () => {\r\n            self.printHelp();\r\n        });\r\n\r\n        this.registerCommand('test', 'Gives 5000 of every element', () => {\r\n            if(GLOBAL.DEBUG) {\r\n                socket.emit('testCommand', {player: socket.id});\r\n                updateCompoundButtons();\r\n                self.addSystemLine(\"Developer Configurations Applied!\");\r\n            }\r\n            else {\r\n                self.addSystemLine(\"Invalid Permission.\");\r\n            }\r\n        });\r\n        this.registerCommand('damage', 'Damages you by the given amount.', (params) => {\r\n            console.log(params);\r\n            if(GLOBAL.DEBUG) {\r\n                if(params[0] !== undefined && typeof parseInt(params[0]) === 'number') {\r\n                    socket.emit('damage', {damage: parseInt(params[0]), sender: socket.id, player: socket.id});\r\n                    self.addSystemLine(\"Damaged player by \" + params[0] + \" health points\");\r\n                }\r\n                else\r\n                    self.addSystemLine(\"Invalid parameter. Parameter must be of type number\");\r\n            }\r\n            else {\r\n                self.addSystemLine(\"Invalid Permission.\");\r\n            }\r\n        });\r\n\r\n        // this.registerCommand('login', 'Login as an admin.', function (args) {\r\n        //     self.socket.emit('pass', args);\r\n        // });\r\n\r\n        // this.registerCommand('kick', 'Kick a player, for admins only.', function (args) {\r\n        //     self.socket.emit('kick', args);\r\n        // });\r\n        global.chatClient = this;\r\n    }\r\n\r\n    /**\r\n     * Places the message DOM node into the chat box.\r\n     * @param {string} innerHTML The message to be displayed.\r\n     * @param {string} color How the message should be styled - see `main.css` for styles and to create more styles.\r\n     */\r\n    appendMessage(innerHTML, color) {\r\n        if (this.mobile)\r\n            return;\r\n\r\n        const newline = document.createElement('li');\r\n\r\n        // Colours the chat input correctly.\r\n        newline.style.color = color;\r\n        // Add content\r\n        newline.innerHTML = innerHTML;\r\n\r\n        const chatList = document.getElementById('chatList');\r\n        // Remove old chats\r\n        if (chatList.childNodes.length > GLOBAL.MAX_CHATS) {\r\n            chatList.removeChild(chatList.childNodes[0]);\r\n        }\r\n        chatList.appendChild(newline);\r\n        //Scroll to view new chat\r\n        chatList.scrollTop += 100;\r\n    }\r\n\r\n    /**\r\n     * Chat box implementation for the users.\r\n     * @param {string} name Name of the player who sent the message\r\n     * @param {string} message Message that was sent\r\n     * @param {boolean} me True if the sender matches the receiver\r\n     * @param {string} sendingTeam The name of the team that sent this message\r\n     */\r\n    addChatLine(name, message, me, sendingTeam) {\r\n       this.appendMessage(\r\n           `<b style=\"color: ${'#' + GLOBAL.TEAM_COLORS[teamColors[sendingTeam]]}\">${(name.length < 1) ? GLOBAL.PLACEHOLDER_NAME : name} ${(me) ? '(YOU)' : ''}</b>: ${message}`,\r\n           '#' + GLOBAL.TEAM_COLORS[teamColors[sendingTeam]]\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Chat box implementation for event announcements (capturing, etc)\r\n     * @param {string} message What message was sent\r\n     * @param {string} sendingTeam Subject of the message.\r\n     */\r\n    addChatAnnouncement(message, sendingTeam) {\r\n       this.appendMessage(\r\n           message, '#' + GLOBAL.TEAM_COLORS[teamColors[sendingTeam]]\r\n        );\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n\r\n\r\n    /**\r\n     * Chat box implementation for the users.\r\n     * @param {string} name Name of the player who sent the message\r\n     * @param {string} message Message that was sent\r\n     * @param {boolean} me True if the sender matches the receiver\r\n     */\r\n    addPrivateMessage(name, message, me) {\r\n       this.appendMessage(\r\n           `<b>${(name.length < 1) ? GLOBAL.PLACEHOLDER_NAME : name}</b>: ${message}`,\r\n           (me) ? 'me' : 'friend'\r\n        );\r\n    }\r\n\r\n    // Message to notify players when a new player joins\r\n    addLoginMessage(name, me) {\r\n        console.log(`${name} joined`);\r\n       \r\n        this.appendMessage(\r\n            `<b>${(me) ? '</b>You have' : (name.length < 1) ? GLOBAL.PLACEHOLDER_NAME : name + '</b> has'} joined the room!`,\r\n            'join'\r\n        );\r\n    }\r\n\r\n    // Chat box implementation for the system.\r\n    addSystemLine(message) {\r\n        this.appendMessage(\r\n            message,\r\n            'system'\r\n        );\r\n    }\r\n\r\n    // Places the message DOM node into the chat box.\r\n    // appendMessage(node) {\r\n    //     if (this.mobile) {\r\n    //         return;\r\n    //     }\r\n        // const chatList = document.getElementById('chatList');\r\n        // // if (chatList.childNodes.length > 10) {\r\n        // //     chatList.removeChild(chatList.childNodes[0]);\r\n        // // }\r\n        // chatList.appendChild(node);\r\n    // }\r\n\r\n    // Sends a message or executes a command on the click of enter.\r\n    sendChat(key) {\r\n        const commands = this.commands;\r\n        const input = document.getElementById('chatInput');\r\n\r\n        key = key.which || key.keyCode;\r\n\r\n        if (key === GLOBAL.KEY_ENTER) {\r\n            const text = input.value.replace(/(<([^>]+)>)/ig, '');\r\n            if (text !== '') {\r\n\r\n                // Chat command.\r\n                if (text.indexOf(this.commandPrefix) === 0) {\r\n                    const args = text.substring(1).split(' ');\r\n                    if (commands[args[0]]) {\r\n                        commands[args[0]].callback(args.slice(1));\r\n                    } else {\r\n                        this.addSystemLine(`Unrecognized Command: ${text}, type -help for more info.`);\r\n                    }\r\n\r\n                    // Allows for regular messages to be sent to the server.\r\n                } else {\r\n                    //Debug lines for messages - Remove on production\r\n                    // console.log(\"This Player: \" + this.player);\r\n                    // console.log(\"This message: \" + text);\r\n                    socket.emit('playerChat', { sender: this.player, message: text, sendingTeam: this.team});\r\n                    this.addChatLine(this.player, text, true, this.team);\r\n                }\r\n\r\n                // Resets input.\r\n                input.value = '';\r\n                // this.canvas.cv.focus();\r\n            }\r\n        }\r\n    }\r\n\r\n    // Allows for addition of commands.\r\n    registerCommand(name, description, callback) {\r\n        this.commands[name] = {\r\n            description,\r\n            callback\r\n        };\r\n    }\r\n\r\n    // Allows help to print the list of all the commands and their descriptions.\r\n    printHelp() {\r\n        const commands = this.commands;\r\n        for (const cmd in commands) {\r\n            if (commands.hasOwnProperty(cmd)) {\r\n                this.addSystemLine(`-${cmd}: ${commands[cmd].description}`);\r\n            }\r\n        }\r\n    }\r\n}",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/lib/chat-client.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 81,
    "kind": "class",
    "name": "ChatClient",
    "memberof": "src/client/js/lib/chat-client.js",
    "static": true,
    "longname": "src/client/js/lib/chat-client.js~ChatClient",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/chat-client.js",
    "importStyle": "ChatClient",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 82,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "player",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#player",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "team",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#team",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "commands",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#commands",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "commandPrefix",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#commandPrefix",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 87,
    "kind": "method",
    "name": "registerFunctions",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#registerFunctions",
    "access": "public",
    "description": "Defines all commands and their behaviors.",
    "lineNumber": 37,
    "params": [],
    "return": null
  },
  {
    "__docId__": 88,
    "kind": "method",
    "name": "appendMessage",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#appendMessage",
    "access": "public",
    "description": "Places the message DOM node into the chat box.",
    "lineNumber": 84,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "innerHTML",
        "description": "The message to be displayed."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "color",
        "description": "How the message should be styled - see `main.css` for styles and to create more styles."
      }
    ],
    "return": null
  },
  {
    "__docId__": 89,
    "kind": "method",
    "name": "addChatLine",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#addChatLine",
    "access": "public",
    "description": "Chat box implementation for the users.",
    "lineNumber": 112,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of the player who sent the message"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": "Message that was sent"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "me",
        "description": "True if the sender matches the receiver"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "sendingTeam",
        "description": "The name of the team that sent this message"
      }
    ],
    "return": null
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "addChatAnnouncement",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#addChatAnnouncement",
    "access": "public",
    "description": "Chat box implementation for event announcements (capturing, etc)",
    "lineNumber": 124,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": "What message was sent"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "sendingTeam",
        "description": "Subject of the message."
      }
    ],
    "return": null
  },
  {
    "__docId__": 91,
    "kind": "method",
    "name": "addPrivateMessage",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#addPrivateMessage",
    "access": "public",
    "description": "Chat box implementation for the users.",
    "lineNumber": 141,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of the player who sent the message"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": "Message that was sent"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "me",
        "description": "True if the sender matches the receiver"
      }
    ],
    "return": null
  },
  {
    "__docId__": 92,
    "kind": "method",
    "name": "addLoginMessage",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#addLoginMessage",
    "access": "public",
    "description": null,
    "lineNumber": 149,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "me",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 93,
    "kind": "method",
    "name": "addSystemLine",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#addSystemLine",
    "access": "public",
    "description": null,
    "lineNumber": 159,
    "undocument": true,
    "params": [
      {
        "name": "message",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 94,
    "kind": "method",
    "name": "sendChat",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#sendChat",
    "access": "public",
    "description": null,
    "lineNumber": 179,
    "undocument": true,
    "params": [
      {
        "name": "key",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 95,
    "kind": "method",
    "name": "registerCommand",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#registerCommand",
    "access": "public",
    "description": null,
    "lineNumber": 215,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "description",
        "types": [
          "*"
        ]
      },
      {
        "name": "callback",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 96,
    "kind": "method",
    "name": "printHelp",
    "memberof": "src/client/js/lib/chat-client.js~ChatClient",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/chat-client.js~ChatClient#printHelp",
    "access": "public",
    "description": null,
    "lineNumber": 223,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 97,
    "kind": "file",
    "name": "src/client/js/lib/cookies.js",
    "content": "/**\r\n * Cookies.js was adopted from a StackOverflow answer \r\n * (https://stackoverflow.com/questions/14573223/set-cookie-and-get-cookie-with-javascript).\r\n */\r\n\r\n/**\r\n * Sets the value of a cookie.\r\n * @param {string} name Name of cookie\r\n * @param {string} value New value of cookie\r\n * @param {number} days Number of days this cookie will last for\r\n */\r\nexport function setCookie(name, value, days) {\r\n    let expires = \"\";\r\n    if (days) {\r\n        const date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        expires = `; expires=${date.toUTCString()}`;\r\n    }\r\n    document.cookie = `${name}=${value || \"\"}${expires}; path=/`;\r\n}\r\n\r\n/**\r\n * Sets the value of a cookie.\r\n * @param {string} name Name of cookie\r\n * @return {string} The value of the cookie. Returns null if the cookie is not found.\r\n */\r\nexport function getCookie(name) {\r\n    const nameEQ = `${name}=`;\r\n    const ca = document.cookie.split(';');\r\n\r\n    for (let c of ca) {\r\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\r\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Removes the given cookie.\r\n * @param {string} name The name of the cookie to erase.\r\n */\r\nexport function eraseCookie(name) {\r\n    document.cookie = `${name}=; Max-Age=-99999999;`;\r\n}",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/lib/cookies.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 98,
    "kind": "function",
    "name": "setCookie",
    "memberof": "src/client/js/lib/cookies.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/lib/cookies.js~setCookie",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/cookies.js",
    "importStyle": "{setCookie}",
    "description": "Sets the value of a cookie.",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of cookie"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "New value of cookie"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "days",
        "description": "Number of days this cookie will last for"
      }
    ],
    "return": null
  },
  {
    "__docId__": 99,
    "kind": "function",
    "name": "getCookie",
    "memberof": "src/client/js/lib/cookies.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/lib/cookies.js~getCookie",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/cookies.js",
    "importStyle": "{getCookie}",
    "description": "Sets the value of a cookie.",
    "lineNumber": 27,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of cookie"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "The value of the cookie. Returns null if the cookie is not found."
    }
  },
  {
    "__docId__": 100,
    "kind": "function",
    "name": "eraseCookie",
    "memberof": "src/client/js/lib/cookies.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/lib/cookies.js~eraseCookie",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/cookies.js",
    "importStyle": "{eraseCookie}",
    "description": "Removes the given cookie.",
    "lineNumber": 43,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the cookie to erase."
      }
    ],
    "return": null
  },
  {
    "__docId__": 101,
    "kind": "file",
    "name": "src/client/js/lib/keyboard.js",
    "content": "/**\r\n * Key listener function, adapted from https://github.com/kittykatattack/learningPixi#keyboard\r\n * Please refer to this link for extended documentation.\r\n * @param {number} keyCode ASCII key code for the key to listen. For best results declare the key codes in GLOBAL.js \r\n */\r\nimport { isFocused, getIngame } from '../pixigame';\r\n\r\nexport function keyboard(keyCode) {\r\n  let key = {};\r\n  key.code = keyCode;\r\n  key.isDown = false;\r\n  key.isUp = true;\r\n  key.press = undefined;\r\n  key.release = undefined;\r\n  //If this is a mobile device & the joystick is being used, this will disable the handlers to stop interference.\r\n  key.mobile = false; \r\n  //The `downHandler`\r\n  key.downHandler = event => {\r\n      if (event.keyCode === key.code && !key.mobile) {\r\n        if (isFocused() && getIngame()) {\r\n          if (key.isUp && key.press){\r\n            key.press();\r\n          }\r\n          key.isDown = true;\r\n          key.isUp = false;\r\n        }\r\n        //If \r\n        else{\r\n          key.isDown = false;\r\n          key.isUp = true;\r\n        }\r\n    // event.preventDefault();\r\n      }\r\n  };\r\n\r\n  //The `upHandler`\r\n  key.upHandler = event => {\r\n      if (event.keyCode === key.code && !key.mobile) {\r\n        if(isFocused() && getIngame()){\r\n          if (key.isDown && key.release){\r\n            key.release();\r\n          }\r\n          key.isDown = false;\r\n          key.isUp = true;\r\n        }\r\n        else{\r\n          key.isDown = false;\r\n          key.isUp = true;\r\n        }\r\n      }\r\n    // event.preventDefault();\r\n  };\r\n\r\n  //Attach event listeners\r\n  window.addEventListener(\r\n    \"keydown\", key.downHandler.bind(key), false\r\n  );\r\n  window.addEventListener(\r\n    \"keyup\", key.upHandler.bind(key), false\r\n  );\r\n  return key;\r\n}",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/lib/keyboard.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 102,
    "kind": "function",
    "name": "keyboard",
    "memberof": "src/client/js/lib/keyboard.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/lib/keyboard.js~keyboard",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/keyboard.js",
    "importStyle": "{keyboard}",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "keyCode",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "src/client/js/lib/mobilejoystick.js",
    "content": "/** \r\n * Mobile Joystick - Utilizes nippleJS\r\n * Created 12 January 2019\r\n */\r\n\r\nimport nipplejs from 'nipplejs'; // NIPPLES!!!! god dammit <3 the naming\r\nimport { GLOBAL } from '../global.js' \r\nimport { movePlayer } from '../pixigame.js';\r\n\r\n\r\nexport default class VirtualJoystick {\r\n\r\n    // Use this constructor during init of game\r\n    constructor(params) {\r\n        this.mobileKey = {} //that failed me tho that should work\r\n        this.mobileKey.leftDown = false\r\n        this.mobileKey.upDown = false\r\n        this.mobileKey.rightDown = false\r\n        this.mobileKey.downDown = false //lolol that naming is a beuaty\r\n\r\n        var options = {\r\n            zone: document.getElementById('zone_joystick'),\r\n            color: 'red'\r\n        };\r\n        var manager = nipplejs.create(options);\r\n\r\n\r\n        let self = this // hacky hak\r\n\r\n        //Perform actions based on direction up\r\n        manager.on('added', function (evt, nipple) {\r\n            // nipple.on('end', function (evt) {\r\n            //     for (let key of movementKeys){\r\n            //         key.isDown = false;\r\n            //         key.isUp = true;\r\n            //     }\r\n            // });\r\n            nipple.on('plain:left', function (evt) {\r\n                movePlayer('left') \r\n                self.mobileKey.leftDown = true \r\n                self.mobileKey.rightDown = false\r\n            })\r\n            nipple.on('plain:right', function (evt) {\r\n                movePlayer('right')\r\n                self.mobileKey.rightDown = true\r\n                self.mobileKey.leftDown = false\r\n            })\r\n            nipple.on('plain:up', function (evt) {\r\n                movePlayer('up')\r\n                self.mobileKey.upDown = true\r\n                self.mobileKey.downDown = false\r\n            })\r\n            nipple.on('plain:down', function (evt) {\r\n                movePlayer('down')\r\n                self.mobileKey.downDown = true\r\n                self.mobileKey.upDown = false\r\n            })\r\n            nipple.on('end', function(evt){\r\n                self.mobileKey.leftDown = false\r\n                self.mobileKey.upDown = false\r\n                self.mobileKey.rightDown = false\r\n                self.mobileKey.downDown = false\r\n            })\r\n        }).on('removed', function (evt, nipple) {\r\n            nipple.off('start move end dir plain')\r\n        })\r\n    }\r\n    \r\n} \r\n\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/lib/mobilejoystick.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "class",
    "name": "VirtualJoystick",
    "memberof": "src/client/js/lib/mobilejoystick.js",
    "static": true,
    "longname": "src/client/js/lib/mobilejoystick.js~VirtualJoystick",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/lib/mobilejoystick.js",
    "importStyle": "VirtualJoystick",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 105,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/lib/mobilejoystick.js~VirtualJoystick",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/lib/mobilejoystick.js~VirtualJoystick#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 106,
    "kind": "member",
    "name": "mobileKey",
    "memberof": "src/client/js/lib/mobilejoystick.js~VirtualJoystick",
    "static": false,
    "longname": "src/client/js/lib/mobilejoystick.js~VirtualJoystick#mobileKey",
    "access": "public",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 107,
    "kind": "file",
    "name": "src/client/js/obj/blueprints.js",
    "content": "/**\r\n * This constant stores all data that is used to define Blueprints,\r\n * which define the recipe and behaviors of Compounds.\r\n *\r\n * Fields required:\r\n * Name: The formatted name of the compound to display\r\n * Unlocked: TEMPORARY. True if it should show up on initial load, false if it needs to be unlocked from playing.\r\n * Tooltip: Description of compound\r\n * Texture: Path to image to load\r\n * Type: Class of compound. Each different type has a different behavior as defined in `compound.js`.\r\n * Params: Optional parameters to pass to the compound class associated with the given type.\r\n * Atoms: How to make the compound. Format is `Element symbol: Number required`. All excluded atoms will be considered 0.\r\n */\r\nexport const BLUEPRINTS = {\r\n\tbinaryHydrogen: {\r\n\t\tname: 'Hydrogen',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'This is quite literally the smallest compound in the universe. Why are you using this as a weapon?',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'flammable',\r\n\t\tparams: {\r\n\t\t\tspeed: 5 * 3,\r\n\t\t\tdamage: 3,\r\n\t\t\tsize: 20,\r\n\t\t\tsplashDamage: 10,\r\n\t\t\tsplash: 50,\r\n\t\t\tsplashImage: '../assets/explosion.png'\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 2\r\n\t\t}\r\n\t},\r\n\tbasicMethane: {\r\n\t\tname: 'Methane',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'Okay, who passed gas?',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'flammable',\r\n\t\tparams: {\r\n\t\t\tspeed: 3 * 3,\r\n\t\t\tdamage: 3,\r\n\t\t\tsize: 10\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tc: 1,\r\n\t\t\th: 4\r\n\t\t}\r\n\t},\r\n\tbasicBenzene: {\r\n\t\tname: 'Benzene',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'Carbon rings. They smell nice.',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'inert',\r\n\t\tparams: {\r\n\t\t\tspeed: 1 * 3,\r\n\t\t\tdamage: 5,\r\n\t\t\tsize: 30\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 6,\r\n\t\t\tc: 6\r\n\t\t}\r\n\t},\r\n\tbasicWater: {\r\n\t\tname: 'Water',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'Why life exists. Are you trying to drown someone?',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'stream',\r\n\t\tparams: {\r\n\t\t\tspeed: 4 * 3,\r\n\t\t\tdamage: 1,\r\n\t\t\tsize: 15,\r\n\t\t\tlength: 10,\r\n\t\t\tspacing: 50,\r\n\t\t\tcompoundsPerCraft: 10,\r\n\t\t\tevaporate: true\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 2,\r\n\t\t\to: 1\r\n\t\t}\r\n\t},\r\n\tbinaryNitrogen: {\r\n\t\tname: 'Nitrogen',\r\n\t\tunlocked: true,\r\n\t\ttooltip: '78% of your air, and also why you get the bends.',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'inert',\r\n\t\tparams: {\r\n\t\t\tspeed: 3 * 3,\r\n\t\t\tdamage: 3,\r\n\t\t\tsize: 20\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tn: 2\r\n\t\t}\r\n\t},\r\n\tcarbon: {\r\n\t\tname: 'Carbon',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'The building block of life.',\r\n\t\ttexture: 'placeholder_barrier.png',\r\n\t\ttype: 'block',\r\n\t\tparams: {\r\n\t\t\thealth: 1,\r\n\t\t\tsize: 50,\r\n\t\t\tspeed: 0\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tc: 1\r\n\t\t}\r\n\t},\r\n\tbinaryHelium: {\r\n\t\tname: 'Helium',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'A nonreactive, inert gas. In other words, useless.',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'inert',\r\n\t\tparams: {\r\n\t\t\tspeed: 4 * 3,\r\n\t\t\tdamage: 2,\r\n\t\t\tsize: 14\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\the: 2\r\n\t\t}\r\n\t},\r\n\tionicSodiumChloride: {\r\n\t\tname: 'Sodium Chloride',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'Can kill small insects, slugs, and snails. Cannot kill much else.',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'ionic',\r\n\t\tparams: {\r\n\t\t\tspeed: 4 * 3,\r\n\t\t\tdamage: 2,\r\n\t\t\tsize: 14\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tna: 1,\r\n\t\t\tcl: 1\r\n\t\t}\r\n\t},\r\n\tacidicHydrogenChloride: {\r\n\t\tname: 'Hydrochloric Acid',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'In a pure form, can corrode metal.',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'acidic',\r\n\t\tparams: {\r\n\t\t\tspeed: 4 * 3,\r\n\t\t\tdamage: 2,\r\n\t\t\tsize: 14\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 1,\r\n\t\t\tcl: 1\r\n\t\t}\r\n\t},\r\n\tnuclearLithiumHydrogen: {\r\n\t\tname: 'Lithium Deuteride',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'Used as the primary fuel in thermonuclear weapons.',\r\n\t\ttexture: '../assets/spritesheet/atoms/atom_lithium.png',\r\n\t\ttype: 'nuclear',\r\n\t\tparams: {\r\n\t\t\tspeed: 1 * 3,\r\n\t\t\tdamage: 2,\r\n\t\t\tsize: 14\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 1,\r\n\t\t\tli: 1\r\n\t\t}\r\n\t},\r\n\tglucose: {\r\n\t\tname: 'Sugar',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'S U G A R R U S H !!!!',\r\n\t\ttexture: 'compound_sugar.png',\r\n\t\ttype: 'speed',\r\n\t\tparams: {\r\n\t\t\tspeedFactor: 0.5\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tc: 6,\r\n\t\t\th: 12,\r\n\t\t\to: 6\r\n\t\t}\r\n\t},\r\n\tprotonPack: {\r\n\t\tname: 'Proton Pack',\r\n\t\tunlocked: false,\r\n\t\ttooltip: 'Easy health!',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'health',\r\n\t\tparams: {\r\n\t\t\thealthModifier: 10\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 10\r\n\t\t}\r\n\t},\r\n\tozone: {\r\n\t\tname: 'Ozone',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'Shield em up!',\r\n\t\ttexture: 'compound_ozone.png',\r\n\t\ttype: 'defense',\r\n\t\tparams: {\r\n\t\t\tdefenseModifier: 2\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\to: 3\r\n\t\t}\r\n\t},\r\n\tcyanide: {\r\n\t\tname: 'Cyanide',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'Less deadly and more happy than Cyanide and Happiness.',\r\n\t\ttexture: 'cyanide.png',\r\n\t\ttype: 'toxic',\r\n\t\tparams: {\r\n\t\t\tspeed: 2,\r\n\t\t\tsplashDamage: 0.2,\r\n\t\t\tsize: 100\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\tc: 1,\r\n\t\t\tn: 1\r\n\t\t}\r\n\t},\r\n\tnitricAcid: {\r\n\t\tname: 'Nitric Acid',\r\n\t\tunlocked: true,\r\n\t\ttooltip: 'Contains \"NO\"... as in NO don\\'t use this',\r\n\t\ttexture: 'compound_PLACEHOLDER.png',\r\n\t\ttype: 'acid',\r\n\t\tparams: {\r\n\t\t\tdamagePerSecond: 2,\r\n\t\t\tsize: 100,\r\n\t\t\tspeed: 0\r\n\t\t},\r\n\t\tatoms: {\r\n\t\t\th: 1,\r\n\t\t\tn: 1,\r\n\t\t\to: 3\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Contains descriptions for the different types of compounds (acid, stream, etc)\r\n */\r\nexport const TOOLTIPS = {\r\n\tflammable: 'Flammable: When passing over a lava pit, this compound ignites, dealing additional damage.',\r\n\tstream: 'Stream: Hold down the shoot button to shoot a large number of individual compounds, like a stream. Several individual compounds can be shot using a single recipe.',\r\n\tinert: 'Inert: Just a plain old compound. You can shoot it and it can hit stuff, that is all.',\r\n\tblock: 'Block: Place it down to protect strategic points! Deals no damage, but will intercept compounds if touched.',\r\n\tspeed: 'Speed: When consumed, it makes you move faster!',\r\n\tdefense: 'Defense: When consumed, it increases your shield. Damage below your shield amount will not harm you.',\r\n\ttoxic: 'Toxic: Moves slowly, but deals splash damage to everyone inside the radius.',\r\n\tacid: 'Acid: Places a stationary pool of corrosive material that damages all who touches it. If a base touches it, then both react to create water.',\r\n\tbase: 'Base: Acts like an inert compound, but when it is shot at acid, it will react to create water.'\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/blueprints.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 108,
    "kind": "variable",
    "name": "BLUEPRINTS",
    "memberof": "src/client/js/obj/blueprints.js",
    "static": true,
    "longname": "src/client/js/obj/blueprints.js~BLUEPRINTS",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/blueprints.js",
    "importStyle": "{BLUEPRINTS}",
    "description": "This constant stores all data that is used to define Blueprints,\nwhich define the recipe and behaviors of Compounds.\n\nFields required:\nName: The formatted name of the compound to display\nUnlocked: TEMPORARY. True if it should show up on initial load, false if it needs to be unlocked from playing.\nTooltip: Description of compound\nTexture: Path to image to load\nType: Class of compound. Each different type has a different behavior as defined in `compound.js`.\nParams: Optional parameters to pass to the compound class associated with the given type.\nAtoms: How to make the compound. Format is `Element symbol: Number required`. All excluded atoms will be considered 0.",
    "lineNumber": 14,
    "type": {
      "types": [
        "{\"binaryHydrogen\": *, \"basicMethane\": *, \"basicBenzene\": *, \"basicWater\": *, \"binaryNitrogen\": *, \"carbon\": *, \"binaryHelium\": *, \"ionicSodiumChloride\": *, \"acidicHydrogenChloride\": *, \"nuclearLithiumHydrogen\": *, \"glucose\": *, \"protonPack\": *, \"ozone\": *, \"cyanide\": *, \"nitricAcid\": *}"
      ]
    }
  },
  {
    "__docId__": 109,
    "kind": "variable",
    "name": "TOOLTIPS",
    "memberof": "src/client/js/obj/blueprints.js",
    "static": true,
    "longname": "src/client/js/obj/blueprints.js~TOOLTIPS",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/blueprints.js",
    "importStyle": "{TOOLTIPS}",
    "description": null,
    "lineNumber": 257,
    "undocument": true,
    "type": {
      "types": [
        "{\"flammable\": string, \"stream\": string, \"inert\": string, \"block\": string, \"speed\": string, \"defense\": string, \"toxic\": string, \"acid\": string, \"base\": string}"
      ]
    }
  },
  {
    "__docId__": 110,
    "kind": "file",
    "name": "src/client/js/obj/create.js",
    "content": "/**\r\n * Responsible for all gameObject creation and creation request scripts\r\n * for the client (atoms, compounds, players)\r\n */\r\nimport * as PIXI from 'pixi.js'\r\nimport { GLOBAL } from '../global.js'\r\nimport { GameObject } from './gameobject.js'\r\nimport { player, spritesheet } from '../pixigame.js'\r\nimport { socket, objects } from '../socket.js'\r\nimport { updateCompoundButtons } from '../app.js'\r\nimport { MAP_LAYOUT, TILE_NAMES } from './tiles.js'\r\nimport { MapTile } from './maptile.js'\r\n\r\n/**\r\n * Renders a new atom.\r\n * @param {*} data The server object reference to spawn on the clientside. Must contain:\r\n *  - typeID {string} See GLOBAL.ATOM_IDS\r\n *  - id {number} Unique ID\r\n *  - posX {number}\r\n *  - posY {number}\r\n *  - vx {number}\r\n *  - vy {number}\r\n */\r\nexport function createRenderAtom (data) {\r\n\tlet texture = spritesheet.textures[GLOBAL.ATOM_SPRITES[GLOBAL.ATOM_IDS.indexOf(data.typeID)]]\r\n\r\n\tif (data.typeID === '') {\r\n\t\tthrow new Error('The Atom object cannot be created without specifying behavior.')\r\n\t}\r\n\r\n\tif (texture === undefined) {\r\n\t\tthrow new Error('Atom of type ' + data.typeID + ' could not be found!')\r\n\t}\r\n\r\n\tlet result = new GameObject(texture, data.id, data.posX, data.posY, data.vx, data.vy)\r\n\tresult.typeID = data.typeID\r\n\tresult.height = GLOBAL.ATOM_RADIUS * 2\r\n\tresult.width = GLOBAL.ATOM_RADIUS * 2\r\n\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Recreates an already spawned compound on the clientside based on server data.\r\n * @param {*} data Data sent from server:\r\n *  - id {number} Unique ID\r\n *  - posX {number}\r\n *  - posY {number}\r\n *  - vx {number}\r\n *  - vy {number}\r\n *  - blueprint {*}\r\n *  - sendingTeam {string}\r\n *  - sender {number - socket ID}\r\n */\r\nexport function createRenderCompound (data) {\r\n\tlet texture = spritesheet.textures[data.blueprint.texture]\r\n\tlet result = new GameObject(texture, data.id, data.posX, data.posY, data.vx, data.vy)\r\n\r\n\t// Make transparent if acid\r\n\tif (data.blueprint.type === 'acid') {\r\n\t\tresult.filters = [new PIXI.filters.AlphaFilter(0.8)]\r\n\t}\r\n\r\n\tresult.blueprint = data.blueprint\r\n\tresult.sendingTeam = data.sendingTeam\r\n\tresult.sender = data.sender\r\n\r\n\t// Parse params\r\n\tfor (let param in data.blueprint.params) {\r\n\t\tresult[param] = data.blueprint.params[param]\r\n\t}\r\n\r\n\t// Use params\r\n\tresult.width = result.size\r\n\tresult.height = result.size\r\n\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Creates a Compound by sending a request to the server.\r\n * @param {*} blueprint Then blueprint to create the compound from\r\n * @param {number} xIn x-coords\r\n * @param {number} yIn y-coords\r\n * @param {number} streamID The current stream number.\r\n * @returns true if successful, false if the compound was not requested.\r\n */\r\nexport function requestCreateCompound (blueprint, xIn, yIn, streamID) {\r\n\tupdateCompoundButtons()\r\n\r\n\tlet centerX = window.innerWidth / 2\r\n\tlet centerY = window.innerHeight / 2\r\n\t// console.log(centerX - cursor.x, cursor.y - centerY)\r\n\tsocket.emit('requestCreateCompound', {\r\n\t\tblueprint: blueprint,\r\n\t\tsendingTeam: player.team,\r\n\t\tsender: socket.id,\r\n\t\tmousePos: {\r\n\t\t\tx: xIn - centerX,\r\n\t\t\ty: centerY - yIn\r\n\t\t},\r\n\t\tstreamID: streamID\r\n\t})\r\n}\r\n\r\nexport function createTiles() {\r\n\tfor (let row = 0; row < MAP_LAYOUT.length; row++) {\r\n\t\tfor (let col = 0; col < MAP_LAYOUT[0].length; col++) {\r\n\t\t\tlet tileName = 'tile_' + col + '_' + (MAP_LAYOUT.length - row - 1)\r\n\t\t\tif (objects.tiles[tileName] === undefined || objects.tiles[tileName] === null) {\r\n\t\t\t\tif (TILE_NAMES[MAP_LAYOUT[row][col]] !== undefined) {\r\n\t\t\t\t\tobjects.tiles[tileName] = new MapTile(TILE_NAMES[MAP_LAYOUT[row][col]], col, MAP_LAYOUT.length - row - 1)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthrow new Error('Tile ' + MAP_LAYOUT[row][col] + ' could not be resolved to a name.')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/create.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 111,
    "kind": "function",
    "name": "createRenderAtom",
    "memberof": "src/client/js/obj/create.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/obj/create.js~createRenderAtom",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/create.js",
    "importStyle": "{createRenderAtom}",
    "description": "Renders a new atom.",
    "lineNumber": 24,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The server object reference to spawn on the clientside. Must contain:\n - typeID {string} See GLOBAL.ATOM_IDS\n - id {number} Unique ID\n - posX {number}\n - posY {number}\n - vx {number}\n - vy {number}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 112,
    "kind": "function",
    "name": "createRenderCompound",
    "memberof": "src/client/js/obj/create.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/obj/create.js~createRenderCompound",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/create.js",
    "importStyle": "{createRenderCompound}",
    "description": "Recreates an already spawned compound on the clientside based on server data.",
    "lineNumber": 55,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Data sent from server:\n - id {number} Unique ID\n - posX {number}\n - posY {number}\n - vx {number}\n - vy {number}\n - blueprint {*}\n - sendingTeam {string}\n - sender {number - socket ID}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 113,
    "kind": "function",
    "name": "requestCreateCompound",
    "memberof": "src/client/js/obj/create.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/obj/create.js~requestCreateCompound",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/create.js",
    "importStyle": "{requestCreateCompound}",
    "description": "Creates a Compound by sending a request to the server.",
    "lineNumber": 88,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "true if successful, false if the compound was not requested."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "blueprint",
        "description": "Then blueprint to create the compound from"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "xIn",
        "description": "x-coords"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "yIn",
        "description": "y-coords"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "streamID",
        "description": "The current stream number."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "true if successful, false if the compound was not requested."
    }
  },
  {
    "__docId__": 114,
    "kind": "function",
    "name": "createTiles",
    "memberof": "src/client/js/obj/create.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/obj/create.js~createTiles",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/create.js",
    "importStyle": "{createTiles}",
    "description": null,
    "lineNumber": 106,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 115,
    "kind": "file",
    "name": "src/client/js/obj/damageindicator.js",
    "content": "import * as PIXI from 'pixi.js'\r\nimport { app, spritesheet, player, screenCenterX, screenCenterY } from '../pixigame'\r\n/**\r\n * One Tile component of the map.\r\n */\r\nexport class DamageIndicator extends PIXI.Sprite {\r\n\t/**\r\n     *\r\n     * @param {*} damageAmount\r\n     * @param {*} posX\r\n     * @param {*} posY\r\n     */\r\n\tconstructor(damageAmount, posX, posY) {\r\n\t\tsuper(spritesheet.textures['notexture.png'])\r\n\r\n\t\tthis.posX = posX\r\n\t\tthis.posY = posY\r\n\t\tthis.height = 1\r\n\t\tthis.width = 1\r\n\r\n\t\t// Create text object\r\n\t\tthis.text = new PIXI.Text('-' + damageAmount)\r\n\r\n\t\t// Set style\r\n\t\tthis.text.style = new PIXI.TextStyle({\r\n\t\t\tfontSize: 25,\r\n\t\t\tfill: '0xf44336'\r\n\t\t})\r\n\r\n\t\tthis.addChild(this.text)\r\n\t\tapp.stage.addChild(this)\r\n\t}\r\n\r\n\t/**\r\n     * Draws object in the correct position on the player screen.\r\n     */\r\n\ttick() {\r\n\t\tif (player !== undefined) {\r\n\t\t\tthis.x = screenCenterX + this.posX - player.posX\r\n\t\t\tthis.y = screenCenterY + player.posY - this.posY\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/damageindicator.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 116,
    "kind": "class",
    "name": "DamageIndicator",
    "memberof": "src/client/js/obj/damageindicator.js",
    "static": true,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/damageindicator.js",
    "importStyle": "{DamageIndicator}",
    "description": "One Tile component of the map.",
    "lineNumber": 6,
    "interface": false,
    "extends": [
      "pixi.js~PIXI.Sprite"
    ]
  },
  {
    "__docId__": 117,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#constructor",
    "access": "public",
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "damageAmount",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "posX",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "posY",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 118,
    "kind": "member",
    "name": "posX",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#posX",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 119,
    "kind": "member",
    "name": "posY",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#posY",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 120,
    "kind": "member",
    "name": "height",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#height",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 121,
    "kind": "member",
    "name": "width",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#width",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 122,
    "kind": "member",
    "name": "text",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#text",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 123,
    "kind": "method",
    "name": "tick",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#tick",
    "access": "public",
    "description": "Draws object in the correct position on the player screen.",
    "lineNumber": 37,
    "params": [],
    "return": null
  },
  {
    "__docId__": 124,
    "kind": "member",
    "name": "x",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#x",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "member",
    "name": "y",
    "memberof": "src/client/js/obj/damageindicator.js~DamageIndicator",
    "static": false,
    "longname": "src/client/js/obj/damageindicator.js~DamageIndicator#y",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 126,
    "kind": "file",
    "name": "src/client/js/obj/gameobject.js",
    "content": "import * as PIXI from 'pixi.js'\r\nimport { app, screenCenterX, screenCenterY, player, spritesheet } from '../pixigame'\r\nimport { GLOBAL } from '../global'\r\nimport { MAP_LAYOUT } from './tiles'\r\n\r\n/**\r\n * GameObject class that all objects in the game space should inherit.\r\n * Provides standard field variables such as posX and posY, as well as\r\n * standard methods to manipulate them.\r\n *\r\n * A GameObject cannot be added directly; it must be inherited.\r\n * setup() and tick() must be overridden.\r\n */\r\nexport class GameObject extends PIXI.Sprite {\r\n\t/**\r\n     * Creates a new GameObject.\r\n     * @param {PIXI.Texture} texture The texture associated with this sprite\r\n     * @param {string} id Unique identifier- for example, socket ID for players, numerical ID for atoms\r\n     * @param {number} x Global x-coordinate\r\n     * @param {number} y Global y-coordinate\r\n     * @param {number} vx Horizontal velocity\r\n     * @param {number} vy Vertical velocity\r\n     */\r\n\tconstructor (texture, id, x, y, vx, vy) {\r\n\t\tsuper(texture)\r\n\t\tthis.id = id\r\n\t\tthis.posX = x\r\n\t\tthis.posY = y\r\n\t\tthis.vx = vx\r\n\t\tthis.vy = vy\r\n\t\tthis.destroyed = false\r\n\r\n\t\tapp.stage.addChild(this)\r\n\t}\r\n\r\n\t/**\r\n     * Sets global coordinates of this player\r\n     * @param {number} newX New x-coordinate to move to\r\n     * @param {number} newY New y-coordinate to move to\r\n     */\r\n\tsetCoordinates (newX, newY) {\r\n\t\tthis.posX = newX\r\n\t\tthis.posY = newY\r\n\t}\r\n\r\n\t/**\r\n     * Sets global coordinates and speeds of this player\r\n     * @param {number} newX New x-coordinate to move to\r\n     * @param {number} newY New y-coordinate to move to\r\n     * @param {number} vx New x velocity\r\n     * @param {number} vy New y velocity\r\n     */\r\n\tsetData (newX, newY, vx, vy) {\r\n\t\tthis.setCoordinates(newX, newY)\r\n\t\tthis.vx = vx\r\n\t\tthis.vy = vy\r\n\t}\r\n\r\n\t/**\r\n     * Call during tick() if necessary.\r\n     * Draws object in the correct position on the player screen.\r\n     */\r\n\tdraw () {\r\n\t\tif (player !== undefined && !this.destroyed) {\r\n\t\t\tthis.x = screenCenterX + this.posX - player.posX\r\n\t\t\tthis.y = screenCenterY + player.posY - this.posY\r\n\t\t}\r\n\t}\r\n\r\n\t/** TEMP\r\n     * Moves this object to (9999, 9999) on local screen space, effectively\r\n     * hiding it from view.\r\n     */\r\n\thide () {\r\n\t\t// console.warn('hide() is called');\r\n\t\tif (this.transform === null || this.transform === undefined) {\r\n\t\t\tconsole.warn('hide() function exception. THIS IS ABNORMAL. The following object contains invalid transform object:')\r\n\t\t\tconsole.warn(this)\r\n\t\t\treturn 1\r\n\t\t}\r\n\t\tthis.x = 9999\r\n\t\tthis.y = 9999\r\n\t}\r\n\r\n\t/**\r\n     * Override optional. Called once, during game setup phase.\r\n     */\r\n\tsetup () {\r\n\t}\r\n\r\n\t/**\r\n     * Override optional. Default behavior: handles movement. Call super.tick() from child class if movable.\r\n     * @param {boolean} noDraw - true if tick() should only process movement, not drawing.\r\n     */\r\n\ttick (noDraw) {\r\n\t\t// Prevent drifting due to minimal negative values\r\n\r\n\t\tif (this.destroyed) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (Math.abs(this.vx) < GLOBAL.DEADZONE) {\r\n\t\t\tthis.vx = 0\r\n\t\t}\r\n\t\tif (Math.abs(this.vy) < GLOBAL.DEADZONE) {\r\n\t\t\tthis.vy = 0\r\n\t\t}\r\n\r\n\t\t// Change position based on speed and direction. Don't allow objects to go out of bounds\r\n\t\tif ((this.vx > 0 && this.posX < MAP_LAYOUT[0].length * GLOBAL.GRID_SPACING * 2 - GLOBAL.GRID_SPACING) || (this.vx < 0 && this.posX > 0)) {\r\n\t\t\tthis.posX += this.vx\r\n\t\t}\r\n\t\tif ((this.vy > 0 && this.posY < (MAP_LAYOUT.length - 1) * GLOBAL.GRID_SPACING * 2) || (this.vy < 0 && this.posY > -GLOBAL.GRID_SPACING)) {\r\n\t\t\tthis.posY += this.vy\r\n\t\t}\r\n\r\n\t\tif (this.ignited) {\r\n\t\t\tthis.texture = spritesheet.textures[GLOBAL.IGNITE_SPRITE]\r\n\t\t}\r\n\r\n\t\tif (!noDraw) {\r\n\t\t\tthis.draw()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n     * Destroyes the Sprite\r\n     */\r\n\tdestroy () {\r\n\t\tthis.destroyed = true\r\n\t\tsuper.destroy()\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/gameobject.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 127,
    "kind": "class",
    "name": "GameObject",
    "memberof": "src/client/js/obj/gameobject.js",
    "static": true,
    "longname": "src/client/js/obj/gameobject.js~GameObject",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/gameobject.js",
    "importStyle": "{GameObject}",
    "description": "GameObject class that all objects in the game space should inherit.\nProvides standard field variables such as posX and posY, as well as\nstandard methods to manipulate them.\n\nA GameObject cannot be added directly; it must be inherited.\nsetup() and tick() must be overridden.",
    "lineNumber": 14,
    "interface": false,
    "extends": [
      "pixi.js~PIXI.Sprite"
    ]
  },
  {
    "__docId__": 128,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#constructor",
    "access": "public",
    "description": "Creates a new GameObject.",
    "lineNumber": 24,
    "params": [
      {
        "nullable": null,
        "types": [
          "PIXI.Texture"
        ],
        "spread": false,
        "optional": false,
        "name": "texture",
        "description": "The texture associated with this sprite"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Unique identifier- for example, socket ID for players, numerical ID for atoms"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "x",
        "description": "Global x-coordinate"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "y",
        "description": "Global y-coordinate"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vx",
        "description": "Horizontal velocity"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vy",
        "description": "Vertical velocity"
      }
    ]
  },
  {
    "__docId__": 129,
    "kind": "member",
    "name": "id",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#id",
    "access": "public",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 130,
    "kind": "member",
    "name": "posX",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#posX",
    "access": "public",
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 131,
    "kind": "member",
    "name": "posY",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#posY",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 132,
    "kind": "member",
    "name": "vx",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#vx",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 133,
    "kind": "member",
    "name": "vy",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#vy",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 134,
    "kind": "member",
    "name": "destroyed",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#destroyed",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 135,
    "kind": "method",
    "name": "setCoordinates",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#setCoordinates",
    "access": "public",
    "description": "Sets global coordinates of this player",
    "lineNumber": 41,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "newX",
        "description": "New x-coordinate to move to"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "newY",
        "description": "New y-coordinate to move to"
      }
    ],
    "return": null
  },
  {
    "__docId__": 138,
    "kind": "method",
    "name": "setData",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#setData",
    "access": "public",
    "description": "Sets global coordinates and speeds of this player",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "newX",
        "description": "New x-coordinate to move to"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "newY",
        "description": "New y-coordinate to move to"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vx",
        "description": "New x velocity"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vy",
        "description": "New y velocity"
      }
    ],
    "return": null
  },
  {
    "__docId__": 141,
    "kind": "method",
    "name": "draw",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#draw",
    "access": "public",
    "description": "Call during tick() if necessary.\nDraws object in the correct position on the player screen.",
    "lineNumber": 63,
    "params": [],
    "return": null
  },
  {
    "__docId__": 142,
    "kind": "member",
    "name": "x",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#x",
    "access": "public",
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 143,
    "kind": "member",
    "name": "y",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#y",
    "access": "public",
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 144,
    "kind": "method",
    "name": "hide",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#hide",
    "access": "public",
    "description": "TEMP\nMoves this object to (9999, 9999) on local screen space, effectively\nhiding it from view.",
    "lineNumber": 74,
    "params": [],
    "return": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "setup",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#setup",
    "access": "public",
    "description": "Override optional. Called once, during game setup phase.",
    "lineNumber": 88,
    "params": [],
    "return": null
  },
  {
    "__docId__": 148,
    "kind": "method",
    "name": "tick",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#tick",
    "access": "public",
    "description": "Override optional. Default behavior: handles movement. Call super.tick() from child class if movable.",
    "lineNumber": 95,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "noDraw",
        "description": "true if tick() should only process movement, not drawing."
      }
    ],
    "return": null
  },
  {
    "__docId__": 153,
    "kind": "member",
    "name": "texture",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#texture",
    "access": "public",
    "description": null,
    "lineNumber": 118,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 154,
    "kind": "method",
    "name": "destroy",
    "memberof": "src/client/js/obj/gameobject.js~GameObject",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/gameobject.js~GameObject#destroy",
    "access": "public",
    "description": "Destroyes the Sprite",
    "lineNumber": 129,
    "params": [],
    "return": null
  },
  {
    "__docId__": 156,
    "kind": "file",
    "name": "src/client/js/obj/maptile.js",
    "content": "import * as PIXI from 'pixi.js'\r\nimport { TILES } from './tiles'\r\nimport { GLOBAL } from '../global'\r\nimport { app, player, screenCenterX, screenCenterY, spritesheet } from '../pixigame'\r\n/**\r\n * One Tile component of the map.\r\n */\r\nexport class MapTile extends PIXI.Sprite {\r\n\t/**\r\n     * Constructs one Tile to add to the map.\r\n     * @param {string} name Name of the tile to place. Takes this name from `tiles.js` and loads its resources\r\n     * @param {number} gridX X-coordinate on the grid. Every 1 gridX = 400 posX\r\n     * @param {number} gridY Y-coordinate on the grid.\r\n     */\r\n\tconstructor (name, gridX, gridY) {\r\n\t\tsuper(spritesheet.textures[TILES[name].texture])\r\n\t\tthis.tile = TILES[name]\r\n\t\tthis.posX = gridX * GLOBAL.GRID_SPACING * 2\r\n\t\tthis.posY = gridY * GLOBAL.GRID_SPACING * 2\r\n\t\tthis.height = GLOBAL.GRID_SPACING * 2\r\n\t\tthis.width = GLOBAL.GRID_SPACING * 2\r\n\r\n\t\t// To be assigned later\r\n\t\tthis.owner = null\r\n\t\tthis.captured = false\r\n\r\n\t\tif (TILES[name].type === 'spawner' || TILES[name].type === 'stronghold' || TILES[name].type === 'nucleus') {\r\n\t\t\t// Create text object\r\n\t\t\tthis.hpText = new PIXI.Text('HP: ' + GLOBAL[('MAX_' + TILES[name].type + '_HEALTH').toUpperCase()])\r\n\t\t\t// Set style\r\n\t\t\tthis.hpText.style = new PIXI.TextStyle({\r\n\t\t\t\tfontSize: 36\r\n\t\t\t})\r\n\t\t\tthis.addChild(this.hpText)\r\n\t\t}\r\n\r\n\t\tapp.stage.addChild(this)\r\n\t}\r\n\r\n\t/**\r\n     * Draws object in the correct position on the player screen.\r\n     */\r\n\ttick () {\r\n\t\tif (player !== undefined) {\r\n\t\t\tthis.x = screenCenterX + this.posX - player.posX\r\n\t\t\tthis.y = screenCenterY + player.posY - this.posY\r\n\t\t}\r\n\t}\r\n\r\n\tupdateHealth(newHealth) {\r\n\t\tthis.hpText.text = 'HP: ' + newHealth\r\n\t}\r\n\r\n\t/** TEMP\r\n     * Moves this tile to (9999, 9999) on local screen space, effectively\r\n     * hiding it from view.\r\n     */\r\n\t// hide() {\r\n\t//     this.x = 9999;\r\n\t//     this.y = 9999;\r\n\t// }\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/maptile.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 157,
    "kind": "class",
    "name": "MapTile",
    "memberof": "src/client/js/obj/maptile.js",
    "static": true,
    "longname": "src/client/js/obj/maptile.js~MapTile",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/maptile.js",
    "importStyle": "{MapTile}",
    "description": "One Tile component of the map.",
    "lineNumber": 8,
    "interface": false,
    "extends": [
      "pixi.js~PIXI.Sprite"
    ]
  },
  {
    "__docId__": 158,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#constructor",
    "access": "public",
    "description": "Constructs one Tile to add to the map.",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of the tile to place. Takes this name from `tiles.js` and loads its resources"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "gridX",
        "description": "X-coordinate on the grid. Every 1 gridX = 400 posX"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "gridY",
        "description": "Y-coordinate on the grid."
      }
    ]
  },
  {
    "__docId__": 159,
    "kind": "member",
    "name": "tile",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#tile",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 160,
    "kind": "member",
    "name": "posX",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#posX",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 161,
    "kind": "member",
    "name": "posY",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#posY",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 162,
    "kind": "member",
    "name": "height",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#height",
    "access": "public",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 163,
    "kind": "member",
    "name": "width",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#width",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 164,
    "kind": "member",
    "name": "owner",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#owner",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 165,
    "kind": "member",
    "name": "captured",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#captured",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 166,
    "kind": "member",
    "name": "hpText",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#hpText",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 167,
    "kind": "method",
    "name": "tick",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#tick",
    "access": "public",
    "description": "Draws object in the correct position on the player screen.",
    "lineNumber": 43,
    "params": [],
    "return": null
  },
  {
    "__docId__": 168,
    "kind": "member",
    "name": "x",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#x",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 169,
    "kind": "member",
    "name": "y",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#y",
    "access": "public",
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 170,
    "kind": "method",
    "name": "updateHealth",
    "memberof": "src/client/js/obj/maptile.js~MapTile",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/maptile.js~MapTile#updateHealth",
    "access": "public",
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "params": [
      {
        "name": "newHealth",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 171,
    "kind": "file",
    "name": "src/client/js/obj/player.js",
    "content": "import { GLOBAL } from '../global.js'\r\nimport * as PIXI from 'pixi.js'\r\nimport { screenCenterX, screenCenterY, mouseDown, spritesheet } from '../pixigame.js'\r\nimport { socket, teamColors } from '../socket.js'\r\nimport { GameObject } from './gameobject.js'\r\n\r\nexport class Player extends GameObject {\r\n\t/**\r\n     * Constructor for creating a new Player in the server side.\r\n     * Player is a Sprite instance that can be added to the stage.\r\n     * Each Player should only be created once, and updated subsequently with\r\n     * setData().\r\n     * @param {PIXI.Texture} texture The texture associated with this sprite\r\n     * @param {string} id Socket ID of the player\r\n     * @param {string} name Name of the player\r\n     * @param {string} room Room that the player belongs to\r\n     * @param {string} team Team that the player belongs to\r\n     * @param {number} health Health of the player\r\n     * @param {number} x Global x-coordinate\r\n     * @param {number} y Global y-coordinate\r\n     * @param {number} vx Horizontal velocity\r\n     * @param {number} vy Vertical velocity\r\n     */\r\n\tconstructor (texture, id, name, room, team, health, x, y, vx, vy, experience) {\r\n\t\t// Call GameObject\r\n\t\tsuper(texture, id, x, y, vx, vy)\r\n\r\n\t\t// Pixi Values\r\n\t\tthis.width = GLOBAL.PLAYER_RADIUS * 2\r\n\t\tthis.height = GLOBAL.PLAYER_RADIUS * 2\r\n\r\n\t\tif (id === socket.id) {\r\n\t\t\t// console.log('this player');\r\n\t\t\tthis.x = screenCenterX\r\n\t\t\tthis.y = screenCenterY\r\n\t\t}\r\n\t\telse { // take this player off screen until it can be processed\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\r\n\t\t// Custom fields\r\n\t\tthis.name = name\r\n\t\tthis.room = room\r\n\t\tthis.team = team\r\n\t\tthis.health = health // Set the health of the player\r\n\t\tthis.isMoving = false\r\n\t\tthis.experience = experience // Sets the experience of the player(Passed in)\r\n\t\tthis.speedMult = 1 // Speed multiplier. Increased/decreased by different compounds\r\n\t\tthis.shield = 0\r\n\t\tthis.stronghold = 'none'\r\n\t\tthis.spectating = false\r\n\r\n\t\tthis.damagedBy = {} // Object containing the values of damage that each player has dealt.\r\n\t\tthis.textObjects = {} // Contains Text to be drawn under the player (name, id, etc)\r\n\t\tthis.playerSprite = new PIXI.Sprite(texture)\r\n\r\n\t\tthis.setup()\r\n\t}\r\n\r\n\t/**\r\n     * First-time setup for this player. All of the functions in this method will only be called once.\r\n     */\r\n\tsetup () {\r\n\t\t// Create text objects\r\n\t\tthis.textObjects.nametext = new PIXI.Text('name: ')\r\n\t\tthis.textObjects.idtext = new PIXI.Text('id: ')\r\n\t\tthis.textObjects.postext = new PIXI.Text('placeholderpos')\r\n\t\tthis.textObjects.teamtext = new PIXI.Text('team: ')\r\n\t\tthis.textObjects.healthtext = new PIXI.Text('health: ')\r\n\t\tthis.textObjects.defensetext = new PIXI.Text('defense: ')\r\n\r\n\t\t// Assign values and positions\r\n\t\tthis.textObjects.idtext.position.set(0, GLOBAL.PLAYER_RADIUS * 9)\r\n\t\tthis.textObjects.idtext.text += this.id\r\n\t\tthis.textObjects.nametext.position.set(0, GLOBAL.PLAYER_RADIUS * 9 + 100)\r\n\t\tthis.textObjects.nametext.text += this.name\r\n\t\tthis.textObjects.postext.position.set(0, GLOBAL.PLAYER_RADIUS * 9 + 200)\r\n\t\tthis.textObjects.teamtext.text += this.team\r\n\t\tthis.textObjects.teamtext.position.set(0, GLOBAL.PLAYER_RADIUS * 9 + 300)\r\n\t\tthis.textObjects.defensetext.text += this.shield\r\n\t\tthis.textObjects.defensetext.position.set(0, GLOBAL.PLAYER_RADIUS * 9 + 400)\r\n\r\n\t\t// create text and assign color\r\n\t\tfor (let item in this.textObjects) {\r\n\t\t\t// Add text\r\n\t\t\tthis.textObjects[item].style = new PIXI.TextStyle({\r\n\t\t\t\tfill: '0x' + GLOBAL.TEAM_COLORS[teamColors[this.team]],\r\n\t\t\t\tfontSize: 120\r\n\t\t\t})\r\n\t\t\tthis.addChild(this.textObjects[item])\r\n\t\t}\r\n\r\n\t\t// Create player sprite child\r\n\t\tthis.playerSprite.anchor.set(0.5, 0.5)\r\n\t\tthis.playerSprite.position.set(GLOBAL.PLAYER_RADIUS * 5, GLOBAL.PLAYER_RADIUS * 5)\r\n\t\tthis.playerSprite.scale.set(1.3, 1.3)\r\n\t\tthis.addChild(this.playerSprite)\r\n\t}\r\n\t/**\r\n      * Draws all components of a given player.\r\n      * This method should be included in the ticker and called once a frame.\r\n    * Therefore, all setup tasks\r\n     * should be called in setup().\r\n    */\r\n\ttick () {\r\n\t\t// Movement\r\n\t\tsuper.tick(true)\r\n\r\n\t\tif (!this.spectating) {\r\n\t\t\t// Update text\r\n\t\t\tthis.textObjects.postext.text = '(' + Math.round(this.posX) + ', ' + Math.round(this.posY) + ')'\r\n\t\t\tthis.textObjects.healthtext.text = 'health: ' + this.health\r\n\t\t\tthis.textObjects.defensetext.text = 'defense: ' + this.shield + ((this.stronghold === 'team') ? ' (+5)' : '')\r\n\t\t}\r\n\r\n\t\t// Rotation\r\n\t\tthis.playerSprite.rotation += (this.id === socket.id && mouseDown) ? GLOBAL.PLAYER_EXPEDITED_ROTATION : GLOBAL.PLAYER_ROTATION\r\n\r\n\t\t// Draw other player\r\n\t\tif (this.id !== socket.id) {\r\n\t\t\tthis.draw()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Notifies the player to check for a sprite change (shield, etc).\r\n\t * @param {number} shield Number of extra defense points from buffs, elements, etc.\r\n\t * @param {string} stronghold 'team' if player is in team stronghold, 'notteam' if player is in enemy stronghold, 'none', if not in a stronghold\r\n\t */\r\n\tchangeSprite(shield, stronghold) {\r\n\t\t// Set values\r\n\t\tthis.shield = shield\r\n\t\tthis.stronghold = stronghold\r\n\r\n\t\t// Set sprite\r\n\t\tif (this.shield > 0 || this.stronghold === 'team') {\r\n\t\t\tthis.playerSprite.texture = spritesheet.textures[teamColors[this.team] + 'playershield.png']\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.playerSprite.texture = spritesheet.textures[teamColors[this.team] + 'player.png']\r\n\t\t}\r\n\t}\r\n\r\n\tbeginSpectate() {\r\n\t\t// Hide all text objects except for player name\r\n\t\tfor (let textObject in this.textObjects) {\r\n\t\t\tif (textObject !== 'nametext') {\r\n\t\t\t\tthis.removeChild(this.textObjects[textObject])\r\n\t\t\t\tdelete this.textObjects[textObject]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.textObjects.nametext.text += ' (SPECTATING)'\r\n\r\n\t\t// Add a filter to create transparency\r\n\t\tthis.filters = [new PIXI.filters.AlphaFilter(0.5)]\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/player.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 172,
    "kind": "class",
    "name": "Player",
    "memberof": "src/client/js/obj/player.js",
    "static": true,
    "longname": "src/client/js/obj/player.js~Player",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/player.js",
    "importStyle": "{Player}",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/client/js/obj/gameobject.js~GameObject"
    ]
  },
  {
    "__docId__": 173,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/client/js/obj/player.js~Player",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#constructor",
    "access": "public",
    "description": "Constructor for creating a new Player in the server side.\nPlayer is a Sprite instance that can be added to the stage.\nEach Player should only be created once, and updated subsequently with\nsetData().",
    "lineNumber": 24,
    "params": [
      {
        "nullable": null,
        "types": [
          "PIXI.Texture"
        ],
        "spread": false,
        "optional": false,
        "name": "texture",
        "description": "The texture associated with this sprite"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "Socket ID of the player"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "Name of the player"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "Room that the player belongs to"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "team",
        "description": "Team that the player belongs to"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "health",
        "description": "Health of the player"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "x",
        "description": "Global x-coordinate"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "y",
        "description": "Global y-coordinate"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vx",
        "description": "Horizontal velocity"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "vy",
        "description": "Vertical velocity"
      }
    ]
  },
  {
    "__docId__": 174,
    "kind": "member",
    "name": "width",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#width",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 175,
    "kind": "member",
    "name": "height",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#height",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 176,
    "kind": "member",
    "name": "x",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#x",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 177,
    "kind": "member",
    "name": "y",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#y",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 178,
    "kind": "member",
    "name": "name",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#name",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 179,
    "kind": "member",
    "name": "room",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#room",
    "access": "public",
    "description": null,
    "lineNumber": 43,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 180,
    "kind": "member",
    "name": "team",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#team",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 181,
    "kind": "member",
    "name": "health",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#health",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 182,
    "kind": "member",
    "name": "isMoving",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#isMoving",
    "access": "public",
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 183,
    "kind": "member",
    "name": "experience",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#experience",
    "access": "public",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 184,
    "kind": "member",
    "name": "speedMult",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#speedMult",
    "access": "public",
    "description": null,
    "lineNumber": 48,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 185,
    "kind": "member",
    "name": "shield",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#shield",
    "access": "public",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 186,
    "kind": "member",
    "name": "stronghold",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#stronghold",
    "access": "public",
    "description": null,
    "lineNumber": 50,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 187,
    "kind": "member",
    "name": "spectating",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#spectating",
    "access": "public",
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 188,
    "kind": "member",
    "name": "damagedBy",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#damagedBy",
    "access": "public",
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 189,
    "kind": "member",
    "name": "textObjects",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#textObjects",
    "access": "public",
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 190,
    "kind": "member",
    "name": "playerSprite",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#playerSprite",
    "access": "public",
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 191,
    "kind": "method",
    "name": "setup",
    "memberof": "src/client/js/obj/player.js~Player",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#setup",
    "access": "public",
    "description": "First-time setup for this player. All of the functions in this method will only be called once.",
    "lineNumber": 63,
    "params": [],
    "return": null
  },
  {
    "__docId__": 192,
    "kind": "method",
    "name": "tick",
    "memberof": "src/client/js/obj/player.js~Player",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#tick",
    "access": "public",
    "description": "Draws all components of a given player.\nThis method should be included in the ticker and called once a frame.\nTherefore, all setup tasks\nshould be called in setup().",
    "lineNumber": 105,
    "params": [],
    "return": null
  },
  {
    "__docId__": 193,
    "kind": "method",
    "name": "changeSprite",
    "memberof": "src/client/js/obj/player.js~Player",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#changeSprite",
    "access": "public",
    "description": "Notifies the player to check for a sprite change (shield, etc).",
    "lineNumber": 130,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "shield",
        "description": "Number of extra defense points from buffs, elements, etc."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "stronghold",
        "description": "'team' if player is in team stronghold, 'notteam' if player is in enemy stronghold, 'none', if not in a stronghold"
      }
    ],
    "return": null
  },
  {
    "__docId__": 196,
    "kind": "method",
    "name": "beginSpectate",
    "memberof": "src/client/js/obj/player.js~Player",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#beginSpectate",
    "access": "public",
    "description": null,
    "lineNumber": 144,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 197,
    "kind": "member",
    "name": "filters",
    "memberof": "src/client/js/obj/player.js~Player",
    "static": false,
    "longname": "src/client/js/obj/player.js~Player#filters",
    "access": "public",
    "description": null,
    "lineNumber": 156,
    "undocument": true,
    "type": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 198,
    "kind": "file",
    "name": "src/client/js/obj/tiles.js",
    "content": "/**\r\n * This constant contains all data on how to draw and manage tiles.\r\n *\r\n * Fields required:\r\n * type: Choose one: spawner, teamBase, wall\r\n * params: Different for each type. For example, spawner will require the `atomToSpawn` param, and teamBase will require the `teamName` param.\r\n * texture: String path of the texture file for this texture, starting in the `map` folder. (ex. 'foo.png' corresponds to '../../assets/map/Tiles/foo.png')\r\n */\r\nexport const TILES = {\r\n\tempty: {\r\n\t\ttexture: 'SolidTile.png',\r\n\t\ttype: 'none'\r\n\t},\r\n\tflame: {\r\n\t\ttexture: 'FlameTile.png',\r\n\t\ttype: 'flame'\r\n\t},\r\n\ttopLeft: {\r\n\t\ttexture: 'InteriorCorner BR.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['bottom', 'right']\r\n\t\t}\r\n\t},\r\n\ttopRight: {\r\n\t\ttexture: 'InteriorCorner BL.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['bottom', 'left']\r\n\t\t}\r\n\t},\r\n\tbottomLeft: {\r\n\t\ttexture: 'InteriorCorner TR.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['top', 'right']\r\n\t\t}\r\n\t},\r\n\tbottomRight: {\r\n\t\ttexture: 'InteriorCorner TL.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['top', 'left']\r\n\t\t}\r\n\t},\r\n\tedgeTop: {\r\n\t\ttexture: 'EdgeTile B.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['bottom']\r\n\t\t}\r\n\t},\r\n\tedgeBottom: {\r\n\t\ttexture: 'EdgeTile T.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['top']\r\n\t\t}\r\n\t},\r\n\tedgeLeft: {\r\n\t\ttexture: 'EdgeTile R.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['right']\r\n\t\t}\r\n\t},\r\n\tedgeRight: {\r\n\t\ttexture: 'EdgeTile L.png',\r\n\t\ttype: 'wall',\r\n\t\tparams: {\r\n\t\t\tborder: ['left']\r\n\t\t}\r\n\t},\r\n\thydrogenVent: {\r\n\t\ttexture: 'HydrogenVent.png',\r\n\t\ttype: 'spawner',\r\n\t\tparams: {\r\n\t\t\tatomsToSpawn: ['h']\r\n\t\t}\r\n\t},\r\n\toxygenVent: {\r\n\t\ttexture: 'OxygenVent.png',\r\n\t\ttype: 'spawner',\r\n\t\tparams: {\r\n\t\t\tatomsToSpawn: ['o']\r\n\t\t}\r\n\t},\r\n\tnitrogenVent: {\r\n\t\ttexture: 'NitrogenVent.png',\r\n\t\ttype: 'spawner',\r\n\t\tparams: {\r\n\t\t\tatomsToSpawn: ['n']\r\n\t\t}\r\n\t},\r\n\tcarbonVent: {\r\n\t\ttexture: 'CarbonVent.png',\r\n\t\ttype: 'spawner',\r\n\t\tparams: {\r\n\t\t\tatomsToSpawn: ['c']\r\n\t\t}\r\n\t},\r\n\tstronghold: {\r\n\t\ttexture: 'stronghold.png',\r\n\t\ttype: 'stronghold'\r\n\t},\r\n\tnucleus0: {\r\n\t\ttexture: '0nucleus.png',\r\n\t\ttype: 'nucleus'\r\n\t},\r\n\tnucleus1: {\r\n\t\ttexture: '1nucleus.png',\r\n\t\ttype: 'nucleus'\r\n\t},\r\n\tnucleus2: {\r\n\t\ttexture: '2nucleus.png',\r\n\t\ttype: 'nucleus'\r\n\t},\r\n\tnucleus3: {\r\n\t\ttexture: '3nucleus.png',\r\n\t\ttype: 'nucleus'\r\n\t}\r\n}\r\n\r\n/**\r\n * 2D array containing the entire map tile layout. Top left is (0,0), furthest right is (n, 0) and furthest bottom is (0, n).\r\n * Shortcuts:\r\n * E = Empty\r\n * O = Oxygen\r\n * N = Nitrogen\r\n * C = Carbon\r\n */\r\nexport const MAP_LAYOUT = [\r\n\t['E', 'E', 'E', 'E', 'E', 'E', 'n1'],\r\n\t['E', 'O', 'E', 'S', 'E', 'O', 'E'],\r\n\t['E', 'H', 'F', 'N', 'F', 'H', 'E'],\r\n\t['E', 'S', 'F', 'C', 'F', 'S', 'E'],\r\n\t['E', 'H', 'F', 'N', 'F', 'H', 'E'],\r\n\t['E', 'O', 'E', 'S', 'E', 'O', 'E'],\r\n\t['n0', 'E', 'E', 'E', 'E', 'E', 'E']\r\n]\r\n\r\nexport const TILE_NAMES = {\r\n\tE: 'empty',\r\n\tO: 'oxygenVent',\r\n\tN: 'nitrogenVent',\r\n\tC: 'carbonVent',\r\n\tH: 'hydrogenVent',\r\n\tF: 'flame',\r\n\tS: 'stronghold',\r\n\tq: 'topLeft',\r\n\tw: 'edgeTop',\r\n\te: 'topRight',\r\n\ta: 'edgeLeft',\r\n\td: 'edgeRight',\r\n\tz: 'bottomLeft',\r\n\tx: 'edgeBottom',\r\n\tc: 'bottomRight',\r\n\tn0: 'nucleus0',\r\n\tn1: 'nucleus1',\r\n\tn2: 'nucleus2',\r\n\tn3: 'nucleus3'\r\n\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/obj/tiles.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 199,
    "kind": "variable",
    "name": "TILES",
    "memberof": "src/client/js/obj/tiles.js",
    "static": true,
    "longname": "src/client/js/obj/tiles.js~TILES",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/tiles.js",
    "importStyle": "{TILES}",
    "description": "This constant contains all data on how to draw and manage tiles.\n\nFields required:\ntype: Choose one: spawner, teamBase, wall\nparams: Different for each type. For example, spawner will require the `atomToSpawn` param, and teamBase will require the `teamName` param.\ntexture: String path of the texture file for this texture, starting in the `map` folder. (ex. 'foo.png' corresponds to '../../assets/map/Tiles/foo.png')",
    "lineNumber": 9,
    "type": {
      "types": [
        "{\"empty\": *, \"flame\": *, \"topLeft\": *, \"topRight\": *, \"bottomLeft\": *, \"bottomRight\": *, \"edgeTop\": *, \"edgeBottom\": *, \"edgeLeft\": *, \"edgeRight\": *, \"hydrogenVent\": *, \"oxygenVent\": *, \"nitrogenVent\": *, \"carbonVent\": *, \"stronghold\": *, \"nucleus0\": *, \"nucleus1\": *, \"nucleus2\": *, \"nucleus3\": *}"
      ]
    }
  },
  {
    "__docId__": 200,
    "kind": "variable",
    "name": "MAP_LAYOUT",
    "memberof": "src/client/js/obj/tiles.js",
    "static": true,
    "longname": "src/client/js/obj/tiles.js~MAP_LAYOUT",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/tiles.js",
    "importStyle": "{MAP_LAYOUT}",
    "description": null,
    "lineNumber": 132,
    "undocument": true,
    "type": {
      "types": [
        "undefined[]"
      ]
    }
  },
  {
    "__docId__": 201,
    "kind": "variable",
    "name": "TILE_NAMES",
    "memberof": "src/client/js/obj/tiles.js",
    "static": true,
    "longname": "src/client/js/obj/tiles.js~TILE_NAMES",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/obj/tiles.js",
    "importStyle": "{TILE_NAMES}",
    "description": null,
    "lineNumber": 142,
    "undocument": true,
    "type": {
      "types": [
        "{\"E\": string, \"O\": string, \"N\": string, \"C\": string, \"H\": string, \"F\": string, \"S\": string, \"q\": string, \"w\": string, \"e\": string, \"a\": string, \"d\": string, \"z\": string, \"x\": string, \"c\": string, \"n0\": string, \"n1\": string, \"n2\": string, \"n3\": string}"
      ]
    }
  },
  {
    "__docId__": 202,
    "kind": "file",
    "name": "src/client/js/pixigame.js",
    "content": "import * as PIXI from 'pixi.js'\r\nimport { keyboard } from './lib/keyboard'\r\nimport { GLOBAL } from './global'\r\nimport { Player } from './obj/player'\r\nimport { hideElement, showElement, selectedBlueprints, updateCompoundButtons, selectedCompound, mouseX, mouseY } from './app'\r\nimport { socket, objects, teamColors } from './socket'\r\nimport { requestCreateCompound, createTiles } from './obj/create'\r\nimport { joystick } from './app'\r\n\r\nexport var isSetup // True after the stage is fully set up\r\nexport var player // The player being controlled by this client\r\nexport var screenCenterX // X-coordinate of the center of the screen\r\nexport var screenCenterY // Y-coordinate of the center of the screen\r\nexport var app // Pixi app\r\nexport var spritesheet // Spritesheet containing all sprites that need to be loaded\r\n\r\nexport let mouseDown = false // True if mouse is pressed down\r\nlet inGame = false // True after game has begun\r\nlet esc, space, blueprintKeys, moveKeys // Key handlers\r\nlet streamID = 0 // Current stream compound number. Resets when mouse/space is released; otherwise increments by one every time a compound is created.\r\n\r\nexport function loadTextures () {\r\n\tif (!isSetup) {\r\n\t\t// Initialization\r\n\t\tlet type = (PIXI.utils.isWebGLSupported()) ? 'WebGL' : 'canvas'\r\n\t\tPIXI.utils.sayHello(type)\r\n\r\n\t\t// Create a Pixi Application\r\n\t\tapp = new PIXI.Application(0, 0, {\r\n\t\t\tview: document.getElementById('gameView')\r\n\t\t})\r\n\t\t// Add the canvas that Pixi automatically created for you to the HTML document\r\n\t\t// document.body.appendChild(app.view);\r\n\r\n\t\t// Renderer settings\r\n\t\tapp.renderer.autoResize = true\r\n\t\tapp.renderer.resize(window.innerWidth, window.innerHeight)\r\n\t\tscreenCenterX = window.innerWidth / 2 - GLOBAL.PLAYER_RADIUS\r\n\t\tscreenCenterY = window.innerHeight / 2 - GLOBAL.PLAYER_RADIUS\r\n\r\n\t\t// Initiate resource loading\r\n\t\tif (Object.keys(PIXI.loader.resources).length < 1) {\r\n\t\t\tPIXI.loader\r\n\t\t\t\t.add(GLOBAL.SPRITESHEET_DIR)\r\n\t\t\t\t.load(registerCallbacks)\r\n\t\t}\r\n\t}\r\n\r\n\t// If already initialized, use existing app variable\r\n\tif (isSetup) {\r\n\t\tconsole.info('Stage already initialized!')\r\n\t\tclearStage()\r\n\t\tregisterCallbacks()\r\n\t}\r\n}\r\n\r\n/**\r\n * Sets up the stage. Call after init(), and begins the draw() loop once complete.\r\n */\r\nfunction registerCallbacks () {\r\n\tif (!isSetup) {\r\n\t\t// Set up key listeners\r\n\t\tesc = keyboard(GLOBAL.KEY_ESC)\r\n\t\tspace = keyboard(GLOBAL.KEY_SPACE)\r\n\r\n\t\t// All the movement keys for easy access\r\n\t\tmoveKeys = [\r\n\t\t\tkeyboard(GLOBAL.KEY_A), // Left\r\n\t\t\tkeyboard(GLOBAL.KEY_D), // Right\r\n\t\t\tkeyboard(GLOBAL.KEY_W), // Up\r\n\t\t\tkeyboard(GLOBAL.KEY_S) // Down\r\n\t\t]\r\n\r\n\t\t// Set up the blueprint key listeners\r\n\t\tblueprintKeys = [\r\n\t\t\tkeyboard(GLOBAL.KEY_1),\r\n\t\t\tkeyboard(GLOBAL.KEY_2),\r\n\t\t\tkeyboard(GLOBAL.KEY_3),\r\n\t\t\tkeyboard(GLOBAL.KEY_4)\r\n\t\t]\r\n\r\n\t\t// Escape key setup\r\n\t\tesc.press = () => {\r\n\t\t\tif (isFocused()) {\r\n\t\t\t\tif (document.activeElement !== document.getElementById('chatInput')) {\r\n\t\t\t\t\ttoggleMenu()\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tdocument.getElementById('chatInput').blur()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Chat box styling on select\r\n\t\tdocument.getElementById('chatInput').onfocus = () => {\r\n\t\t\tdocument.getElementById('chatbox').style.boxShadow = '0px 0px 1rem 0px #311B92'\r\n\t\t}\r\n\r\n\t\tdocument.getElementById('chatInput').onblur = () => {\r\n\t\t\tdocument.getElementById('chatbox').style.boxShadow = '0px 0px 1rem 0px rgba(180,180,180)'\r\n\t\t}\r\n\r\n\t\t// Bind each blueprint key\r\n\t\tfor (let key in blueprintKeys) {\r\n\t\t\tblueprintKeys[key].press = () => {\r\n\t\t\t\tif (isFocused() && inGame) {\r\n\t\t\t\t\tupdateCompoundButtons(key)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Background\r\n\t\tapp.renderer.backgroundColor = 0xFFFFFF\r\n\r\n\t\t// Resize\r\n\t\tdocument.getElementsByTagName('body')[0].onresize = () => {\r\n\t\t\tapp.renderer.resize(window.innerWidth, window.innerHeight)\r\n\t\t\tscreenCenterX = window.innerWidth / 2 - GLOBAL.PLAYER_RADIUS\r\n\t\t\tscreenCenterY = window.innerHeight / 2 - GLOBAL.PLAYER_RADIUS\r\n\t\t\tplayer.x = screenCenterX\r\n\t\t\tplayer.y = screenCenterY\r\n\t\t}\r\n\r\n\t\t// Assign spritesheet object\r\n\t\tspritesheet = PIXI.loader.resources[GLOBAL.SPRITESHEET_DIR].spritesheet\r\n\t\tconsole.log(spritesheet)\r\n\r\n\t\t// Begin game loop\r\n\t\tapp.ticker.add(delta => draw(delta))\r\n\t}\r\n\r\n\tisSetup = true\r\n\r\n\t// Draw map\r\n\tcreateTiles()\r\n\r\n\tshowGameUI()\r\n}\r\n\r\n/**\r\n * Called once per frame. Updates all moving sprites on the stage.\r\n * Also checks key inputs.\r\n * @param {number} delta Time value from Pixi\r\n */\r\nfunction draw (delta) {\r\n\t// Handle this player and movement\r\n\tif (player !== undefined) {\r\n\t\t// Make sure player is not in chat before checking move\r\n\t\tif (isFocused() && inGame) {\r\n\t\t\t// Keyboard based controls\r\n\r\n\t\t\tif ((moveKeys[0].isDown || joystick.mobileKey.leftDown === true) && player.vx > -GLOBAL.MAX_SPEED * player.speedMult) { // Left\r\n\t\t\t\tmovePlayer('left')\r\n\t\t\t}\r\n\t\t\tif ((moveKeys[1].isDown || joystick.mobileKey.rightDown === true) && player.vx < GLOBAL.MAX_SPEED * player.speedMult) { // Right\r\n\t\t\t\tmovePlayer('right')\r\n\t\t\t}\r\n\t\t\tif ((moveKeys[2].isDown || joystick.mobileKey.upDown === true) && player.vy < GLOBAL.MAX_SPEED * player.speedMult) { // Up\r\n\t\t\t\tmovePlayer('up')\r\n\t\t\t}\r\n\t\t\tif ((moveKeys[3].isDown || joystick.mobileKey.downDown === true) && player.vy > -GLOBAL.MAX_SPEED * player.speedMult) { // Down\r\n\t\t\t\tmovePlayer('down')\r\n\t\t\t}\r\n\t\t\tplayer.isMoving = false\r\n\r\n\t\t\t// console.log(moveKeys[0].isDown, moveKeys[1].isDown, moveKeys[2].isDown, moveKeys[3].isDown, mouseDown)\r\n\t\t\tfor (let key of moveKeys) {\r\n\t\t\t\tif (key.isDown) {\r\n\t\t\t\t\tplayer.isMoving = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tplayer.isMoving = false\r\n\r\n\t\t\t// Because the document is not focused disable all keys(Stops moving!)\r\n\t\t\tfor (let key in moveKeys) {\r\n\t\t\t\tmoveKeys[key].isDown = false\r\n\t\t\t\tmoveKeys[key].isUp = true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Slow down gradually - unaffected by chat input\r\n\t\tif (!moveKeys[2].isDown && !moveKeys[3].isDown) {\r\n\t\t\tplayer.vy *= GLOBAL.VELOCITY_STEP\r\n\t\t}\r\n\t\tif (!moveKeys[0].isDown && !moveKeys[1].isDown) {\r\n\t\t\tplayer.vx *= GLOBAL.VELOCITY_STEP\r\n\t\t}\r\n\r\n\t\t// Shooting\r\n\t\tspace.press = () => {\r\n\t\t\tif (selectedBlueprints[selectedCompound].type !== 'stream') {\r\n\t\t\t\tshootHandler({ clientX: mouseX, clientY: mouseY }, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Streams\r\n\t\tif ((space.isDown || mouseDown) && selectedBlueprints[selectedCompound].type === 'stream') {\r\n\t\t\tshootHandler({ clientX: mouseX, clientY: mouseY }, true)\r\n\t\t}\r\n\r\n\t\t// Reset stream count when space key is released\r\n\t\tspace.release = () => {\r\n\t\t\tstreamID = 0\r\n\t\t}\r\n\r\n\t\t// Move player\r\n\t\tplayer.tick()\r\n\r\n\t\t// Send coordinates\r\n\t\tsocket.emit('move', {\r\n\t\t\ttype: 'players',\r\n\t\t\tid: player.id,\r\n\t\t\tposX: player.posX,\r\n\t\t\tposY: player.posY,\r\n\t\t\tvx: player.vx,\r\n\t\t\tvy: player.vy\r\n\t\t})\r\n\t}\r\n\r\n\t// Handle objects except for this player\r\n\tfor (let objType in objects) {\r\n\t\tfor (let obj in objects[objType]) {\r\n\t\t\tif (objType !== 'players' || player !== objects[objType][obj]) {\r\n\t\t\t\tobjects[objType][obj].tick()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Shows or hides the in-game menu box\r\n */\r\nfunction toggleMenu () {\r\n\tif (document.getElementById('menubox').offsetParent === null) {\r\n\t\tshowElement('menubox')\r\n\t}\r\n\telse {\r\n\t\thideElement('menubox')\r\n\t}\r\n}\r\n\r\n/**\r\n * Remove all elements pre-rendered on stage.\r\n */\r\nfunction clearStage () {\r\n\tfor (var i = app.stage.children.length - 1; i >= 0; i--) {\r\n\t\tapp.stage.removeChild(app.stage.children[i])\r\n\t}\r\n}\r\n\r\n/**\r\n * Destroy everything in PIXI. DANGEROUS avoid!\r\n */\r\nexport function destroyPIXI () {\r\n\tapp.destroy(true, {\r\n\t\tchildren: true,\r\n\t\ttexture: true,\r\n\t\tbaseTexture: true\r\n\t})\r\n\tPIXI.loader.reset()\r\n\tisSetup = false\r\n\tapp = undefined\r\n}\r\n\r\n/**\r\n * Call this function to hide loading div and show UI\r\n */\r\nexport function showGameUI () {\r\n\t// Hide loading screen\r\n\thideElement('loading')\r\n\tif (!inGame) {\r\n\t\tshowElement('lobby')\r\n\t}\r\n}\r\n\r\n/**\r\n * Creates a Player instance once the stage is fully set up and ready.\r\n * @param {*} data Starting values to assign to the player. Generated from server\r\n * @returns {Player} The Player object that was created\r\n */\r\nexport function createPlayer (data) {\r\n\tif (isSetup) {\r\n\t\tconsole.log('create player ' + data.id)\r\n\t\t// console.log(data)\r\n\t\tlet newPlayer = new Player(spritesheet.textures[teamColors[data.team] + 'player.png'], data.id, data.name, data.room, data.team, data.health, data.posX, data.posY, data.vx, data.vy)\r\n\t\tif (data.id === socket.id) {\r\n\t\t\tplayer = newPlayer\r\n\t\t}\r\n\r\n\t\treturn newPlayer\r\n\t}\r\n}\r\n\r\n/**\r\n * If the document is Focused return true otherwise false\r\n **/\r\nexport function isFocused () {\r\n\treturn document.hasFocus() && document.activeElement !== document.getElementById('chatInput')\r\n}\r\n\r\n/**\r\n * Starts the game after lobby closes.\r\n * @param {boolean} emit True if this client should emit the event to the server.\r\n * @param {*} teams Array of teams on the scoreboard.\r\n */\r\nexport function startGame (emit, teams) {\r\n\tsetIngame(true)\r\n\thideElement('lobby')\r\n\tshowElement('hud')\r\n\tif (emit) {\r\n\t\tsocket.emit('startGame', {\r\n\t\t\tstart: true\r\n\t\t})\r\n\t}\r\n\r\n\t// Init scoreboard\r\n\tif (teams !== undefined) {\r\n\t\t// Reset scoreboard from previous rounds\r\n\t\tdocument.getElementById('score').innerHTML = ''\r\n\r\n\t\tfor (let i = 0; i < teams.length; i++) {\r\n\t\t\tdocument.getElementById('score').innerHTML += '-<span id=\"team-score-' + i + '\">0</span>'\r\n\t\t\tdocument.getElementById('team-score-' + i).style.color = '#' + GLOBAL.TEAM_COLORS[i]\r\n\t\t}\r\n\t\tdocument.getElementById('score').style.fontSize = '3vw'\r\n\t\tdocument.getElementById('score').innerHTML += '-'\r\n\t}\r\n}\r\n\r\n/**\r\n * Sets the value of inGame\r\n * @param {boolean} newValue Value to set inGame to\r\n */\r\nexport function setIngame (newValue) {\r\n\tinGame = newValue\r\n}\r\n\r\n/**\r\n * @returns {boolean} Returns inGame variable\r\n */\r\nexport function getIngame () {\r\n\treturn inGame\r\n}\r\n\r\n/**\r\n * Called on mouse up from app.js\r\n * @param {*} e Click event\r\n */\r\nexport function mouseUpHandler (e) {\r\n\tmouseDown = true\r\n\tif (selectedBlueprints[selectedCompound] && selectedBlueprints[selectedCompound].type !== 'stream') {\r\n\t\tshootHandler(e, false)\r\n\t}\r\n}\r\n/**\r\n * Called on mouse down from app.js\r\n * @param {*} e Click event\r\n */\r\nexport function mouseDownHandler (e) {\r\n\tmouseDown = false\r\n\tstreamID = 0\r\n}\r\n\r\n/**\r\n * Handles shooting mechanics on mouse/spacebar click/hold.\r\n * @param {*} e Click event\r\n * @param {boolean} stream True if sending a stream (such as water); false otherwise.\r\n */\r\nfunction shootHandler (e, stream) {\r\n\tif (isFocused() && inGame && !player.spectatingl) {\r\n\t\tif (stream) {\r\n\t\t\tstreamID++\r\n\t\t}\r\n\t\trequestCreateCompound(selectedBlueprints[selectedCompound], e.clientX, e.clientY, streamID)\r\n\t}\r\n}\r\n\r\n/**\r\n * Moves the player by changing its velocity.\r\n * @param {string} direction up, down, left, or right\r\n */\r\nexport function movePlayer (direction) {\r\n\tif (player.isMoving) {\r\n\t\tif (direction === 'up') {\r\n\t\t\tplayer.vy += GLOBAL.VELOCITY_STEP * player.speedMult\r\n\t\t}\r\n\t\tif (direction === 'down') {\r\n\t\t\tplayer.vy += -GLOBAL.VELOCITY_STEP * player.speedMult\r\n\t\t}\r\n\t\tif (direction === 'right') {\r\n\t\t\tplayer.vx += GLOBAL.VELOCITY_STEP * player.speedMult\r\n\t\t}\r\n\t\tif (direction === 'left') {\r\n\t\t\tplayer.vx += -GLOBAL.VELOCITY_STEP * player.speedMult\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/pixigame.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 203,
    "kind": "variable",
    "name": "mouseDown",
    "memberof": "src/client/js/pixigame.js",
    "static": true,
    "longname": "src/client/js/pixigame.js~mouseDown",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{mouseDown}",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 204,
    "kind": "variable",
    "name": "inGame",
    "memberof": "src/client/js/pixigame.js",
    "static": true,
    "longname": "src/client/js/pixigame.js~inGame",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 205,
    "kind": "variable",
    "name": "streamID",
    "memberof": "src/client/js/pixigame.js",
    "static": true,
    "longname": "src/client/js/pixigame.js~streamID",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 206,
    "kind": "function",
    "name": "loadTextures",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~loadTextures",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{loadTextures}",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 207,
    "kind": "function",
    "name": "registerCallbacks",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~registerCallbacks",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": "Sets up the stage. Call after init(), and begins the draw() loop once complete.",
    "lineNumber": 60,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 208,
    "kind": "function",
    "name": "draw",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~draw",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": "Called once per frame. Updates all moving sprites on the stage.\nAlso checks key inputs.",
    "lineNumber": 145,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "delta",
        "description": "Time value from Pixi"
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 209,
    "kind": "function",
    "name": "toggleMenu",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~toggleMenu",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": "Shows or hides the in-game menu box",
    "lineNumber": 235,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 210,
    "kind": "function",
    "name": "clearStage",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~clearStage",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": "Remove all elements pre-rendered on stage.",
    "lineNumber": 247,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 211,
    "kind": "function",
    "name": "destroyPIXI",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~destroyPIXI",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{destroyPIXI}",
    "description": "Destroy everything in PIXI. DANGEROUS avoid!",
    "lineNumber": 256,
    "params": [],
    "return": null
  },
  {
    "__docId__": 212,
    "kind": "function",
    "name": "showGameUI",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~showGameUI",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{showGameUI}",
    "description": "Call this function to hide loading div and show UI",
    "lineNumber": 270,
    "params": [],
    "return": null
  },
  {
    "__docId__": 213,
    "kind": "function",
    "name": "createPlayer",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~createPlayer",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{createPlayer}",
    "description": "Creates a Player instance once the stage is fully set up and ready.",
    "lineNumber": 283,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Player} The Player object that was created"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Starting values to assign to the player. Generated from server"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Player"
      ],
      "spread": false,
      "description": "The Player object that was created"
    }
  },
  {
    "__docId__": 214,
    "kind": "function",
    "name": "isFocused",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~isFocused",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{isFocused}",
    "description": "If the document is Focused return true otherwise false",
    "lineNumber": 299,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 215,
    "kind": "function",
    "name": "startGame",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~startGame",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{startGame}",
    "description": "Starts the game after lobby closes.",
    "lineNumber": 308,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "emit",
        "description": "True if this client should emit the event to the server."
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "teams",
        "description": "Array of teams on the scoreboard."
      }
    ],
    "return": null
  },
  {
    "__docId__": 216,
    "kind": "function",
    "name": "setIngame",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~setIngame",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{setIngame}",
    "description": "Sets the value of inGame",
    "lineNumber": 336,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "newValue",
        "description": "Value to set inGame to"
      }
    ],
    "return": null
  },
  {
    "__docId__": 217,
    "kind": "function",
    "name": "getIngame",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~getIngame",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{getIngame}",
    "description": "",
    "lineNumber": 343,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{boolean} Returns inGame variable"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": "Returns inGame variable"
    },
    "params": []
  },
  {
    "__docId__": 218,
    "kind": "function",
    "name": "mouseUpHandler",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~mouseUpHandler",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{mouseUpHandler}",
    "description": "Called on mouse up from app.js",
    "lineNumber": 351,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "Click event"
      }
    ],
    "return": null
  },
  {
    "__docId__": 219,
    "kind": "function",
    "name": "mouseDownHandler",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~mouseDownHandler",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{mouseDownHandler}",
    "description": "Called on mouse down from app.js",
    "lineNumber": 361,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "Click event"
      }
    ],
    "return": null
  },
  {
    "__docId__": 220,
    "kind": "function",
    "name": "shootHandler",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~shootHandler",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": null,
    "description": "Handles shooting mechanics on mouse/spacebar click/hold.",
    "lineNumber": 371,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "e",
        "description": "Click event"
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "stream",
        "description": "True if sending a stream (such as water); false otherwise."
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 221,
    "kind": "function",
    "name": "movePlayer",
    "memberof": "src/client/js/pixigame.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/pixigame.js~movePlayer",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/pixigame.js",
    "importStyle": "{movePlayer}",
    "description": "Moves the player by changing its velocity.",
    "lineNumber": 384,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "direction",
        "description": "up, down, left, or right"
      }
    ],
    "return": null
  },
  {
    "__docId__": 222,
    "kind": "file",
    "name": "src/client/js/socket.js",
    "content": "import { GLOBAL, generateID } from './global'\r\nimport { cookieInputs, quitGame, updateLobby, updateScores, hideElement, displayWinner, updateAtomList } from './app'\r\nimport ChatClient from './lib/chat-client'\r\nimport { loadTextures, app, createPlayer, isSetup, startGame, setIngame, spritesheet } from './pixigame'\r\nimport { createRenderAtom, createRenderCompound } from './obj/create'\r\nimport { DamageIndicator } from './obj/damageindicator'\r\n\r\n/**\r\n * Socket.js contains all of the clientside networking interface.\r\n * It contains all variables which are synced between client and server.\r\n */\r\n\r\n// Socket.io instance\r\nexport var socket\r\n\r\n/* Object containing all synced objects. Contains nested objects, which correspond to different types\r\n * (for example, objects[atoms], objects[players], objects[compounds])\r\n */\r\nexport var objects = {\r\n\tplayers: {},\r\n\tatoms: {},\r\n\tcompounds: {},\r\n\ttiles: {}\r\n}\r\n\r\n/**\r\n * Team colors object. Number corresponds to index at GLOBAL.TEAM_COLORS.\r\n * Format: {\r\n * \tteamname1: 0,\r\n * \tteamname: colorid,\r\n * \t...\r\n * }\r\n */\r\nexport var teamColors = {}\r\n\r\n/**\r\n * Attempts to connect to the server. Run on 'start game' press.\r\n *  - Manages connecting to main server vs. devserver\r\n *  - Sets up socket listeners\r\n *  - Loads textures\r\n *  - Loads pixi\r\n */\r\nexport function beginConnection () {\r\n\t// Joins debug server if conditions are met\r\n\tlet room = (cookieInputs[7].value === 'private' ? cookieInputs[1].value : GLOBAL.NO_ROOM_IDENTIFIER)\r\n\tlet teamInput = (document.querySelector('input[name=\"queue-type\"]:checked').id === 'team-option') ? cookieInputs[2].value : GLOBAL.NO_TEAM_IDENTIFIER\r\n\r\n\tif (cookieInputs[1].value === 'test') {\r\n\t\tconsole.info('Connecting to: ' + GLOBAL.TEST_IP)\r\n\t\t// DEVELOPMENT server - auto deploy from pixi branch\r\n\t\tsocket = io.connect(GLOBAL.TEST_IP, {\r\n\t\t\tquery: `room=${room}&name=${cookieInputs[0].value}&team=${teamInput}&roomType=${cookieInputs[7].value}`,\r\n\t\t\treconnectionAttempts: 3\r\n\t\t})\r\n\t}\r\n\telse if (cookieInputs[1].value === 'jurassicexp') {\r\n\t\tconsole.log('Dev Backdoor Initiated! Connecting to devserver')\r\n\t\t// Local server\r\n\t\tsocket = io.connect(GLOBAL.LOCAL_HOST, {\r\n\t\t\tquery: `room=${room}&name=${cookieInputs[0].value}&team=${teamInput}&roomType=${cookieInputs[7].value}`,\r\n\t\t\treconnectionAttempts: 3\r\n\t\t})\r\n\t}\r\n\telse {\r\n\t\t// Production server\r\n\t\tconsole.log('connecting to main server')\r\n\t\tsocket = io.connect(GLOBAL.SERVER_IP, {\r\n\t\t\tquery: `room=${room}&name=${cookieInputs[0].value}&team=${teamInput}&roomType=${cookieInputs[7].value}`,\r\n\t\t\treconnectionAttempts: 3\r\n\t\t})\r\n\t}\r\n\r\n\tsocket.on('connect', () => {\r\n\t\tsetupSocket()\r\n\t\t// Init pixi\r\n\t\tloadTextures()\r\n\t\tif (typeof app !== 'undefined') {\r\n\t\t\tapp.start()\r\n\t\t}\r\n\t})\r\n}\r\n\r\n/**\r\n * Run on disconnect to reset all server-based variables and connections\r\n */\r\nexport function disconnect () {\r\n\tapp.stop()\r\n\tsocket.disconnect()\r\n\r\n\t// Wipe objects list\r\n\tfor (let objType in objects) {\r\n\t\tobjects[objType] = {}\r\n\t}\r\n}\r\n\r\n/**\r\n * First time setup when connection starts. Run on connect event to ensure that the socket is connected first.\r\n */\r\nfunction setupSocket () {\r\n\t// Debug\r\n\tconsole.log('Socket:', socket)\r\n\r\n\t// Instantiate Chat System\r\n\tlet chat = new ChatClient({ player: cookieInputs[0].value, room: cookieInputs[1].value, team: cookieInputs[2].value })\r\n\tchat.addLoginMessage(cookieInputs[0].value, true)\r\n\tchat.registerFunctions()\r\n\r\n\t// Setup listeners\r\n\tsetupSocketConnection()\r\n\tsetupSocketInfo(chat)\r\n\tsetupSocketObjectRetrieval()\r\n\r\n\t// Emit join message,\r\n\tsocket.emit('playerJoin', { sender: chat.player, team: chat.team })\r\n}\r\n\r\n/**\r\n * Sets up socket object syncing.\r\n * Run in setupSocket().\r\n */\r\nfunction setupSocketObjectRetrieval () {\r\n\t// Syncs all objects from server once a frame\r\n\tsocket.on('objectSync', (data) => {\r\n\t\tfor (let objType in data) {\r\n\t\t\tif (objType !== 'tiles') {\r\n\t\t\t\tfor (let obj in data[objType]) {\r\n\t\t\t\t\tif (data[objType][obj] !== null) {\r\n\t\t\t\t\t\tlet objRef = data[objType][obj]\r\n\t\t\t\t\t\tlet clientObj = objects[objType][obj]\r\n\t\t\t\t\t\t// Already exists in database\r\n\t\t\t\t\t\tif (clientObj !== undefined && clientObj !== null) {\r\n\t\t\t\t\t\t\tif (objRef.id !== socket.id) {\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].setData(objRef.posX, objRef.posY, objRef.vx, objRef.vy)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (objType === 'players') {\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].health = objRef.health\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].damagedBy = objRef.damagedBy\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].atomList = objRef.atomList\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].speedMult = objRef.speedMult\r\n\r\n\t\t\t\t\t\t\t\tif (objRef.spectating && !objects[objType][obj].spectating) {\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj].spectating = true\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj].beginSpectate()\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (objects[objType][obj].shield !== objRef.shield || objects[objType][obj].stronghold !== objRef.stronghold) {\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj].changeSprite(objRef.shield, objRef.stronghold)\r\n\t\t\t\t\t\t\t\t\tconsole.log('change tex')\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].shield = objRef.shield\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].stronghold = objRef.stronghold\r\n\r\n\t\t\t\t\t\t\t\tif (objRef.id === socket.id) {\r\n\t\t\t\t\t\t\t\t\tfor (let atom in objRef.atomList) {\r\n\t\t\t\t\t\t\t\t\t\tupdateAtomList(atom)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (objType === 'compounds' && objRef.ignited) {\r\n\t\t\t\t\t\t\t\tobjects[objType][obj].ignited = objRef.ignited\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Does not exist - need to clone to clientside\r\n\t\t\t\t\t\telse if (isSetup) {\r\n\t\t\t\t\t\t\tswitch (objType) {\r\n\t\t\t\t\t\t\t\tcase 'players':\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj] = createPlayer(objRef)\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\tcase 'atoms':\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj] = createRenderAtom(objRef)\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\tcase 'compounds':\r\n\t\t\t\t\t\t\t\t\tobjects[objType][obj] = createRenderCompound(objRef)\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// else { //Tile drawing\r\n\t\t\t//     for (let tile of data.tiles) {\r\n\r\n\t\t\t//         let tileName = 'tile_' + tile.col + '_' + tile.row;\r\n\t\t\t//         if (objects.tiles[tileName] === undefined) {\r\n\t\t\t//             // console.log(tileName);\r\n\t\t\t//             objects.tiles[tileName] = new MapTile(MAP_LAYOUT[tile.row][tile.col], tile.col, tile.row);\r\n\t\t\t//         }\r\n\r\n\t\t\t//     }\r\n\t\t\t// }\r\n\t\t}\r\n\t})\r\n\r\n\t// Sync objects when they are deleted or move out of view. ONLY call after objectSync to avoid issue\r\n\tsocket.on('serverSendObjectRemoval', (data) => {\r\n\t\tif (GLOBAL.VERBOSE_SOCKET) {\r\n\t\t\tconsole.info('serverSendObjectRemoval() called on: ')\r\n\t\t\tconsole.info(data)\r\n\t\t\tconsole.info(objects[data.type][data.id])\r\n\t\t\tconsole.info(objects)\r\n\t\t}\r\n\t\tif (objects[data.type][data.id] === undefined || objects[data.type][data.id] === null) {\r\n\t\t\tif (GLOBAL.VERBOSE_SOCKET) {\r\n\t\t\t\tconsole.warn('serverSendObjectRemoval() called on invalid object. Retry.', data)\r\n\t\t\t}\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (removeObject(data)) {\r\n\t\t\t\t\t\tif (GLOBAL.VERBOSE_SOCKET) {\r\n\t\t\t\t\t\t\tconsole.info('Retry successfully removed object. While this worked, it should not happen. Please fix root cause of issue. ')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err) {\r\n\t\t\t\t\tif (GLOBAL.VERBOSE_SOCKET) {\r\n\t\t\t\t\t\tconsole.error('Retry failed. Object removal failed. Abandoning request. ')\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 1\r\n\t\t\t\t}\r\n\t\t\t\t// removeObject(data);\r\n\t\t\t}, 1000 / 60)\r\n\t\t\t// return 1\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// console.log(objects[data.type][data.id].destroyed);\r\n\t\t// An object was removed\r\n\t\t\tif (!objects[data.type][data.id].destroyed) { // Only remove if not already\r\n\t\t\t\tremoveObject(data)\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.warn('serverSendObjectRemoval() called despite object has already been destroyed.') // Sanity check\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Must keep checking if the object was not created at time of destruction.\r\n\t\t// One example of this needing to be run is when a player instantly collects an atom on spawn.\r\n\t\t// if (objects[data.type][data.id] === undefined) {\r\n\t\t// \tlet thisInterval = setTimeout(() => {\r\n\t\t// \t\tif (objects[data.type][data.id].destroyed) {\r\n\t\t// \t\t\tclearInterval(thisInterval)\r\n\t\t// \t\t}\r\n\t\t// \t\telse {\r\n\t\t// \t\t\tremoveObject(data)\r\n\t\t// \t\t}\r\n\t\t// \t}, 200)\r\n\t\t// }\r\n\t})\r\n}\r\n\r\n/**\r\n * Sets up socket connection listeners.\r\n * Run in setupSocket().\r\n */\r\nfunction setupSocketConnection () {\r\n\t// On Connection Failure\r\n\tsocket.on('reconnect_failed', () => {\r\n\t\talert('You have lost connection to the server!')\r\n\t})\r\n\r\n\tsocket.on('reconnecting', (attempt) => {\r\n\t\tconsole.log('Lost connection. Reconnecting on attempt: ' + attempt)\r\n\t\tquitGame('Lost connection to server')\r\n\t})\r\n\r\n\tsocket.on('reconnect_error', (err) => {\r\n\t\tconsole.log('CRITICAL: Reconnect failed! ' + err)\r\n\t})\r\n\r\n\tsocket.on('pong', (ping) => {\r\n\t\tconsole.log('Your Ping Is: ' + ping)\r\n\t})\r\n\r\n\tsocket.on('disconnectedPlayer', (data) => {\r\n\t\tconsole.log('Player ' + data.id + ' has disconnected')\r\n\t\tchat.addSystemLine('Player ' + objects.players[data.id].name + ' has disconnected')\r\n\t\tif (objects.players[data.id] !== undefined) {\r\n\t\t\tobjects.players[data.id].hide()\r\n\t\t\tdelete objects.players[data.id]\r\n\t\t}\r\n\t})\r\n\r\n\tsocket.on('serverSendDisconnect', () => {\r\n\t\tquitGame('The game has ended.', false)\r\n\t\thideElement('winner-panel')\r\n\t})\r\n\r\n\t// Errors on join\r\n\tsocket.on('connectionError', (data) => {\r\n\t\tsocket.disconnect()\r\n\t\tquitGame(data.msg, true)\r\n\t})\r\n}\r\n\r\n/**\r\n * Sets up socket information transfer listeners.\r\n * Run in setupSocket().\r\n * @param {*} chat The chat client instance to be used for notifications\r\n */\r\nfunction setupSocketInfo (chat) {\r\n\t// Chat system receiver\r\n\tsocket.on('serverMSG', data => {\r\n\t\tchat.addSystemLine(data)\r\n\t})\r\n\r\n\tsocket.on('serverAnnouncement', data => {\r\n\t\tchat.addChatAnnouncement(data.message, data.sendingTeam)\r\n\t})\r\n\r\n\tsocket.on('serverSendPlayerChat', data => {\r\n\t\tchat.addChatLine(data.sender, data.message, false, data.sendingTeam)\r\n\t})\r\n\r\n\tsocket.on('serverSendLoginMessage', data => {\r\n\t\tchat.addLoginMessage(data.sender, false)\r\n\t})\r\n\r\n\t// Receive information about room players\r\n\tsocket.on('roomInfo', (data) => {\r\n\t\t// Update lobby info. Pass to app.js\r\n\t\tupdateLobby(data)\r\n\r\n\t\t// if(GLOBAL.DEBUG) {\r\n\t\t//     console.log(\"rcvd: \",data);\r\n\t\t// }\r\n\t})\r\n\r\n\tsocket.on('serverSendStartGame', (data) => {\r\n\t\tconsole.log('game has started')\r\n\t\tstartGame(false, data.teams)\r\n\t})\r\n\r\n\tsocket.on('levelUp', (data) => {\r\n\t\tconsole.log('You LEVELED UP! Level: ' + data.newLevel)\r\n\t})\r\n\r\n\t// Respawn\r\n\tsocket.on('serverSendPlayerDeath', (data) => {\r\n\t\tconsole.log('You Died!')\r\n\t\tobjects.players[socket.id].setData(data.posX, data.posY, data.vx, data.vy)\r\n\t\tsocket.emit('verifyPlayerDeath', { id: socket.id })\r\n\t\tconsole.log(objects.players[socket.id])\r\n\t\tupdateAtomList()\r\n\t})\r\n\r\n\t// Another player died\r\n\tsocket.on('serverSendNotifyPlayerDeath', (data) => {\r\n\t\t// Append to chat TODO\r\n\t})\r\n\r\n\t// Update timer\r\n\tsocket.on('time', (data) => {\r\n\t\tdocument.getElementById('timer').innerHTML = '<p>' + data.time + '</p>'\r\n\t})\r\n\r\n\t// Update scores\r\n\tsocket.on('serverSendScoreUpdate', (data) => {\r\n\t\tupdateScores(data.teamSlot, data.increment)\r\n\t})\r\n\r\n\t// A player has won\r\n\tsocket.on('serverSendWinner', (data) => {\r\n\t\tsetIngame(false) // Disable keyboard controls and rendering\r\n\t\tdisplayWinner(data)\r\n\t})\r\n\r\n\t// Sync team colors\r\n\tsocket.on('serverSendTeamColors', (data) => {\r\n\t\tteamColors = data\r\n\t\tconsole.log(teamColors)\r\n\t})\r\n\r\n\t// Change texture when a tile has been captured\r\n\tsocket.on('serverSendTileCapture', (data) => {\r\n\t\tobjects.tiles['tile_' + data.tileX + '_' + data.tileY].texture = (spritesheet.textures[data.teamNumber + objects.tiles['tile_' + data.tileX + '_' + data.tileY].tile.texture])\r\n\t\t// console.log(objects.tiles['tile_' + data.tileY + '_' + data.tileX].texture)\r\n\t})\r\n\r\n\t// Tile health changed\r\n\tsocket.on('serverSendTileHealth', (data) => {\r\n\t\tobjects.tiles['tile_' + data.tileX + '_' + data.tileY].updateHealth(data.newHealth)\r\n\t})\r\n\r\n\t// Damage Indicators\r\n\tobjects.di = {}\r\n\tsocket.on('serverSendDamageIndicator', (data) => {\r\n\t\tlet randID = generateID()\r\n\t\tobjects.di[randID] = (new DamageIndicator(data.damage, data.posX, data.posY))\r\n\t\tsetTimeout(() => {\r\n\t\t\tapp.stage.removeChild(objects.di[randID])\r\n\t\t\tdelete objects.di[randID]\r\n\t\t}, 1000)\r\n\t})\r\n}\r\n\r\n/*\r\n ********************\r\n * Helper Functions *\r\n ********************\r\n*/\r\n\r\n// Helper function for serverSendObjectRemoval\r\nfunction removeObject (data) {\r\n\tif (objects[data.type][data.id] !== undefined && objects[data.type][data.id] !== null) {\r\n\t\tobjects[data.type][data.id].hide()\r\n\t\tobjects[data.type][data.id].destroy()\r\n\t\t// delete objects[data.type][data.id];\r\n\t\treturn true\r\n\t}\r\n\telse {\r\n\t\treturn false\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/client/js/socket.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 223,
    "kind": "variable",
    "name": "objects",
    "memberof": "src/client/js/socket.js",
    "static": true,
    "longname": "src/client/js/socket.js~objects",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": "{objects}",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "{\"players\": *, \"atoms\": *, \"compounds\": *, \"tiles\": *}"
      ]
    }
  },
  {
    "__docId__": 224,
    "kind": "variable",
    "name": "teamColors",
    "memberof": "src/client/js/socket.js",
    "static": true,
    "longname": "src/client/js/socket.js~teamColors",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": "{teamColors}",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    }
  },
  {
    "__docId__": 225,
    "kind": "function",
    "name": "beginConnection",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~beginConnection",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": "{beginConnection}",
    "description": "Attempts to connect to the server. Run on 'start game' press.\n - Manages connecting to main server vs. devserver\n - Sets up socket listeners\n - Loads textures\n - Loads pixi",
    "lineNumber": 43,
    "params": [],
    "return": null
  },
  {
    "__docId__": 226,
    "kind": "function",
    "name": "disconnect",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~disconnect",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": "{disconnect}",
    "description": "Run on disconnect to reset all server-based variables and connections",
    "lineNumber": 86,
    "params": [],
    "return": null
  },
  {
    "__docId__": 227,
    "kind": "function",
    "name": "setupSocket",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~setupSocket",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": null,
    "description": "First time setup when connection starts. Run on connect event to ensure that the socket is connected first.",
    "lineNumber": 99,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 228,
    "kind": "function",
    "name": "setupSocketObjectRetrieval",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~setupSocketObjectRetrieval",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": null,
    "description": "Sets up socket object syncing.\nRun in setupSocket().",
    "lineNumber": 121,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 229,
    "kind": "function",
    "name": "setupSocketConnection",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~setupSocketConnection",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": null,
    "description": "Sets up socket connection listeners.\nRun in setupSocket().",
    "lineNumber": 257,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 230,
    "kind": "function",
    "name": "setupSocketInfo",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~setupSocketInfo",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": null,
    "description": "Sets up socket information transfer listeners.\nRun in setupSocket().",
    "lineNumber": 302,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "chat",
        "description": "The chat client instance to be used for notifications"
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 231,
    "kind": "function",
    "name": "removeObject",
    "memberof": "src/client/js/socket.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/client/js/socket.js~removeObject",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/client/js/socket.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 405,
    "undocument": true,
    "params": [
      {
        "name": "data",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 232,
    "kind": "file",
    "name": "src/server/entry.js",
    "content": "/**\r\n * ENTRY POINT for server.js.\r\n * Uses babel to compile es6 into\r\n */\r\nrequire('babel-register')({\r\n\tpresets: ['env']\r\n})\r\n\r\nmodule.exports = require('./server.js')\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/entry.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 233,
    "kind": "file",
    "name": "src/server/server.js",
    "content": "const express = require('express')\r\nconst app = express()\r\nconst http = require('http').Server(app)\r\nconst io = require('socket.io')(http)\r\nimport colors from 'colors' // Console colors :D\r\nimport { GLOBAL } from '../client/js/global'\r\nimport { roomMatchmaker } from './utils/matchmaker'\r\nimport { initGlobal, initPlayer } from './utils/serverinit'\r\nimport { frameSync } from './utils/framesync'\r\nimport { damage } from './utils/ondamage'\r\nimport { createCompound } from './utils/compound'\r\nimport { spawnAtomAtVent } from './utils/atoms'\r\nimport { getTeamColors } from './utils/serverutils'\r\nvar config = require('./config.json')\r\n\r\nconst DEBUG = true\r\n\r\napp.use(express.static(`${__dirname}/../client`))\r\n\r\n/* Contains all game data, including which rooms and players are active.\r\n *\r\n * Structure of Rooms object:\r\n *\r\n// rooms = {\r\n//     roomName: {\r\n//         joinable: true,\r\n//         type: '4v4',\r\n//         teams: [\r\n//             name: 'teamname',\r\n//             players: ['id1', 'id2'...],\r\n//\t\t\t   dead: false\r\n//         ],\r\n//         players: { id, name, room, team, health, posX, posY, vx, vy, dead, experience, damagedBy, stronghold, defense, spectating },\r\n//         atoms: { typeID, id, posX, posY, vx, vy, team },\r\n//         compounds: {\tid, posX, posY, vx, vy, blueprint, sendingTeam, sender },\r\n//\t\t   tiles: { id, type, globalX, globalY, captured, owner, health }\r\n//         time: {\r\n//\t\t\t   frames: 0,\r\n//             minutes: 0,\r\n//             seconds: 0,\r\n//             formattedTime: '0:00'\r\n//         }\r\n//     }\r\n// }\r\n*/\r\nlet rooms = {}\r\n\r\n/**\r\n * Teams object containing all the currently playing teams.\r\n * Structure:\r\n * teamName: {\r\n *    room: 'roomName',\r\n *    players: ['playerSocketId', 'player2SocketId', ...],\r\n *    joinable: false/true\r\n * }\r\n *\r\n * -> Create a Team when the first player joins any lobby. Populate room when this occurs.\r\n * -> Change joinable to false when a Team is either full or the game has begun.\r\n * -> Delete the room from the database when the last player leaves.\r\n * -> There cannot be two teams with the same name. Throw an error if this occurs.\r\n */\r\nlet teams = {}\r\n\r\n// Initialize Server. Includes atom spawning and timer mechanics\r\ninitGlobal()\r\n\r\n// Initialize all socket listeners when a request is established\r\nio.on('connection', socket => {\r\n\t// Local variable declaration\r\n\tlet room = socket.handshake.query.room\r\n\tlet team = socket.handshake.query.team\r\n\r\n\t// Run matchmaker\r\n\tlet matchData = roomMatchmaker(socket, room, team)\r\n\troom = matchData.room\r\n\tteam = matchData.team\r\n\r\n\t// Init player\r\n\tinitPlayer(socket, room, team)\r\n\tlet thisPlayer = rooms[room].players[socket.id]\r\n\tthisPlayer.team = team\r\n\tthisPlayer.atomList = {}\r\n\tthisPlayer.speedMult = 1\r\n\tfor (let atom of GLOBAL.ATOM_IDS) {\r\n\t\tthisPlayer.atomList[atom] = 0\r\n\t}\r\n\r\n\t// Announce colors\r\n\tsocket.emit('serverSendTeamColors', getTeamColors(room))\r\n\tsocket.to(room).emit('serverSendTeamColors', getTeamColors(room))\r\n\r\n\t// Receives a chat from a player, then broadcasts it to other players\r\n\tsocket.to(room).on('playerChat', data => {\r\n\t\t// console.log('sender: ' + data.sender);\r\n\t\tconst _sender = data.sender.replace(/(<([^>]+)>)/ig, '')\r\n\t\tconst _message = data.message.replace(/(<([^>]+)>)/ig, '')\r\n\r\n\t\tconsole.log('[CHAT] '.bold.blue + `${(new Date()).getHours()}:${(new Date()).getMinutes()} ${_sender}: ${_message}`.magenta)\r\n\r\n\t\tsocket.to(room).broadcast.emit('serverSendPlayerChat', { sender: _sender, message: _message.substring(0, 35), sendingTeam: data.sendingTeam })\r\n\t})\r\n\r\n\t// Other player joins the socket.to(room)\r\n\tsocket.to(room).on('playerJoin', data => {\r\n\t\t// console.log('sender: ' + data.sender);\r\n\t\tconst _sender = data.sender.replace(/(<([^>]+)>)/ig, '')\r\n\t\tsocket.to(room).broadcast.emit('serverSendLoginMessage', { sender: _sender, team: data.team })\r\n\t\tif (DEBUG) {\r\n\t\t\tsocket.to(room).broadcast.emit('serverMSG', 'You are connected to a DEBUG enabled server. ')\r\n\t\t}\r\n\t})\r\n\r\n\t// Broadcasts player join message\r\n\r\n\tsocket.to(room).broadcast.emit('serverSendLoginMessage', {\r\n\t\tsender: socket.id\r\n\t})\r\n\tif (DEBUG) {\r\n\t\tsocket.to(room).broadcast.emit('serverMSG', 'You are connected to a DEBUG enabled server. ')\r\n\t}\r\n\r\n\t// Hides the lobby screen if the game has already started\r\n\tif (rooms[room].started) {\r\n\t\tsocket.emit('serverSendStartGame', { teams: rooms[room].teams })\r\n\t}\r\n\r\n\t/**\r\n   * On player movement:\r\n   * data is in format\r\n   *  - id: index of player that moved\r\n   *  - type: atoms, players, or compounds\r\n   *  - posX: new x position\r\n   *  - posY: new y position\r\n   *  - vx: x-velocity\r\n   *  - vy: y-velocity\r\n   */\r\n\tsocket.to(room).on('move', data => {\r\n\t\t// Player exists in database already because it was created serverside - no need for extra checking\r\n\t\tif (rooms[room][data.type][data.id] !== undefined && !rooms[room][data.type][data.id].dead) {\r\n\t\t\trooms[room][data.type][data.id].posX = data.posX\r\n\t\t\trooms[room][data.type][data.id].posY = data.posY\r\n\t\t\trooms[room][data.type][data.id].vx = data.vx\r\n\t\t\trooms[room][data.type][data.id].vy = data.vy\r\n\t\t}\r\n\t})\r\n\r\n\tsocket.to(room).on('damage', data => {\r\n\t\tdamage(data, room, socket)\r\n\t})\r\n\r\n\tsocket.on('verifyPlayerDeath', data => {\r\n\t\trooms[room].players[data.id].dead = false\r\n\t})\r\n\r\n\t// A player spawned a Compound\r\n\tsocket.to(room).on('requestCreateCompound', data => {\r\n\t\tlet newCompound = createCompound(data, room, thisPlayer, socket)\r\n\t\tif (newCompound) {\r\n\t\t\trooms[room].compounds[newCompound.id] = newCompound\r\n\t\t}\r\n\t})\r\n\r\n\tsocket.on('startGame', data => {\r\n\t\tconsole.log('Game has started in room ' + room)\r\n\t\t// Make the room and teams unjoinable\r\n\t\tfor (let tm of rooms[room].teams) {\r\n\t\t\tteams[tm.name].joinable = false\r\n\t\t}\r\n\t\trooms[room].joinable = false\r\n\r\n\t\t// Assign nucleus teams\r\n\t\tfor (let tile in rooms[room].tiles) {\r\n\t\t\tif (rooms[room].tiles[tile].type === 'nucleus') {\r\n\t\t\t\t// console.log(rooms[room].teams)\r\n\t\t\t\ttry {\r\n\t\t\t\t\trooms[room].tiles[tile].owner = rooms[room].teams[parseInt(rooms[room].tiles[tile].id.substring(1))].name\r\n\t\t\t\t}\r\n\t\t\t\tcatch (e) {\r\n\t\t\t\t\t// console.warn('No team exists for nucleus ' + rooms[room].tiles[tile].id.substring(1))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsocket.broadcast.to(room).emit('serverSendStartGame', { start: data.start, teams: rooms[room].teams })\r\n\t\tsocket.emit('serverSendStartGame', { start: data.start, teams: rooms[room].teams })\r\n\t\trooms[room].started = true\r\n\t})\r\n\r\n\t// Testing purposes- give yourself 5000 of each atom\r\n\tsocket.on('testCommand', (data) => {\r\n\t\tif (GLOBAL.DEBUG) {\r\n\t\t\t// console.log(rooms[room].players[data.player].atomList)\r\n\t\t\tfor (let i in rooms[room].players[data.player].atomList) {\r\n\t\t\t\trooms[room].players[data.player].atomList[i] += 5000\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tsocket.on('disconnect', data => {\r\n\t\tconsole.log('[Server]'.bold.blue + ' Disconnect Received: '.red + ('' + socket.id).yellow + ('' + rooms[room].players[socket.id]).green + ': ' + data)\r\n\r\n\t\tsocket.to(room).broadcast.emit('disconnectedPlayer', { id: socket.id }) // Broadcast to everyone in the room to delete the player\r\n\r\n\t\tdelete rooms[room].players[socket.id] // Remove the server side player\r\n\r\n\t\t// Delete room if there is nobody inside\r\n\t\tif (Object.keys(rooms[room].players).length === 0) {\r\n\t\t\tconsole.log('[Server] '.bold.blue + 'Closing room '.red + (room + '').bold.red)\r\n\t\t\tdelete io.sockets.adapter.rooms[socket.id]\r\n\t\t\tdelete rooms[room]\r\n\r\n\t\t\tif (room !== GLOBAL.NO_ROOM_IDENTIFIER) {\r\n\t\t\t\t// Remove from teams array\r\n\t\t\t\tteams[team].players.splice(teams[team].players.indexOf(socket.id), 1)\r\n\t\t\t\t// rooms[room].teams[team].players.splice(rooms[room].teams[team].players.indexOf(socket.id), 1);\r\n\r\n\t\t\t\t// Delete team if all players have left\r\n\t\t\t\tif (teams[team].players.length === 0) {\r\n\t\t\t\t\tdelete teams[team]\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Final sweep over teams object\r\n\t\t\t\tfor (let team in teams) {\r\n\t\t\t\t\tif (teams[team].room === room) {\r\n\t\t\t\t\t\tdelete teams[team]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n})\r\n\r\n// Notify on console when server has started\r\nconst serverPort = process.env.PORT || config.port\r\nhttp.listen(serverPort, () => {\r\n\trooms = {}\r\n\tconsole.log('[Server] '.bold.blue + `started on port: ${serverPort}`.blue)\r\n})\r\n\r\n/**\r\n * Sets a new value for a protected server field.\r\n * Adopted from https://stackoverflow.com/questions/18936915/dynamically-set-property-of-nested-object\r\n * @param {*} value The value to set\r\n * @param {*} path Array containing all of the subobject identifiers, with the 0th index being the lowest level.\r\n *                 Example: rooms.myRoom.players could be accessed through a path value of ['rooms', 'myRoom', 'players']\r\n */\r\nexport function setField (value, path) {\r\n\tif (path === undefined || path.length === 0) {\r\n\t\tthrow new Error('Error in setField: path cannot be empty')\r\n\t}\r\n\r\n\tlet schema = (path[0] === 'rooms') ? rooms : (path[0] === 'teams') ? teams : undefined\r\n\tif (schema === undefined) {\r\n\t\tthrow new Error('Base object ' + path[0] + ' does not exist!')\r\n\t}\r\n\r\n\tlet len = path.length\r\n\tfor (let i = 1; i < len - 1; i++) {\r\n\t\tlet elem = path[i]\r\n\t\tif (!schema[elem]) schema[elem] = {}\r\n\t\tschema = schema[elem]\r\n\t}\r\n\r\n\tschema[path[len - 1]] = value\r\n}\r\n\r\n/**\r\n * Shorthand to add or concatenate an amount to a field.\r\n * Best used with numbers or strings.\r\n * @param {*} amount Amount to increment the field by.\r\n * @param {*} path Path to the field.\r\n */\r\nexport function incrementField (amount, path) {\r\n\tsetField(getField(path) + amount, path)\r\n}\r\n\r\n/**\r\n * Returns the value given a path to that value.\r\n * Adopted from https://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key\r\n * @param {*} path Array containing all of the subobject identifiers, with the 0th index being the lowest level.\r\n *                 Example: rooms.myRoom.players could be accessed through a path value of ['rooms', 'myRoom', 'players']\r\n * @returns The value for the given field.\r\n */\r\nexport function getField (path) {\r\n\tif (path === undefined || path.length === 0) {\r\n\t\tthrow new Error('Error in setField: path cannot be empty')\r\n\t}\r\n\tif (path.length === undefined) {\r\n\t\tthrow new Error('Error in setField: path must be an array')\r\n\t}\r\n\r\n\tlet obj = (path[0] === 'rooms') ? rooms : (path[0] === 'teams') ? teams : undefined\r\n\tif (obj === undefined) {\r\n\t\tthrow new Error('Error in setField: Base object ' + path[0] + ' does not exist!')\r\n\t}\r\n\r\n\tfor (let i = 1; i < path.length; i++) {\r\n\t\tobj = obj[path[i]]\r\n\t}\r\n\t// console.log(path, obj);\r\n\treturn obj\r\n}\r\n\r\n/**\r\n * Deletes one of the three types of gameObjects synced to the server\r\n * @param {string} type Either players, atoms, compounds\r\n * @param {*} id ID of the object to delete\r\n * @param {string} room Room name to delete in\r\n * @param {*} socket socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n */\r\nexport function deleteObject (type, id, room, socket) {\r\n\tdelete rooms[room][type][id]\r\n\r\n\t// Send clientside message\r\n\tsocket.to(room).broadcast.emit('serverSendObjectRemoval', { id: id, type: type })\r\n\tsocket.emit('serverSendObjectRemoval', { id: id, type: type })\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/server.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 234,
    "kind": "variable",
    "name": "express",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~express",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 235,
    "kind": "variable",
    "name": "app",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~app",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 236,
    "kind": "variable",
    "name": "http",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~http",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 237,
    "kind": "variable",
    "name": "io",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~io",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 238,
    "kind": "variable",
    "name": "config",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~config",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 239,
    "kind": "variable",
    "name": "DEBUG",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~DEBUG",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 240,
    "kind": "variable",
    "name": "rooms",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~rooms",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 241,
    "kind": "variable",
    "name": "teams",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~teams",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": "Teams object containing all the currently playing teams.\nStructure:\nteamName: {\n   room: 'roomName',\n   players: ['playerSocketId', 'player2SocketId', ...],\n   joinable: false/true\n}\n\n-> Create a Team when the first player joins any lobby. Populate room when this occurs.\n-> Change joinable to false when a Team is either full or the game has begun.\n-> Delete the room from the database when the last player leaves.\n-> There cannot be two teams with the same name. Throw an error if this occurs.",
    "lineNumber": 62,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 242,
    "kind": "variable",
    "name": "serverPort",
    "memberof": "src/server/server.js",
    "static": true,
    "longname": "src/server/server.js~serverPort",
    "access": "public",
    "export": false,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 234,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 243,
    "kind": "function",
    "name": "setField",
    "memberof": "src/server/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/server.js~setField",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": "{setField}",
    "description": "Sets a new value for a protected server field.\nAdopted from https://stackoverflow.com/questions/18936915/dynamically-set-property-of-nested-object",
    "lineNumber": 247,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "The value to set"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "Array containing all of the subobject identifiers, with the 0th index being the lowest level.\n                Example: rooms.myRoom.players could be accessed through a path value of ['rooms', 'myRoom', 'players']"
      }
    ],
    "return": null
  },
  {
    "__docId__": 244,
    "kind": "function",
    "name": "incrementField",
    "memberof": "src/server/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/server.js~incrementField",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": "{incrementField}",
    "description": "Shorthand to add or concatenate an amount to a field.\nBest used with numbers or strings.",
    "lineNumber": 273,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "amount",
        "description": "Amount to increment the field by."
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "Path to the field."
      }
    ],
    "return": null
  },
  {
    "__docId__": 245,
    "kind": "function",
    "name": "getField",
    "memberof": "src/server/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/server.js~getField",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": "{getField}",
    "description": "Returns the value given a path to that value.\nAdopted from https://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key",
    "lineNumber": 284,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "The value for the given field."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "Array containing all of the subobject identifiers, with the 0th index being the lowest level.\n                Example: rooms.myRoom.players could be accessed through a path value of ['rooms', 'myRoom', 'players']"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "The value for the given field."
    }
  },
  {
    "__docId__": 246,
    "kind": "function",
    "name": "deleteObject",
    "memberof": "src/server/server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/server.js~deleteObject",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/server.js",
    "importStyle": "{deleteObject}",
    "description": "Deletes one of the three types of gameObjects synced to the server",
    "lineNumber": 311,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Either players, atoms, compounds"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "id",
        "description": "ID of the object to delete"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "Room name to delete in"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      }
    ],
    "return": null
  },
  {
    "__docId__": 247,
    "kind": "file",
    "name": "src/server/utils/atoms.js",
    "content": "/**\r\n * Manages the atom list and atom usage for players.\r\n */\r\nimport { incrementField, getField, setField } from '../server'\r\nimport { GLOBAL, generateID } from '../../client/js/global'\r\nimport { TILES, TILE_NAMES, MAP_LAYOUT } from '../../client/js/obj/tiles'\r\n\r\nexport function incrementAtom (player, room, atomType, quantity) {\r\n\t// console.log(atomType);\r\n\tincrementField(quantity, ['rooms', room, 'players', player, 'atomList', atomType])\r\n}\r\n\r\nexport function canCraft (player, room, blueprint) {\r\n\t// console.log(player);\r\n\tif (blueprint === undefined) {\r\n\t\treturn false\r\n\t}\r\n\tfor (let atom in blueprint.atoms) {\r\n\t\tlet numAtoms = getField(['rooms', room, 'players', player.id, 'atomList', atom])\r\n\t\tif (numAtoms === undefined || numAtoms < blueprint.atoms[atom]) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\treturn true\r\n}\r\n\r\n/**\r\n * Spawns an atom at the vent at the given row and column.\r\n * @param {number} row The row of the vent\r\n * @param {number} col The column of the vent to spawn at\r\n * @param {string} room The room to spawn in\r\n * @param {string} team The team that can pick up this atom. Set to 'all' for neutral spawns.\r\n * @param {boolean} verbose True if this method should output to the console\r\n */\r\nexport function spawnAtomAtVent (row, col, room, team, verbose) {\r\n\t// Atom to spawn. Gets a random element from the tile paramter array `atomsToSpawn`\r\n\tlet atomToSpawn = TILES[TILE_NAMES[MAP_LAYOUT[row][col]]].params.atomsToSpawn[Math.floor(Math.random() * TILES[TILE_NAMES[MAP_LAYOUT[row][col]]].params.atomsToSpawn.length)]\r\n\r\n\tlet x = col * GLOBAL.GRID_SPACING * 2 + GLOBAL.GRID_SPACING\r\n\tlet y = row * GLOBAL.GRID_SPACING * 2 - GLOBAL.GRID_SPACING\r\n\r\n\tspawnAtom(x, y, atomToSpawn, room, team, verbose)\r\n}\r\n\r\n/**\r\n *\r\n * @param {number} x X-position of center\r\n * @param {number} y Y-position of center\r\n * @param {string} type Type of atom to spawn\r\n * @param {string} room The room to spawn in\r\n * @param {string} team The team that can pick up this atom. Set to 'all' for neutral spawns.\r\n * @param {boolean} verbose True if this method should output to the console\r\n */\r\nexport function spawnAtom (x, y, type, room, team, verbose) {\r\n\tlet theta = Math.random() * Math.PI * 2 // Set random direction for atom to go in once spawned\r\n\r\n\tlet atom = {\r\n\t\ttypeID: type,\r\n\t\tid: generateID(),\r\n\t\tposX: x,\r\n\t\tposY: y,\r\n\t\tvx: Math.cos(theta) * GLOBAL.ATOM_SPAWN_SPEED,\r\n\t\tvy: Math.sin(theta) * GLOBAL.ATOM_SPAWN_SPEED,\r\n\t\tteam: team\r\n\t}\r\n\tif (getField(['rooms', room]) !== undefined) {\r\n\t\tsetField(atom, ['rooms', room, 'atoms', atom.id])\r\n\t}\r\n\r\n\t// Log to console\r\n\tif (verbose) {\r\n\t\tconsole.log('SPAWN ATOM ' + type + ' theta:' + theta + ', vx: ' + atom.vx + ', vy: ' + atom.vy)\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/atoms.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 248,
    "kind": "function",
    "name": "incrementAtom",
    "memberof": "src/server/utils/atoms.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/atoms.js~incrementAtom",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/atoms.js",
    "importStyle": "{incrementAtom}",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "player",
        "types": [
          "*"
        ]
      },
      {
        "name": "room",
        "types": [
          "*"
        ]
      },
      {
        "name": "atomType",
        "types": [
          "*"
        ]
      },
      {
        "name": "quantity",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 249,
    "kind": "function",
    "name": "canCraft",
    "memberof": "src/server/utils/atoms.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/atoms.js~canCraft",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/atoms.js",
    "importStyle": "{canCraft}",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "params": [
      {
        "name": "player",
        "types": [
          "*"
        ]
      },
      {
        "name": "room",
        "types": [
          "*"
        ]
      },
      {
        "name": "blueprint",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 250,
    "kind": "function",
    "name": "spawnAtomAtVent",
    "memberof": "src/server/utils/atoms.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/atoms.js~spawnAtomAtVent",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/atoms.js",
    "importStyle": "{spawnAtomAtVent}",
    "description": "Spawns an atom at the vent at the given row and column.",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "row",
        "description": "The row of the vent"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "col",
        "description": "The column of the vent to spawn at"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The room to spawn in"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "team",
        "description": "The team that can pick up this atom. Set to 'all' for neutral spawns."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "verbose",
        "description": "True if this method should output to the console"
      }
    ],
    "return": null
  },
  {
    "__docId__": 251,
    "kind": "function",
    "name": "spawnAtom",
    "memberof": "src/server/utils/atoms.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/atoms.js~spawnAtom",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/atoms.js",
    "importStyle": "{spawnAtom}",
    "description": "",
    "lineNumber": 55,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "x",
        "description": "X-position of center"
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "y",
        "description": "Y-position of center"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "type",
        "description": "Type of atom to spawn"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The room to spawn in"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "team",
        "description": "The team that can pick up this atom. Set to 'all' for neutral spawns."
      },
      {
        "nullable": null,
        "types": [
          "boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "verbose",
        "description": "True if this method should output to the console"
      }
    ],
    "return": null
  },
  {
    "__docId__": 252,
    "kind": "file",
    "name": "src/server/utils/collision.js",
    "content": "import { distanceBetween, GLOBAL, getCurrTile, getGlobalLocation } from '../../client/js/global'\r\nimport { deleteObject, getField, setField } from '../server'\r\nimport { damage, damageTile } from './ondamage'\r\nimport { incrementAtom } from './atoms'\r\nimport { TILE_NAMES, TILES } from '../../client/js/obj/tiles'\r\nimport { getTileID, smartEmit } from './serverutils'\r\n\r\n/**\r\n * Runs once a frame, checks for collisions between objects and handles them accordingly.\r\n * Run using\r\n * @param {*} socket socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n * @param {string} room The name of the room\r\n * @param {*} thisPlayer The player object\r\n * @param {*} tempObjects The list of objects to tick. Should only be the objects rendered on the screen of thisPlayer. Contains compounds, atoms, players\r\n */\r\nexport function collisionDetect (socket, room, thisPlayer, tempObjects) {\r\n\t// Make sure the player is currently ingame\r\n\tif (!thisPlayer.dead && !thisPlayer.spectating) {\r\n\t\t// Check for collected atoms\r\n\t\tfor (let atom in tempObjects.atoms) {\r\n\t\t\tif (tempObjects.atoms[atom].team === thisPlayer.team || tempObjects.atoms[atom].team === 'all') {\r\n\t\t\t\tlet distance = distanceBetween(\r\n\t\t\t\t\t{ posX: tempObjects.atoms[atom].posX + GLOBAL.ATOM_RADIUS, posY: tempObjects.atoms[atom].posY - GLOBAL.ATOM_RADIUS },\r\n\t\t\t\t\t{ posX: thisPlayer.posX + GLOBAL.PLAYER_RADIUS, posY: thisPlayer.posY - GLOBAL.PLAYER_RADIUS })\r\n\r\n\t\t\t\tif (distance < GLOBAL.ATOM_COLLECT_THRESHOLD) {\r\n\t\t\t\t\t// console.log(atom);\r\n\t\t\t\t\tincrementAtom(thisPlayer.id, room, tempObjects.atoms[atom].typeID, 1)\r\n\r\n\t\t\t\t\tdeleteObject('atoms', atom, room, socket)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check for compound collisions\r\n\t\tfor (let compound in tempObjects.compounds) {\r\n\t\t\tlet cmp = tempObjects.compounds[compound]\r\n\r\n\t\t\tif (cmp.sendingTeam !== thisPlayer.team) {\r\n\t\t\t\tlet distance = distanceBetween(\r\n\t\t\t\t\t{ posX: cmp.posX + cmp.blueprint.params.size / 2, posY: cmp.posY - cmp.blueprint.params.size / 2 },\r\n\t\t\t\t\t{ posX: thisPlayer.posX + GLOBAL.PLAYER_RADIUS, posY: thisPlayer.posY - GLOBAL.PLAYER_RADIUS })\r\n\r\n\t\t\t\t// Hit player\r\n\t\t\t\tif (cmp.blueprint.type !== 'block' && distance < cmp.blueprint.params.size + GLOBAL.PLAYER_RADIUS) {\r\n\t\t\t\t\tlet dmg = cmp.blueprint.params.damage\r\n\r\n\t\t\t\t\t// Deal splash damage if it is a toxic compound or on fire\r\n\t\t\t\t\tif (cmp.blueprint.type === 'toxic' || cmp.ignited) {\r\n\t\t\t\t\t\tdmg = cmp.blueprint.params.splashDamage\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdamage({\r\n\t\t\t\t\t\tdamage: dmg,\r\n\t\t\t\t\t\tplayer: thisPlayer.id,\r\n\t\t\t\t\t\tsentBy: cmp.sender,\r\n\t\t\t\t\t\tid: compound\r\n\t\t\t\t\t}, room, socket)\r\n\r\n\t\t\t\t\tif (cmp.blueprint.type !== 'toxic' && !cmp.ignited) {\r\n\t\t\t\t\t\tdeleteObject('compounds', compound, room, socket)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Barrier block collisions\r\n\t\t\t\tif (cmp.blueprint.type === 'block') {\r\n\t\t\t\t\tfor (let otherCompound in tempObjects.compounds) {\r\n\t\t\t\t\t\tlet othercmp = tempObjects.compounds[otherCompound]\r\n\r\n\t\t\t\t\t\tif (cmp.sendingTeam !== othercmp.sendingTeam && othercmp.blueprint.type !== 'block') {\r\n\t\t\t\t\t\t\tlet distance = distanceBetween(\r\n\t\t\t\t\t\t\t\t{ posX: cmp.posX + cmp.blueprint.params.size / 2, posY: cmp.posY - cmp.blueprint.params.size / 2 },\r\n\t\t\t\t\t\t\t\t{ posX: othercmp.posX + othercmp.blueprint.params.size / 2, posY: othercmp.posY - othercmp.blueprint.params.size / 2 }\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\tif (distance < cmp.blueprint.params.size + othercmp.blueprint.params.size) {\r\n\t\t\t\t\t\t\t\t// Damage indcator\r\n\t\t\t\t\t\t\t\tsmartEmit(socket, room, 'serverSendDamageIndicator', {\r\n\t\t\t\t\t\t\t\t\tdamage: (cmp.ignited) ? cmp.blueprint.params.splashDamage : cmp.blueprint.params.damage,\r\n\t\t\t\t\t\t\t\t\tposX: cmp.posX,\r\n\t\t\t\t\t\t\t\t\tposY: cmp.posY\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t// Delete both compounds. TODO deal damage to higher level barrier blocks\r\n\t\t\t\t\t\t\t\tdeleteObject('compounds', compound, room, socket)\r\n\t\t\t\t\t\t\t\tdeleteObject('compounds', otherCompound, room, socket)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse { // check for tile collisions\r\n\t\t\t\tlet tileID = getTileID(getGlobalLocation(cmp), room)\r\n\t\t\t\tif (tileID) {\r\n\t\t\t\t\tif (distanceBetween(cmp, {\r\n\t\t\t\t\t\tposX: getGlobalLocation(cmp).globalX * GLOBAL.GRID_SPACING * 2 + GLOBAL.GRID_SPACING,\r\n\t\t\t\t\t\tposY: getGlobalLocation(cmp).globalY * GLOBAL.GRID_SPACING * 2 - GLOBAL.GRID_SPACING\r\n\t\t\t\t\t}) < GLOBAL.STRONGHOLD_RADIUS && cmp.blueprint.type !== 'block' && cmp.sendingTeam !== getField(['rooms', room, 'tiles', tileID, 'owner'])) {\r\n\t\t\t\t\t\t// Damage indcator\r\n\t\t\t\t\t\tsmartEmit(socket, room, 'serverSendDamageIndicator', {\r\n\t\t\t\t\t\t\tdamage: (cmp.ignited) ? cmp.blueprint.params.splashDamage : cmp.blueprint.params.damage,\r\n\t\t\t\t\t\t\tposX: cmp.posX,\r\n\t\t\t\t\t\t\tposY: cmp.posY\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tdeleteObject('compounds', compound, room, socket)\r\n\t\t\t\t\t\tdamageTile(tileID, (cmp.ignited) ? cmp.blueprint.params.splashDamage : cmp.blueprint.params.damage, thisPlayer.id, room, socket)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check for stronghold buff\r\n\t\tlet currTile = getTileID(getGlobalLocation(thisPlayer), room)\r\n\t\tif (currTile && getField(['rooms', room, 'tiles', currTile, 'type']) === 'stronghold' && getField(['rooms', room, 'tiles', currTile, 'owner']) !== 'all') {\r\n\t\t\tthisPlayer.stronghold = (getField(['rooms', room, 'tiles', currTile, 'owner']) === thisPlayer.team) ? 'team' : 'notteam'\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthisPlayer.stronghold = 'none'\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/collision.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 253,
    "kind": "function",
    "name": "collisionDetect",
    "memberof": "src/server/utils/collision.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/collision.js~collisionDetect",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/collision.js",
    "importStyle": "{collisionDetect}",
    "description": "Runs once a frame, checks for collisions between objects and handles them accordingly.\nRun using",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The name of the room"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "thisPlayer",
        "description": "The player object"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "tempObjects",
        "description": "The list of objects to tick. Should only be the objects rendered on the screen of thisPlayer. Contains compounds, atoms, players"
      }
    ],
    "return": null
  },
  {
    "__docId__": 254,
    "kind": "file",
    "name": "src/server/utils/compound.js",
    "content": "/**\r\n * Manages compound creation and behavior.\r\n * Moved from clientside compound.js\r\n */\r\nimport { GLOBAL, getCurrTile, generateID } from '../../client/js/global'\r\nimport { canCraft } from './atoms'\r\nimport { incrementField, setField, deleteObject } from '../server'\r\nimport { damage } from './ondamage'\r\nimport { addExperience } from './experience'\r\n\r\n/**\r\n  * Checks if a compound can be created, deducts craft material, and returns the new compound.\r\n  * Does NOT add the new compound to the objects array.\r\n  * @param data - Data sent from the client.\r\n  *  - blueprint: The blueprint of the compound to create\r\n  *  - sendingTeam: Team of the player who sent this\r\n  *  - mousePos: Mouse position of the player who sent this. Contains x and y components\r\n  *  - sender: Player who sent this\r\n  *  - streamID: number indicating the consecutive compounds requested on this current mouse hold.\r\n  * @param {string} room - The name of the room\r\n  * @param thisPlayer - The current player instance\r\n  * @param socket - socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n  */\r\nexport function createCompound (data, room, thisPlayer, socket) {\r\n\tif (!canCraft(thisPlayer, room, data.blueprint)) {\r\n\t\treturn false\r\n\t}\r\n\r\n\t// Calculate velocities based on cursor position\r\n\tlet theta = Math.atan2(data.mousePos.y, data.mousePos.x)\r\n\tlet newCompound = {\r\n\t\tid: generateID(),\r\n\t\tposX: thisPlayer.posX + GLOBAL.PLAYER_RADIUS,\r\n\t\tposY: thisPlayer.posY - GLOBAL.PLAYER_RADIUS,\r\n\t\tvx: thisPlayer.vx + data.blueprint.params.speed * Math.cos(theta),\r\n\t\tvy: thisPlayer.vy + data.blueprint.params.speed * Math.sin(theta),\r\n\t\tblueprint: data.blueprint,\r\n\t\tsendingTeam: data.sendingTeam,\r\n\t\tsender: data.sender\r\n\t}\r\n\t// console.log(\"This player: \");\r\n\t// console.log(thisPlayer);\r\n\t// Add functionality for specific blueprint types\r\n\tif (data.blueprint.type === 'speed') {\r\n\t\tincrementField(data.blueprint.params.speedFactor * (1 / thisPlayer.speedMult), ['rooms', room, 'players', thisPlayer.id, 'speedMult'])\r\n\t}\r\n\telse if (data.blueprint.type === 'health') {\r\n\t\tdamage({\r\n\t\t\tdamage: -data.blueprint.params.healthModifier,\r\n\t\t\tsender: thisPlayer.id\r\n\t\t}, room, socket)\r\n\t\tif (thisPlayer.health > GLOBAL.MAX_HEALTH) {\r\n\t\t\tsetField(GLOBAL.MAX_HEALTH, ['rooms', room, 'players', thisPlayer.id, 'health'])\r\n\t\t}\r\n\t}\r\n\telse if (data.blueprint.type === 'defense') {\r\n\t\tsetField(data.blueprint.params.defenseModifier, ['rooms', room, 'players', thisPlayer.id, 'shield'])\r\n\t}\r\n\telse if (data.blueprint.type === 'block' || data.blueprint.type === 'acid') {\r\n\t\tnewCompound.vx = newCompound.vy = 0\r\n\t}\r\n\r\n\t// Emits the crafting event to update experience\r\n\t// addExperience('CRAFT', socket, room, thisPlayer.id)\r\n\r\n\t// Remove atoms from inventory\r\n\tif (!data.streamID || data.streamID % data.blueprint.params.compoundsPerCraft === 0 || data.streamID === 1) {\r\n\t\tfor (let atom in data.blueprint.atoms) {\r\n\t\t\tincrementField(-data.blueprint.atoms[atom], ['rooms', room, 'players', thisPlayer.id, 'atomList', atom])\r\n\t\t}\r\n\t}\r\n\r\n\treturn newCompound\r\n}\r\n\r\n/**\r\n * Checks compound behavior based on compound type. Runs once a frame.\r\n * @param {number} compound compound object\r\n * @param {string} room Name of room\r\n * @param socket - socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n */\r\nexport function tickCompound (compound, room, socket) {\r\n\t// TODO\r\n\tswitch (compound.blueprint.type) {\r\n\t\tcase 'flammable':\r\n\t\t\tif (getCurrTile(compound) === 'F' && !compound.ignited) {\r\n\t\t\t\tsetField(true, ['rooms', room, 'compounds', compound.id, 'ignited'])\r\n\t\t\t\t// compound.ignited = true (above statement)\r\n\t\t\t\t// compound.texture = PIXI.loader.resources[GLOBAL.IGNITE_SPRITE].texture; moved to client\r\n\t\t\t}\r\n\t\t\tbreak\r\n\t}\r\n\r\n\tif (compound.blueprint.params.evaporate) {\r\n\t\tif (getCurrTile(compound) === 'F') {\r\n\t\t\tdeleteObject('compounds', compound.id, room, socket)\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/compound.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 255,
    "kind": "function",
    "name": "createCompound",
    "memberof": "src/server/utils/compound.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/compound.js~createCompound",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/compound.js",
    "importStyle": "{createCompound}",
    "description": "Checks if a compound can be created, deducts craft material, and returns the new compound.\nDoes NOT add the new compound to the objects array.",
    "lineNumber": 24,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Data sent from the client.\n - blueprint: The blueprint of the compound to create\n - sendingTeam: Team of the player who sent this\n - mousePos: Mouse position of the player who sent this. Contains x and y components\n - sender: Player who sent this\n - streamID: number indicating the consecutive compounds requested on this current mouse hold."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The name of the room"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "thisPlayer",
        "description": "The current player instance"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 256,
    "kind": "function",
    "name": "tickCompound",
    "memberof": "src/server/utils/compound.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/compound.js~tickCompound",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/compound.js",
    "importStyle": "{tickCompound}",
    "description": "Checks compound behavior based on compound type. Runs once a frame.",
    "lineNumber": 82,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "compound",
        "description": "compound object"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "Name of room"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      }
    ],
    "return": null
  },
  {
    "__docId__": 257,
    "kind": "file",
    "name": "src/server/utils/experience.js",
    "content": "import { incrementField, getField, setField } from '../server'\r\nimport { GLOBAL } from '../../client/js/global'\r\n\r\n/**\r\n * Manages experience levels, levelling up, and level tiers.\r\n * TODO LOTS to do here!!!!!\r\n */\r\n\r\n/**\r\n * Adds experience to a given player.\r\n * @param {string} event The name of the event as specified in GLOBAL.EXPERIENCE_VALUES\r\n * @param {*} socket The socket instance\r\n * @param {string} room The ID of the room\r\n * @param {string} player ID of the player\r\n */\r\nexport function addExperience (event, socket, room, player) {\r\n\t// Add a specific amount to the players experience\r\n\t// Get the index of the Event and then pass it into the values array to get the actual value\r\n\tincrementField(GLOBAL.EXPERIENCE_VALUES[event], ['rooms', room, 'players', player, 'experience'])\r\n\t//  thisPlayer.experience += GLOBAL.EXPERIENCE_VALUES[data.event];\r\n\r\n\t// Determine the player's level based on experience\r\n\tlet oldLevel = getField(['rooms', room, 'players', player, 'level'])\r\n\tfor (let level of GLOBAL.EXPERIENCE_LEVELS) {\r\n\t\tif (getField(['rooms', room, 'players', player, 'level']) >= level) {\r\n\t\t\tsetField(GLOBAL.EXPERIENCE_LEVELS.indexOf(level) + 1, ['rooms', room, 'players', player, 'level'])\r\n\t\t}\r\n\t}\r\n\r\n\t// Check to see if the player leveled up\r\n\tif (getField(['rooms', room, 'players', player, 'level']) > oldLevel) {\r\n\t\tsocket.emit('levelUp', { newLevel: getField(['rooms', room, 'players', player, 'level']) })\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/experience.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 258,
    "kind": "function",
    "name": "addExperience",
    "memberof": "src/server/utils/experience.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/experience.js~addExperience",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/experience.js",
    "importStyle": "{addExperience}",
    "description": "Adds experience to a given player.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "event",
        "description": "The name of the event as specified in GLOBAL.EXPERIENCE_VALUES"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "The socket instance"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The ID of the room"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "player",
        "description": "ID of the player"
      }
    ],
    "return": null
  },
  {
    "__docId__": 259,
    "kind": "file",
    "name": "src/server/utils/framesync.js",
    "content": "import { distanceBetween, isInBounds, GLOBAL } from '../../client/js/global'\r\nimport { deleteObject, getField, setField, incrementField } from '../server'\r\nimport { collisionDetect } from './collision'\r\nimport { tickCompound } from './compound'\r\nimport { Socket } from 'net'\r\nimport { smartEmit } from './serverutils'\r\n\r\n/**\r\n * Runs once a frame, per ROOM. Refactored 4/8/19 from player to room.\r\n * @param {*} socket socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n * @param {string} room The name of the room\r\n */\r\nexport function frameSync(socket, room) {\r\n\tif (socket.connected) {\r\n\t\t// Increment frame count in the room\r\n\t\tincrementField(1, ['rooms', room, 'time', 'frames'])\r\n\r\n\t\tlet thisRoom = getField(['rooms', room])\r\n\r\n\t\tif (thisRoom !== undefined) {\r\n\t\t\t// Move compounds\r\n\t\t\tfor (let compound in thisRoom.compounds) {\r\n\t\t\t\tlet compoundRef = thisRoom.compounds[compound]\r\n\t\t\t\tif (isInBounds(compoundRef)) {\r\n\t\t\t\t\tsetField(compoundRef.posX + compoundRef.vx, ['rooms', room, 'compounds', compound, 'posX'])\r\n\t\t\t\t\tsetField(compoundRef.posY + compoundRef.vy, ['rooms', room, 'compounds', compound, 'posY'])\r\n\t\t\t\t\ttickCompound(getField(['rooms', room, 'compounds', compound]), room, socket)\r\n\t\t\t\t\t// compoundRef.posX += compoundRef.vx;\r\n\t\t\t\t\t// compoundRef.posY += compoundRef.vy;\r\n\t\t\t\t}\r\n\t\t\t\telse { // delete\r\n\t\t\t\t\tdeleteObject('compounds', compound, room, socket)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Move atoms\r\n\t\t\tfor (let atom in thisRoom.atoms) {\r\n\t\t\t\t// Atom slowing down. This will be overridden by the player attraction if a player is close enough\r\n\t\t\t\tif (Math.abs(thisRoom.atoms[atom].vx) > GLOBAL.DEADZONE || Math.abs(thisRoom.atoms[atom].vy) > GLOBAL.DEADZONE) {\r\n\t\t\t\t\tsetField(thisRoom.atoms[atom].vx * GLOBAL.VELOCITY_STEP, ['rooms', room, 'atoms', atom, 'vx'])\r\n\t\t\t\t\tsetField(thisRoom.atoms[atom].vy * GLOBAL.VELOCITY_STEP, ['rooms', room, 'atoms', atom, 'vy'])\r\n\t\t\t\t\t// thisRoom.atoms[atom].vx *= GLOBAL.VELOCITY_STEP;\r\n\t\t\t\t\t// thisRoom.atoms[atom].vy *= GLOBAL.VELOCITY_STEP;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Math.abs(thisRoom.atoms[atom].vx) <= GLOBAL.DEADZONE) {\r\n\t\t\t\t\tsetField(0, ['rooms', room, 'atoms', atom, 'vx'])\r\n\t\t\t\t}\r\n\t\t\t\tif (Math.abs(thisRoom.atoms[atom].vy) <= GLOBAL.DEADZONE) {\r\n\t\t\t\t\tsetField(0, ['rooms', room, 'atoms', atom, 'vy'])\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Move atom\r\n\t\t\t\tsetField(thisRoom.atoms[atom].posX + thisRoom.atoms[atom].vx, ['rooms', room, 'atoms', atom, 'posX'])\r\n\t\t\t\tsetField(thisRoom.atoms[atom].posY + thisRoom.atoms[atom].vy, ['rooms', room, 'atoms', atom, 'posY'])\r\n\t\t\t\t// thisRoom.atoms[atom].posX += thisRoom.atoms[atom].vx;\r\n\t\t\t\t// thisRoom.atoms[atom].posY += thisRoom.atoms[atom].vy;\r\n\t\t\t}\r\n\r\n\t\t\t// Player specific actions\r\n\t\t\tfor (let playerI in thisRoom.players) {\r\n\t\t\t\t// Distance checking for all objects\r\n\t\t\t\tlet tempObjects = {\r\n\t\t\t\t\tplayers: {},\r\n\t\t\t\t\tatoms: {},\r\n\t\t\t\t\tcompounds: {}\r\n\t\t\t\t}\r\n\t\t\t\tlet thisPlayer = thisRoom.players[playerI]\r\n\r\n\t\t\t\t// Populate tempObjects\r\n\t\t\t\tfor (let objType in tempObjects) {\r\n\t\t\t\t\tfor (let obj in thisRoom[objType]) {\r\n\t\t\t\t\t\tif (distanceBetween(thisRoom[objType][obj], thisPlayer) < GLOBAL.DRAW_RADIUS) {\r\n\t\t\t\t\t\t\ttempObjects[objType][obj] = thisRoom[objType][obj]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check for atom attraction\r\n\t\t\t\tfor (let atom in tempObjects.atoms) {\r\n\t\t\t\t\tlet distance = distanceBetween(\r\n\t\t\t\t\t\t{ posX: thisRoom.atoms[atom].posX + GLOBAL.ATOM_RADIUS, posY: thisRoom.atoms[atom].posY - GLOBAL.ATOM_RADIUS },\r\n\t\t\t\t\t\t{ posX: thisPlayer.posX + GLOBAL.PLAYER_RADIUS, posY: thisPlayer.posY - GLOBAL.PLAYER_RADIUS })\r\n\t\t\t\t\t// Attractive force\r\n\t\t\t\t\tif (!thisPlayer.spectating && distance < GLOBAL.ATTRACTION_RADIUS && (thisRoom.atoms[atom].team === 'all' || thisPlayer.team === thisRoom.atoms[atom].team)) {\r\n\t\t\t\t\t\tlet theta = Math.atan2((thisPlayer.posY - thisRoom.atoms[atom].posY), (thisPlayer.posX - thisRoom.atoms[atom].posX))\r\n\r\n\t\t\t\t\t\t// Attraction is based on logarithmic function\r\n\t\t\t\t\t\tsetField(1 / distance * Math.cos(theta) * GLOBAL.ATTRACTION_COEFFICIENT, ['rooms', room, 'atoms', atom, 'vx'])\r\n\t\t\t\t\t\tsetField(1 / distance * Math.sin(theta) * GLOBAL.ATTRACTION_COEFFICIENT, ['rooms', room, 'atoms', atom, 'vy'])\r\n\t\t\t\t\t\t// console.log(this.vx, this.vy, this.posX, this.posY);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Collision detection\r\n\t\t\t\tcollisionDetect(socket, room, thisPlayer, tempObjects)\r\n\r\n\t\t\t\tsmartEmit(socket, room, 'objectSync', tempObjects, thisPlayer.id)\r\n\t\t\t}\r\n\r\n\t\t\tif (thisRoom.started) {\r\n\t\t\t\tsmartEmit(socket, room, 'time', { time: thisRoom.time.formattedTime })\r\n\t\t\t}\r\n\r\n\t\t\tif (thisRoom !== undefined && !thisRoom.started) {\r\n\t\t\t\t// Send over the room player information\r\n\t\t\t\tlet roomInfo = {\r\n\t\t\t\t\tplayers: thisRoom.players,\r\n\t\t\t\t\tcanStart: (thisRoom.type === '2v2' && Object.keys(thisRoom.players).length === 4) ||\r\n\t\t\t\t\t\t((thisRoom.type === '4v4' || thisRoom.type === '2v2v2v2') && Object.keys(thisRoom.players).length === 8) ||\r\n\t\t\t\t\t\t(thisRoom.type === '4v4v4v4' && Object.keys(thisRoom.players).length === 16) ||\r\n\t\t\t\t\t\tthisRoom.type === 'private'\r\n\t\t\t\t}\r\n\t\t\t\tsmartEmit(socket, room, 'roomInfo', roomInfo)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/framesync.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 260,
    "kind": "function",
    "name": "frameSync",
    "memberof": "src/server/utils/framesync.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/framesync.js~frameSync",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/framesync.js",
    "importStyle": "{frameSync}",
    "description": "Runs once a frame, per ROOM. Refactored 4/8/19 from player to room.",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The name of the room"
      }
    ],
    "return": null
  },
  {
    "__docId__": 261,
    "kind": "file",
    "name": "src/server/utils/matchmaker.js",
    "content": "import { generateID, GLOBAL } from '../../client/js/global'\r\nimport { getField, setField } from '../server'\r\nimport { getTeamColors } from './serverutils'\r\nimport { initRoom } from './serverinit'\r\n\r\n/**\r\n * Matchmaking system for public matches. Runs after initial socket.io server connection, but before connecting to a server.\r\n * @param {*} socket socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n * @param {string} room Name of room\r\n * @param {string} team Name of team\r\n * @returns The new room that has been assigned\r\n */\r\nexport function roomMatchmaker (socket, room, team) {\r\n\tlet validJoin = false // This join attempt was valid.\r\n\tlet roomType = socket.handshake.query.roomType\r\n\r\n\t// Make sure the room you are trying to join is valid\r\n\tif (room !== GLOBAL.NO_ROOM_IDENTIFIER && getField(['rooms', room]) !== undefined && !getField(['rooms', room]).joinable && getField(['rooms', room]) !== undefined) { // Room full\r\n\t\tsocket.emit('connectionError', { msg: 'The room ' + room + ' has started or is full!' })\r\n\t}\r\n\r\n\tif (team !== GLOBAL.NO_TEAM_IDENTIFIER && getField(['teams', team]) !== undefined && getField(['teams', team]).room !== undefined) {\r\n\t\t// Make sure everything is compatible\r\n\t\tif (getField(['rooms', getField(['teams', team]).room]) !== undefined && getField(['rooms', getField(['teams', team]).room]).type !== roomType) { // Wrong room type\r\n\t\t\tsocket.emit('connectionError', { msg: 'Your team is playing in a ' + getField('rooms', getField(['teams', team]).room).type + ' room, but you are trying to join a ' + roomType + ' room!' })\r\n\t\t}\r\n\t\telse if (!getField(['teams', team, 'joinable'])) { // Team full\r\n\t\t\tconsole.log(getField(['teams']))\r\n\t\t\tsocket.emit('connectionError', { msg: 'Your team is already in game or full!' })\r\n\t\t}\r\n\t\telse { // is joinable\r\n\t\t\tvalidJoin = true\r\n\t\t\troom = getField(['teams', team, 'room'])\r\n\r\n\t\t\tif (((roomType === '2v2v2v2' || roomType === '2v2') && getField(['teams', team, 'players']).length === 2) || getField(['teams', team, 'players']).length === 4) {\r\n\t\t\t\tsetField(false, ['teams', team, 'joinable'])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Team not found or need to join a random team\r\n\telse {\r\n\t\t// Try joining a room\r\n\t\tfor (let roomName in getField(['rooms'])) {\r\n\t\t\tif (roomName.indexOf(roomType) > -1) {\r\n\t\t\t\t// Auto team\r\n\t\t\t\tif (team === GLOBAL.NO_TEAM_IDENTIFIER) {\r\n\t\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\t\tif (getField(['rooms', roomName, 'teams', room + i]) && getField(['rooms', roomName, 'teams', room + i, 'joinable'])) {\r\n\t\t\t\t\t\t\troom = roomName\r\n\t\t\t\t\t\t\tteam = room + i\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// No random teams are joinable- test if this room is full or not\r\n\t\t\t\t\tif (team === GLOBAL.NO_TEAM_IDENTIFIER) {\r\n\t\t\t\t\t\tif (((roomType === '4v4v4v4' || roomType === '2v2v2v2') && getField(['rooms', roomName, 'teams']).length < 4) || getField(['rooms', roomName, 'teams']).length < 2) {\r\n\t\t\t\t\t\t\troom = roomName\r\n\t\t\t\t\t\t\tteam = room + '_' + (getField(['rooms', roomName, 'teams']).length)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Custom team\r\n\t\t\t\telse if (((roomType === '4v4v4v4' || roomType === '2v2v2v2') && getField(['rooms', roomName, 'teams']).length < 4) || getField(['rooms', roomName, 'teams']).length < 2) {\r\n\t\t\t\t\troom = roomName\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// No matching rooms - must create a new room\r\n\t\tif (room === GLOBAL.NO_ROOM_IDENTIFIER) {\r\n\t\t\troom = 'NA_' + roomType + '_' + generateID()\r\n\t\t\tif (team === GLOBAL.NO_TEAM_IDENTIFIER) {\r\n\t\t\t\tteam = room + '_0'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Custom room auto team\r\n\t\tif (team === GLOBAL.NO_TEAM_IDENTIFIER) {\r\n\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\tif (getField(['rooms', room]) && getField(['rooms', room, 'teams', room + '_' + i]) && getField(['rooms', room, 'teams', room + '_' + i, 'joinable'])) {\r\n\t\t\t\t\tteam = room + i\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// No random teams are joinable make a new team in custom room\r\n\t\tif (team === GLOBAL.NO_TEAM_IDENTIFIER) {\r\n\t\t\ttry {\r\n\t\t\t\tteam = room + '_' + (getField(['rooms', room, 'teams']).length)\r\n\t\t\t}\r\n\t\t\tcatch (e) {\r\n\t\t\t\tteam = room + '_0'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Make team\r\n\t\tsetField({\r\n\t\t\troom: room,\r\n\t\t\tplayers: [],\r\n\t\t\tjoinable: true\r\n\t\t}, ['teams', team])\r\n\r\n\t\tvalidJoin = true\r\n\t}\r\n\r\n\t// Join custom room\r\n\tif (validJoin) {\r\n\t\t// Set up room if it does not exist\r\n\t\tif (getField(['rooms', room]) === undefined || getField(['rooms', room]) === null) {\r\n\t\t\tinitRoom(socket, room)\r\n\t\t}\r\n\r\n\t\t// Add player to team\r\n\t\t// Equivalent to rooms[room].teams.push({ name: team });\r\n\t\tgetField(['teams', team, 'players']).push(socket.id)\r\n\t\t// Instantiate team in the room if it has not been done already\r\n\t\tif (getField(['teams', team, 'players']).length === 1) {\r\n\t\t\t// Equivalent to teams[socket.handshake.query.team].players.push(socket.id);\r\n\t\t\tgetField(['rooms', room, 'teams']).push({ name: team, players: [socket.id] })\r\n\t\t}\r\n\r\n\t\t// console.log(getField(['rooms', room, 'teams']))\r\n\t\tsocket.join(room, () => {\r\n\t\t\tconsole.log('[Server] '.bold.blue + `Player ${socket.handshake.query.name} (${socket.id}) joined room ${room} in team ${team}`.yellow)\r\n\t\t})\r\n\t}\r\n\r\n\treturn { room: room, team: team }\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/matchmaker.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 262,
    "kind": "function",
    "name": "roomMatchmaker",
    "memberof": "src/server/utils/matchmaker.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/matchmaker.js~roomMatchmaker",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/matchmaker.js",
    "importStyle": "{roomMatchmaker}",
    "description": "Matchmaking system for public matches. Runs after initial socket.io server connection, but before connecting to a server.",
    "lineNumber": 13,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "The new room that has been assigned"
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "Name of room"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "team",
        "description": "Name of team"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": "The new room that has been assigned"
    }
  },
  {
    "__docId__": 263,
    "kind": "file",
    "name": "src/server/utils/ondamage.js",
    "content": "import { GLOBAL } from '../../client/js/global'\r\nimport { getField, setField, incrementField } from '../server'\r\nimport { getTeamNumber, smartEmit } from './serverutils'\r\nimport { tmpdir } from 'os'\r\nimport { spawnAtom } from './atoms'\r\n\r\n/**\r\n * ondamage.js\r\n * Contains functions:\r\n *  - damage() Runs when a player gets damaged. Updates scores and checks if a player has been killed.\r\n *  - splash() Runs when a collision needs to cause splash damage. Creates explosion effect and deals extra damage.\r\n */\r\n\r\n/**\r\n * Changes the health of the player by the amount given.\r\n * @param {*} data The data sent by the client. Contains:\r\n *  - damage (number)\r\n *  - player (id string of player that was hit)\r\n *  - id (id string of compound)\r\n *  - sentBy (id string of player that sent compound)\r\n * @param {string} room This room.\r\n * @param {*} socket This socket.\r\n * Must include the player id and amount to damage.\r\n * Amount may be negative (for health boost).\r\n */\r\nexport function damage (data, room, socket) {\r\n\tlet thisRoom = getField(['rooms', room])\r\n\tlet thisPlayer = thisRoom.players[data.player]\r\n\r\n\tif (thisPlayer !== undefined) {\r\n\t\t// thisPlayer.health -= data.damage;\r\n\t\tif (data.damage > thisPlayer.shield) {\r\n\t\t\tsetField(thisPlayer.health - data.damage + thisPlayer.shield, ['rooms', room, 'players', data.player, 'health'])\r\n\t\t\t// Send damage indicator data\r\n\t\t\tsmartEmit(socket, room, 'serverSendDamageIndicator', {\r\n\t\t\t\tdamage: data.damage - thisPlayer.shield,\r\n\t\t\t\tposX: thisPlayer.posX,\r\n\t\t\t\tposY: thisPlayer.posY\r\n\t\t\t})\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsmartEmit(socket, room, 'serverSendDamageIndicator', {\r\n\t\t\t\tdamage: data.damage - thisPlayer.shield,\r\n\t\t\t\tposX: thisPlayer.posX,\r\n\t\t\t\tposY: thisPlayer.posY\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// Add damage to database\r\n\t\tif (thisPlayer.damagedBy[data.sentBy] === undefined) {\r\n\t\t\tsetField(0, ['rooms', room, 'players', data.player, 'damagedBy', data.sentBy])\r\n\t\t}\r\n\t\t// thisPlayer.damagedBy[data.sentBy] += data.damage;\r\n\t\tsetField(thisPlayer.damagedBy[data.sentBy] + data.damage, ['rooms', room, 'players', data.player, 'damagedBy', data.sentBy])\r\n\r\n\t\t// Check if the player has died.\r\n\t\tif (thisPlayer.health <= 0) {\r\n\t\t\t// console.log(thisRoom.teams.indexOf(socket.handshake.query.team));\r\n\r\n\t\t\t// Releases atoms and deletes the entire atoms array in player\r\n\t\t\tfor (let at in thisPlayer.atomList) {\r\n\t\t\t\tfor (let i = 0; i < GLOBAL.MAX_DEATH_ATOMS && i < thisPlayer.atomList[at]; i++) {\r\n\t\t\t\t\tspawnAtom(thisPlayer.posX, thisPlayer.posY, at, room, 'all', false)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (let at in thisPlayer.atomList) {\r\n\t\t\t\tsetField(0, ['rooms', room, 'players', data.player, 'atomList', at])\r\n\t\t\t}\r\n\r\n\t\t\t// Set defense to 0\r\n\t\t\tsetField(0, ['rooms', room, 'players', data.player, 'shield'])\r\n\r\n\t\t\t// Reset position to spawnpoint\r\n\t\t\tsetField(GLOBAL.SPAWN_POINTS[getTeamNumber(room, thisPlayer.team)].x * GLOBAL.GRID_SPACING * 2, ['rooms', room, 'players', data.player, 'posX'])\r\n\t\t\tsetField(GLOBAL.SPAWN_POINTS[getTeamNumber(room, thisPlayer.team)].y * GLOBAL.GRID_SPACING * 2, ['rooms', room, 'players', data.player, 'posY'])\r\n\t\t\tsetField(GLOBAL.MAX_HEALTH, ['rooms', room, 'players', data.player, 'health'])\r\n\t\t\tsetField(true, ['rooms', room, 'players', data.player, 'dead']) // This will be reset when it has been verified that the player has been placed at the proper spawnpoint\r\n\r\n\t\t\t// Send player death info to client only if the player being checked is equal to the player dying\r\n\t\t\tlet pl = getField(['rooms', room, 'players', data.player])\r\n\r\n\t\t\tsmartEmit(socket, room, 'serverSendPlayerDeath', { posX: pl.posX, posY: pl.posY, vx: pl.vx, vy: pl.vy }, data.player)\r\n\r\n\t\t\t// Announce death. TODO make some cool messages\r\n\t\t\tsmartEmit(socket, room, 'serverAnnouncement', {\r\n\t\t\t\tmessage: pl.name + ' was obliterated by ' + getField(['rooms', room, 'players', data.sentBy, 'name']),\r\n\t\t\t\tsendingTeam: pl.team\r\n\t\t\t})\r\n\r\n\t\t\t// Check if the nucleus has died\r\n\t\t\tif (getField(['rooms', room, 'tiles', 'n' + getTeamNumber(room, pl.team), 'captured'])) {\r\n\t\t\t\t// Announce final death\r\n\t\t\t\tsmartEmit(socket, room, 'serverAnnouncement', {\r\n\t\t\t\t\tmessage: 'FINAL KILL!!!',\r\n\t\t\t\t\tsendingTeam: pl.team\r\n\t\t\t\t})\r\n\r\n\t\t\t\tsetField(true, ['rooms', room, 'players', data.player, 'spectating'])\r\n\t\t\t}\r\n\r\n\t\t\t// Check if a team was eliminated\r\n\t\t\tif (data.id !== undefined) {\r\n\t\t\t\tfor (let team of getField(['rooms', room, 'teams'])) {\r\n\t\t\t\t\t// console.log(team)\r\n\t\t\t\t\tif (!team.dead) {\r\n\t\t\t\t\t\tlet stillAlive = false\r\n\t\t\t\t\t\tfor (let player of team.players) {\r\n\t\t\t\t\t\t\tif (!getField(['rooms', room, 'players', player, 'spectating'])) {\r\n\t\t\t\t\t\t\t\tstillAlive = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!stillAlive) {\r\n\t\t\t\t\t\t\t// Announce elimination of team\r\n\t\t\t\t\t\t\tteam.dead = true\r\n\t\t\t\t\t\t\tsmartEmit(socket, room, 'serverAnnouncement', {\r\n\t\t\t\t\t\t\t\tmessage: team.name + ' has been eliminated!',\r\n\t\t\t\t\t\t\t\tsendingTeam: team.name\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t// Check if a team has won\r\n\t\t\t\t\t\t\tlet deadCount = 0\r\n\t\t\t\t\t\t\tlet notDeadTeam = null\r\n\t\t\t\t\t\t\tfor (let team of getField(['rooms', room, 'teams'])) {\r\n\t\t\t\t\t\t\t\tif (team.dead) {\r\n\t\t\t\t\t\t\t\t\tdeadCount++\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tnotDeadTeam = team.name\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log(deadCount)\r\n\t\t\t\t\t\t\tconsole.log(notDeadTeam)\r\n\r\n\t\t\t\t\t\t\t// A team has won!\r\n\t\t\t\t\t\t\tif (deadCount === getField(['rooms', room, 'teams']).length - 1) {\r\n\t\t\t\t\t\t\t\tlet dataToSend = {\r\n\t\t\t\t\t\t\t\t\twinner: notDeadTeam\r\n\t\t\t\t\t\t\t\t\t// teamScore: thisRoom.teams[dataToSend.teamSlot].score\r\n\t\t\t\t\t\t\t\t\t// other data here TODO post ranking\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsmartEmit(socket, room, 'serverSendWinner', dataToSend)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// // Award points (TODO)_\r\n\t\t\t// if (data.id !== undefined) {\r\n\t\t\t// \t// Read damagedBy to award points, clear in the process\r\n\t\t\t// \tlet max = null\r\n\t\t\t// \tlet dataToSend\r\n\t\t\t// \tfor (let pl in thisPlayer.damagedBy) {\r\n\t\t\t// \t\tdataToSend = {\r\n\t\t\t// \t\t\tplayer: pl,\r\n\t\t\t// \t\t\tteamSlot: getTeamNumber(room, thisRoom.compounds[data.id].sendingTeam),\r\n\t\t\t// \t\t\tincrement: GLOBAL.ASSIST_SCORE,\r\n\t\t\t// \t\t\tkill: false\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t\t// Add to team score, checking if team score is initialized\r\n\t\t\t// \t\tsetField((thisRoom.teams[dataToSend.teamSlot].score === undefined) ? dataToSend.increment : thisRoom.teams[dataToSend.teamSlot].score + dataToSend.increment, ['rooms', room, 'teams', dataToSend.teamSlot, 'score'])\r\n\r\n\t\t\t// \t\tsocket.to(room).broadcast.emit('serverSendScoreUpdate', dataToSend)\r\n\t\t\t// \t\tsocket.emit('serverSendScoreUpdate', dataToSend)\r\n\t\t\t// \t\tif (max === null || thisPlayer.damagedBy[pl] > thisPlayer.damagedBy[max]) {\r\n\t\t\t// \t\t\tmax = pl\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\r\n\t\t\t// \t// Add to score of person who dealt the most damage\r\n\t\t\t// \tdataToSend.player = max\r\n\t\t\t// \tdataToSend.increment = GLOBAL.KILL_SCORE - GLOBAL.ASSIST_SCORE\r\n\t\t\t// \tdataToSend.kill = true\r\n\t\t\t// \tsocket.to(room).broadcast.emit('serverSendScoreUpdate', dataToSend)\r\n\t\t\t// \tsocket.emit('serverSendScoreUpdate', dataToSend)\r\n\r\n\t\t\t// \t// Add to team score\r\n\t\t\t// \tincrementField(dataToSend.increment, ['rooms', room, 'teams', dataToSend.teamSlot, 'score'])\r\n\r\n\t\t\t// \t// Clear damagedBy values\r\n\t\t\t// \tfor (let pl in thisPlayer.damagedBy) {\r\n\t\t\t// \t\tsetField(0, ['rooms', room, 'players', data.player, 'damagedBy', pl])\r\n\t\t\t// \t}\r\n\r\n\t\t\t// \t// Check if a team won\r\n\t\t\t// \tlet highScores = [] // Possible winning teams\r\n\t\t\t// \tlet maxScore = 0\r\n\t\t\t// \tfor (let tm of thisRoom.teams) {\r\n\t\t\t// \t\tif (tm.score >= GLOBAL.WINNING_SCORE) {\r\n\t\t\t// \t\t\thighScores.push(tm)\r\n\t\t\t// \t\t\tif (maxScore < tm.score) {\r\n\t\t\t// \t\t\t\tmaxScore = tm.score\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// \tfor (let winningTm of highScores) {\r\n\t\t\t// \t\tif (winningTm.score === maxScore) {\r\n\t\t\t// \t\t\tlet dataToSend = {\r\n\t\t\t// \t\t\t\twinner: winningTm\r\n\t\t\t// \t\t\t\t// teamScore: thisRoom.teams[dataToSend.teamSlot].score\r\n\t\t\t// \t\t\t\t// other data here TODO post ranking\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t\tsocket.to(room).broadcast.emit('serverSendWinner', dataToSend)\r\n\t\t\t// \t\t\tsocket.emit('serverSendWinner', dataToSend)\r\n\r\n\t\t\t// \t\t\t// Close room after delay (kick all players)\r\n\t\t\t// \t\t\tsetTimeout(() => {\r\n\t\t\t// \t\t\t\tsocket.emit('serverSendDisconnect', {})\r\n\t\t\t// \t\t\t\tsocket.to(room).broadcast.emit('serverSendDisconnect', {})\r\n\t\t\t// \t\t\t}, GLOBAL.ROOM_DELETE_DELAY)\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tconsole.warn('Player of ID ' + data.player + ' couldn\\'t be damaged because they don\\'t exist!')\r\n\t}\r\n}\r\n\r\nexport function damageTile (tileID, damageAmount, player, room, socket) {\r\n\tincrementField(-damageAmount, ['rooms', room, 'tiles', tileID, 'health'])\r\n\r\n\t// console.log('tile ' + tileID + ' is now at ' + getField(['rooms', room, 'tiles', tileID, 'health']))\r\n\tlet hpData = {\r\n\t\tnewHealth: getField(['rooms', room, 'tiles', tileID, 'health']),\r\n\t\ttileX: getField(['rooms', room, 'tiles', tileID, 'globalX']),\r\n\t\ttileY: getField(['rooms', room, 'tiles', tileID, 'globalY'])\r\n\t}\r\n\r\n\tsmartEmit(socket, room, 'serverSendTileHealth', hpData)\r\n\r\n\t// Check if tile is fully captured\r\n\tif (getField(['rooms', room, 'tiles', tileID, 'health']) <= 0) {\r\n\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\tif (getField(['rooms', room, 'teams', i]).name === getField(['rooms', room, 'players', player, 'team'])) {\r\n\t\t\t\t// Notify clients of texture change\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tteamNumber: i,\r\n\t\t\t\t\ttileX: getField(['rooms', room, 'tiles', tileID, 'globalX']),\r\n\t\t\t\t\ttileY: getField(['rooms', room, 'tiles', tileID, 'globalY'])\r\n\t\t\t\t}\r\n\t\t\t\tsmartEmit(socket, room, 'serverSendTileCapture', data)\r\n\t\t\t\tlet tileCaptureMSG = {\r\n\t\t\t\t\tmessage: 'A ' + getField(['rooms', room, 'tiles', tileID, 'type']) + ' has been captured by ' + getField(['rooms', room, 'players', player, 'name']),\r\n\t\t\t\t\tsendingTeam: getField(['rooms', room, 'players', player, 'team'])\r\n\t\t\t\t}\r\n\t\t\t\tsmartEmit(socket, room, 'serverAnnouncement', tileCaptureMSG)\r\n\r\n\t\t\t\t// Set capture status\r\n\t\t\t\tsetField(true, ['rooms', room, 'tiles', tileID, 'captured'])\r\n\t\t\t\tsetField(getField(['rooms', room, 'players', player, 'team']), ['rooms', room, 'tiles', tileID, 'owner'])\r\n\r\n\t\t\t\t// Distribute points\r\n\t\t\t\tincrementField(GLOBAL.CAPTURE_SCORE, ['rooms', room, 'teams', i, 'score'])\r\n\r\n\t\t\t\t// Reset health\r\n\t\t\t\tsetField(GLOBAL[('MAX_' + getField(['rooms', room, 'tiles', tileID, 'type']) + '_HEALTH').toUpperCase()], ['rooms', room, 'tiles', tileID, 'health'])\r\n\t\t\t\tlet hpData = {\r\n\t\t\t\t\tnewHealth: getField(['rooms', room, 'tiles', tileID, 'health']),\r\n\t\t\t\t\ttileX: getField(['rooms', room, 'tiles', tileID, 'globalX']),\r\n\t\t\t\t\ttileY: getField(['rooms', room, 'tiles', tileID, 'globalY'])\r\n\t\t\t\t}\r\n\t\t\t\tsmartEmit(socket, room, 'serverSendTileHealth', hpData)\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * TODO\r\n */\r\nexport function splash () {\r\n\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/ondamage.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 264,
    "kind": "function",
    "name": "damage",
    "memberof": "src/server/utils/ondamage.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/ondamage.js~damage",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/ondamage.js",
    "importStyle": "{damage}",
    "description": "Changes the health of the player by the amount given.",
    "lineNumber": 26,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "The data sent by the client. Contains:\n - damage (number)\n - player (id string of player that was hit)\n - id (id string of compound)\n - sentBy (id string of player that sent compound)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "This room."
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "This socket.\nMust include the player id and amount to damage.\nAmount may be negative (for health boost)."
      }
    ],
    "return": null
  },
  {
    "__docId__": 265,
    "kind": "function",
    "name": "damageTile",
    "memberof": "src/server/utils/ondamage.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/ondamage.js~damageTile",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/ondamage.js",
    "importStyle": "{damageTile}",
    "description": null,
    "lineNumber": 222,
    "undocument": true,
    "params": [
      {
        "name": "tileID",
        "types": [
          "*"
        ]
      },
      {
        "name": "damageAmount",
        "types": [
          "*"
        ]
      },
      {
        "name": "player",
        "types": [
          "*"
        ]
      },
      {
        "name": "room",
        "types": [
          "*"
        ]
      },
      {
        "name": "socket",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 266,
    "kind": "function",
    "name": "splash",
    "memberof": "src/server/utils/ondamage.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/ondamage.js~splash",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/ondamage.js",
    "importStyle": "{splash}",
    "description": "TODO",
    "lineNumber": 275,
    "params": [],
    "return": null
  },
  {
    "__docId__": 267,
    "kind": "file",
    "name": "src/server/utils/serverinit.js",
    "content": "import { getField, setField } from '../server'\r\nimport { MAP_LAYOUT, TILES, TILE_NAMES } from '../../client/js/obj/tiles'\r\nimport { generateID, GLOBAL } from '../../client/js/global'\r\nimport { spawnAtomAtVent } from './atoms'\r\nimport colors from 'colors' // Console colors :D\r\nimport { frameSync } from './framesync'\r\n\r\n/**\r\n * Methods to run on server initialization and player connect initialization.\r\n */\r\n\r\n/**\r\n * Global initialiation. Run once on server start.\r\n */\r\nexport function initGlobal() {\r\n\t// Set up atom spawning three times a second. This is processed outside of the player specific behavior because more players joining !== more resources spawn.\r\n\tsetInterval(() => {\r\n\t\tfor (let room in getField(['rooms'])) {\r\n\t\t\tif (getField(['rooms', room, 'started'])) {\r\n\t\t\t\tlet tiles = getField(['rooms', room, 'tiles'])\r\n\t\t\t\tfor (let tile in tiles) {\r\n\t\t\t\t\tif (tiles[tile].type === 'spawner') {\r\n\t\t\t\t\t\tspawnAtomAtVent(tiles[tile].globalY, tiles[tile].globalX, room, tiles[tile].owner, false)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, GLOBAL.ATOM_SPAWN_DELAY)\r\n\r\n\t// Timer\r\n\tsetInterval(() => {\r\n\t\tfor (let room in getField(['rooms'])) {\r\n\t\t\tif (getField(['rooms', room, 'started'])) {\r\n\t\t\t\tlet seconds = getField(['rooms', room, 'time', 'seconds'])\r\n\r\n\t\t\t\tlet minutes = getField(['rooms', room, 'time', 'minutes'])\r\n\r\n\t\t\t\t// Equivalent to rooms[room].time.seconds++;\r\n\t\t\t\tsetField(seconds + 1, ['rooms', room, 'time', 'seconds'])\r\n\r\n\t\t\t\tif (seconds >= 60) {\r\n\t\t\t\t\tsetField(0, ['rooms', room, 'time', 'seconds'])\r\n\t\t\t\t\tsetField(minutes + 1, ['rooms', room, 'time', 'minutes'])\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set formatted Time\r\n\t\t\t\tsetField(minutes + ':' + ((seconds < 10) ? '0' : '') + seconds, ['rooms', room, 'time', 'formattedTime'])\r\n\t\t\t}\r\n\t\t}\r\n\t}, 1000)\r\n}\r\n\r\n/**\r\n * Run on every player join.\r\n * @param {*} socket The socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n * @param {string} room The name of the room that the player belongs to\r\n * @param {string} team The name of the team that the player belongs to\r\n */\r\nexport function initPlayer(socket, room, team) {\r\n\t// Initialize room array and spawn atoms on first player join\r\n\tlet thisRoom = getField(['rooms', room])\r\n\r\n\t// This is sloppy, but idk what's happening\r\n\tif (!thisRoom) {\r\n\t\tconsole.log('Room ' + room + ' was undefined, kicking player ' + socket.id)\r\n\t\tsocket.emit('connectionError', { msg: 'The room ' + room + ' could not be joined at this moment, please try again shortly.' })\r\n\t\treturn -1\r\n\t}\r\n\r\n\t// Set up capturable tiles\r\n\tsetField({}, ['rooms', room, 'tiles'])\r\n\t// TODO support multiple map layouts\r\n\tfor (let row = 0; row < MAP_LAYOUT.length; row++) {\r\n\t\tfor (let col = 0; col < MAP_LAYOUT[row].length; col++) {\r\n\t\t\tlet currTile = TILES[TILE_NAMES[MAP_LAYOUT[row][col]]]\r\n\t\t\tif (currTile.type === 'spawner' || currTile.type === 'stronghold' || currTile.type === 'nucleus') {\r\n\t\t\t\t// Tile ID is randomized for everything except nucleus, which are equal to nx where x is a number from 0 to 3\r\n\t\t\t\tlet tileID = (currTile.type === 'nucleus') ? MAP_LAYOUT[row][col] : generateID()\r\n\r\n\t\t\t\tsetField({\r\n\t\t\t\t\tid: tileID,\r\n\t\t\t\t\ttype: currTile.type,\r\n\t\t\t\t\tglobalX: col,\r\n\t\t\t\t\tglobalY: MAP_LAYOUT.length - row - 1,\r\n\t\t\t\t\tcaptured: false,\r\n\t\t\t\t\towner: 'all',\r\n\t\t\t\t\thealth: GLOBAL[('MAX_' + currTile.type + '_HEALTH').toUpperCase()]\r\n\t\t\t\t}, ['rooms', room, 'tiles', tileID])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// console.log(getField(['teams', team, 'players']))\r\n\r\n\t// // Check if room is full\r\n\t// if (((thisRoom.type === '4v4' || thisRoom.type === '2v2') && thisRoom.teams.length === 2) || thisRoom.teams.length === 4) {\r\n\t// \tsetField(false, ['rooms', room, 'joinable'])\r\n\t// }\r\n\r\n\t// Create new player in rooms object\r\n\tsetField({\r\n\t\tid: socket.id,\r\n\t\tname: socket.handshake.query.name,\r\n\t\troom: socket.handshake.query.room,\r\n\t\tteam: team,\r\n\t\thealth: GLOBAL.MAX_HEALTH,\r\n\t\tposX: GLOBAL.SPAWN_POINTS[thisRoom.teams.length - 1].x * GLOBAL.GRID_SPACING * 2,\r\n\t\tposY: GLOBAL.SPAWN_POINTS[thisRoom.teams.length - 1].y * GLOBAL.GRID_SPACING * 2,\r\n\t\tvx: 0,\r\n\t\tvy: 0,\r\n\t\texperience: 0,\r\n\t\tdamagedBy: {},\r\n\t\tshield: 0,\r\n\t\tisSpectating: false\r\n\t}, ['rooms', room, 'players', socket.id])\r\n}\r\n\r\n/**\r\n * Run when the first person joins a new room that has not been initialized yet.\r\n * @param {*} socket socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)\r\n * @param {string} roomName The name of the room\r\n */\r\nexport function initRoom(socket, roomName) {\r\n\tconsole.log('[Server] '.bold.blue + 'Setting up room '.yellow + ('' + roomName).bold.red + ' as type ' + socket.handshake.query.roomType)\r\n\tsetField({\r\n\t\tjoinable: true,\r\n\t\tteams: [],\r\n\t\tatoms: {},\r\n\t\tcompounds: {},\r\n\t\ttype: socket.handshake.query.roomType,\r\n\t\ttime: {\r\n\t\t\tframes: 0,\r\n\t\t\tminutes: 0,\r\n\t\t\tseconds: 0,\r\n\t\t\tformattedTime: '0:00'\r\n\t\t}\r\n\t}, ['rooms', roomName])\r\n\r\n\t// Start frame sync\r\n\t// Setup room sync- once a frame\r\n\tsetInterval(() => {\r\n\t\tframeSync(socket, roomName)\r\n\t}, 1000 / 60)\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/serverinit.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 268,
    "kind": "function",
    "name": "initGlobal",
    "memberof": "src/server/utils/serverinit.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverinit.js~initGlobal",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverinit.js",
    "importStyle": "{initGlobal}",
    "description": "Global initialiation. Run once on server start.",
    "lineNumber": 15,
    "params": [],
    "return": null
  },
  {
    "__docId__": 269,
    "kind": "function",
    "name": "initPlayer",
    "memberof": "src/server/utils/serverinit.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverinit.js~initPlayer",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverinit.js",
    "importStyle": "{initPlayer}",
    "description": "Run on every player join.",
    "lineNumber": 59,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "The socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The name of the room that the player belongs to"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "team",
        "description": "The name of the team that the player belongs to"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 270,
    "kind": "function",
    "name": "initRoom",
    "memberof": "src/server/utils/serverinit.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverinit.js~initRoom",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverinit.js",
    "importStyle": "{initRoom}",
    "description": "Run when the first person joins a new room that has not been initialized yet.",
    "lineNumber": 123,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "socket.io instance. INDEPENDENT OF PLAYER (any valid socket connection can go here!!!!!)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "roomName",
        "description": "The name of the room"
      }
    ],
    "return": null
  },
  {
    "__docId__": 271,
    "kind": "file",
    "name": "src/server/utils/serverutils.js",
    "content": "import { getField } from '../server'\r\nimport { GLOBAL } from '../../client/js/global'\r\n\r\n/**\r\n * Misc. standalone utilities for the server.\r\n */\r\n\r\n/**\r\n * Returns the index of the given team within the team array of the given room.\r\n * @param {string} room The room name to check\r\n * @param {string} teamName The team name to return the number of\r\n */\r\nexport function getTeamNumber (room, teamName) {\r\n\tfor (let i = 0; i < getField(['rooms', room, 'teams']).length; i++) {\r\n\t\tif (getField(['rooms', room, 'teams'])[i].name === teamName) {\r\n\t\t\treturn i\r\n\t\t}\r\n\t}\r\n\r\n\treturn -1 // Team not found\r\n}\r\n\r\n/**\r\n * Returns the team colors object (see client socket.js for more information on the format)\r\n * @param {string} room The room name to check\r\n */\r\nexport function getTeamColors (room) {\r\n\tlet teamObj = getField(['rooms', room, 'teams'])\r\n\r\n\tlet result = {}\r\n\tfor (let i = 0; i < 4; i++) {\r\n\t\tif (teamObj[i]) {\r\n\t\t\tresult[teamObj[i].name] = i\r\n\t\t}\r\n\t}\r\n\treturn result\r\n}\r\n\r\n/**\r\n * Returns the serverside ID of the tile at this location.\r\n * If the tile is not capturable, then returns false.\r\n * @param {*} globalLocation Contains globalX and globalY. Location on the map\r\n * @param {string} room The room name to check\r\n */\r\nexport function getTileID (globalLocation, room) {\r\n\tfor (let tileID in getField(['rooms', room, 'tiles'])) {\r\n\t\tlet tile = getField(['rooms', room, 'tiles', tileID])\r\n\t\tif (tile.globalX === globalLocation.globalX && tile.globalY === globalLocation.globalY) {\r\n\t\t\treturn tileID\r\n\t\t}\r\n\t}\r\n\r\n\treturn false\r\n}\r\n\r\n/**\r\n * @param {*} socket The socket.io instance (independent)\r\n * @param {string} room Name of the room to emit to.\r\n * @param {string} emitName Name of the emit event, used to match on the clientside.\r\n * @param {*} emitContent What content to send over. This can be any object.\r\n * @param {string} to (OPTIONAL) What ID to send the emit to. Default: sends to all players.\r\n */\r\nexport function smartEmit(socket, room, emitName, emitContent, to = '_ALL') {\r\n\tif (to === '_ALL') {\r\n\t\tsocket.to(room).emit(emitName, emitContent)\r\n\t\tsocket.emit(emitName, emitContent)\r\n\t}\r\n\telse {\r\n\t\tif (to === socket.id) {\r\n\t\t\tsocket.emit(emitName, emitContent)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsocket.to(to).emit(emitName, emitContent)\r\n\t\t}\r\n\t}\r\n}\r\n",
    "static": true,
    "longname": "c:/Users/BenCu/Documents/AtomBlast.io/src/server/utils/serverutils.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 272,
    "kind": "function",
    "name": "getTeamNumber",
    "memberof": "src/server/utils/serverutils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverutils.js~getTeamNumber",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverutils.js",
    "importStyle": "{getTeamNumber}",
    "description": "Returns the index of the given team within the team array of the given room.",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The room name to check"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "teamName",
        "description": "The team name to return the number of"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 273,
    "kind": "function",
    "name": "getTeamColors",
    "memberof": "src/server/utils/serverutils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverutils.js~getTeamColors",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverutils.js",
    "importStyle": "{getTeamColors}",
    "description": "Returns the team colors object (see client socket.js for more information on the format)",
    "lineNumber": 27,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The room name to check"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 274,
    "kind": "function",
    "name": "getTileID",
    "memberof": "src/server/utils/serverutils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverutils.js~getTileID",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverutils.js",
    "importStyle": "{getTileID}",
    "description": "Returns the serverside ID of the tile at this location.\nIf the tile is not capturable, then returns false.",
    "lineNumber": 45,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "globalLocation",
        "description": "Contains globalX and globalY. Location on the map"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "The room name to check"
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 275,
    "kind": "function",
    "name": "smartEmit",
    "memberof": "src/server/utils/serverutils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/utils/serverutils.js~smartEmit",
    "access": "public",
    "export": true,
    "importPath": "atomblast.io/src/server/utils/serverutils.js",
    "importStyle": "{smartEmit}",
    "description": "",
    "lineNumber": 63,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "socket",
        "description": "The socket.io instance (independent)"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "room",
        "description": "Name of the room to emit to."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "emitName",
        "description": "Name of the emit event, used to match on the clientside."
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "emitContent",
        "description": "What content to send over. This can be any object."
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "to",
        "description": "(OPTIONAL) What ID to send the emit to. Default: sends to all players."
      }
    ],
    "return": null
  },
  {
    "kind": "index",
    "content": "# AtomBlast.io\r\nA proof-of-concept multiplayer arena game where players battle at the atomic level, crafting elements to devastate opponents and capture their nucleus!\r\n\r\n## Important Note\r\nDue to the unsustainably large scope of this project, the massive amount of existing bugs/quirks/performance issues, and a lack of focus in regards to design, the AtomBlast project has been **discontinued indefinitely** with no plans to resume development in the future.\r\n\r\n**With that being said, however, I believe that what we achieved with this existing proof-of-concept is far from trivial, and we hope the code base can be used by other developers (maybe you??) to continue this game or use its code to create something altogether different.** Some dev-related features we achieved with AtomBlast include:\r\n - A client-server game system written in pure Javascript with Socket.io working together with PixiJS for a seamless websocket send/request callback system,\r\n - A simple matchmmaking system for creating and populating an arbitrary amount of server rooms,\r\n - A custom tiling manager that allows easy map generation given a simple 2D array of strings,\r\n - A chat system with custom commands,\r\n - An object abstraction in PixiJS for handling interactions, movement inputs, and inheritance structures,\r\n - A webapp runnable by anyone to self-host game servers,\r\n - And many more small but not insignificant features that are outlined in the document below.\r\n\r\n[Click here](https://docs.google.com/document/d/1ZGnYwhiIQsNdGobX5avQVrTenKA4hU-TRgqMUDB4ums/edit) to view our developer doc that describes the code design of the game.\r\n\r\n## Setting up and joining your own AtomBlast server\r\nSince the project has been discontinued, we are no longer offering a demo server, so if you want to try the game for yourself we recommend you self-host. (It's actually really easy!)\r\n\r\n1. [Download and extract the game files](https://github.com/BananiumLabs/AtomBlast.io/archive/master.zip) or run `git clone https://github.com/BananiumLabs/AtomBlast.io.git`.\r\n2. [Download Node.js](https://nodejs.org/en/) if you haven't already.\r\n3. Using your terminal of choice, run `npm i` to install dependencies.\r\n4. Run `npm start`. You should see a message that the server has started on port 12002. (Customize this port in `src/server/config.json`.)\r\n5. Open your browser of choice and type `localhost:12002`.\r\n6. If you want to play with friends in the local network, run `ip addr` on Linux or `ipconfig` in Windows to see your local IP (should start with `192.168...`) and ask them to connect to `192.168.x.xxx:12002` replacing the x's with the numbers in your local IP.\r\n7. If you want to host an online server, look up how to port forward or host on a webserver. \r\n\r\n## Game Features in this Proof-Of-Concept\r\n\r\nAlthough the game is not complete, it is fully playable and has the following features implemented:\r\n - Matchmmaking and multiplayer: autojoin a room/team, or make your own custom room/team!\r\n - Chat: Send messages to the room, or view announcements for events such as tile captures.\r\n - Atom spawning/collection/inventory: Head over to spawners to collect atoms for crafting!\r\n - Tile capturing: Reduce a tile's HP to capture it for your own team!\r\n - Customizable loadouts: Choose which compounds you want to play with!\r\n - Crafting: Compounds require a certain number of compounds to craft!\r\n - Compound types: Flammable, Health, Speed, Stream, Barrier. View the compound selection menu to learn more!\r\n\r\n## How to Play\r\n\r\n - WASD to move\r\n - Left click or Space to shoot/craft\r\n - 1,2,3,4 to select compound to craft\r\n - Esc for menu\r\n\r\n## Documentation\r\n\r\nCoverage: [![Inline docs](https://inch-ci.org/github/BananiumLabs/AtomBlast.io.svg?branch=pixi)](https://inch-ci.org/github/BananiumLabs/AtomBlast.io)\r\n\r\n[Click here](https://docs.google.com/document/d/1WfPeLDOq0typScXC974l0_CQz-JU2uzMb1uliLe71E4/edit#) to view our concept doc. \r\n\r\n[Click here](https://docs.google.com/document/d/1ZGnYwhiIQsNdGobX5avQVrTenKA4hU-TRgqMUDB4ums/edit) to view our developer doc that describes the code design of the game.\r\n\r\n[Click here](https://bananiumlabs.github.io/AtomBlast.io/) to view the API reference.\r\n\r\n\r\n**If when running nodemon it gives an error `EADDRINUSE`, run this: `kill -9 $(lsof -t -i:12002)`**\r\n\r\n## Contact\r\n\r\nIf you would like additional information about AtomBlast, have any questions/comments, or just would like to get in touch, shoot an email to hello@bencuan.me.",
    "longname": "c:\\Users\\BenCu\\Documents\\AtomBlast.io\\README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\r\n  \"name\": \"atomblast.io\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"First attempt at multiplayer online io game\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"(jest && printf \\\" \\\\033[1;40;32m Unit testing passed.\\\\033[m \\\") || (printf \\\" \\\\033[1;41;33m Unit testing failed.\\\\033[m \\\" && exit 1)\",\r\n    \"watch\": \"watchify src/client/js/app.js -o src/client/js/public/build.js -v\",\r\n    \"server\": \"nodemon src/server/entry.js\",\r\n    \"start\": \"npm-run-all --parallel watch server\",\r\n    \"build\": \"browserify src/client/js/app.js -o  src/client/js/public/build.js\",\r\n    \"lint\": \"chmod +x ./scripts/lint.sh && bash -c \\\"./scripts/lint.sh\\\"\",\r\n    \"lint-compatibility-mode\": \"./node_modules/.bin/eslint ./src/\",\r\n    \"fix-lint\": \"chmod +x ./scripts/fix_lint.sh && bash -c \\\"./scripts/fix_lint.sh\\\"\",\r\n    \"test-env\": \"chmod +x ./scripts/test_env.sh && bash -c \\\"./scripts/test_env.sh\\\"\",\r\n    \"precommitold\": \"npm run -s lint && printf \\\"Running unit testing..\\\" && npm test\",\r\n    \"docs\": \"esdoc\",\r\n    \"update\": \"node node_modules/npm-check/bin/cli.js -u\",\r\n    \"disableannoyinglineendingwarning\": \"git config --global core.safecrlf false && printf \\\"Annoying line ending warnings has been disabled.\\\"\",\r\n    \"generate-spritesheet\": \"spritesheet-js src/client/assets/spritesheet/*/*/*.png src/client/assets/spritesheet/*/*.png --path src/client/assets/ --padding 5\"\r\n  },\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"https://github.com/BananiumLabs/AtomBlast.io.git\"\r\n  },\r\n  \"keywords\": [\r\n    \"io\",\r\n    \"game\",\r\n    \"atomblast\",\r\n    \"atom\",\r\n    \"pixi\"\r\n  ],\r\n  \"author\": \"Bananium Labs\",\r\n  \"license\": \"MIT\",\r\n  \"contributors\": [\r\n    \"Ben Cuan <ben@bananiumlabs.com> (https://github.com/dbqeo)\",\r\n    \"Vikram Peddinti <vikram@bananiumlabs.com> (https://github.com/darkflamex1)\",\r\n    \"Eric Qian <eric@enumc.com> (https://github.com/EnumC)\"\r\n  ],\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/BananiumLabs/AtomBlast.io/issues\"\r\n  },\r\n  \"homepage\": \"https://github.com/BananiumLabs/AtomBlast.io#readme\",\r\n  \"dependencies\": {\r\n    \"babel-preset-env\": \"^1.7.0\",\r\n    \"babel-register\": \"^6.26.0\",\r\n    \"colors\": \"^1.3.3\",\r\n    \"express\": \"^4.16.4\",\r\n    \"nipplejs\": \"^0.8.0\",\r\n    \"pixi.js\": \"^4.8.4\",\r\n    \"socket.io\": \"^2.2.0\",\r\n    \"sweetalert\": \"^2.1.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"babel-core\": \"^6.26.3\",\r\n    \"babel-preset-es2015\": \"^6.24.1\",\r\n    \"babelify\": \"^8.0.0\",\r\n    \"browserify\": \"^16.2.3\",\r\n    \"esdoc\": \"^1.1.0\",\r\n    \"esdoc-standard-plugin\": \"^1.0.0\",\r\n    \"eslint\": \"^5.11.1\",\r\n    \"husky\": \"^1.3.1\",\r\n    \"jest\": \"^23.6.0\",\r\n    \"nodemon\": \"^1.18.9\",\r\n    \"npm-check\": \"^5.9.0\",\r\n    \"npm-run-all\": \"^4.1.5\",\r\n    \"npm-run-parallel\": \"^0.6.0\",\r\n    \"watchify\": \"^3.11.0\",\r\n    \"spritesheet-js\": \"^1.2.6\"\r\n  },\r\n  \"browserify\": {\r\n    \"transform\": [\r\n      [\r\n        \"babelify\",\r\n        {\r\n          \"presets\": [\r\n            \"es2015\"\r\n          ]\r\n        }\r\n      ]\r\n    ]\r\n  },\r\n  \"husky\": {\r\n    \"hooks\": {\r\n      \"pre-commit\": \"npm run -s lint && printf \\\"Generating Documentation...\\\" && npm run docs && printf \\\"===Documentation Generation Ended===\\\" \",\r\n      \"pre-push\": \"chmod +x ./scripts/prepush.sh && bash -c \\\"./scripts/prepush.sh\\\" \"\r\n    }\r\n  }\r\n}\r\n",
    "longname": "c:\\Users\\BenCu\\Documents\\AtomBlast.io\\package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]